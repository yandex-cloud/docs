# Шардированное копирование

Сервис {{ data-transfer-name }} может задействовать более одного потока исполнения для выполнения трансфера. Функция шардированного копирования позволяет существенно увеличить пропускную способность трансфера, позволяя использовать для трансфера больший объём ресурсов.

Возможности масштабирования ограничены особенностями базы-источника и переносимых данных. Не все источники поддерживают шардированное копирование. Алгоритм распределения данных по нескольким потокам исполнения (алгоритм шардирования) зависит от источника. По этой причине настройки шардированного копирования рекомендуется подбирать для каждого трансфера отдельно.

## Настройки {#settings}

По умолчанию шардированное копирование отключено. Для включения шардированного копирования необходимо задать корректные настройки трансфера.

{% list tabs %}

- Консоль управления

{% if audience != "internal" %}

  * **Среда выполнения**

    * **Количество воркеров** — количество воркеров, которые будут параллельно запущены для репликации данных на независимых виртуальных машинах. Каждая виртуальная машина имеет собственные ресурсы CPU и RAM и собственное сетевое подключение.

    * **Количество потоков** — количество потоков, которое будет запущено в каждом воркере. Один поток копирует одну таблицу или ее часть. Степень распараллеливания трансфера определяется произведением количества воркеров на количество потоков внутри воркера.

{% else %}

  * **Среда выполнения**

    * **Количество воркеров** — количество YT-джоб, которые будут задействованы для шардированного копирования. Каждая YT-джоба имеет собственные ресурсы CPU и RAM и собственное сетевое подключение.

    * **Количество потоков** — максимальное количество потоков исполнения, запускаемых в каждой YT-джобе.

{% endif %}

{% endlist %}
