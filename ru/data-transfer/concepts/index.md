---
title: "Взаимосвязь ресурсов сервиса {{ data-transfer-full-name }}"
description: "{{ data-transfer-full-name }} позволяет легко переносить данные между базами данных. Сервис позволяет сократить время на процесс миграции, минимизировать простой при переключении на новую базу данных или иметь постоянную реплику базы."
---

# Взаимосвязь ресурсов в {{ data-transfer-name }}

{{ data-transfer-full-name }} позволяет легко переносить данные между базами данных. Сервис позволяет сократить время на процесс миграции, минимизировать простой при переключении на новую базу данных или иметь постоянную реплику базы. Для переноса данных вам не нужно устанавливать драйверы, вся настройка делается в консоли управления. При трансфере {{ data-transfer-full-name }} также переносит схему базы данных из источника на приемник. Благодаря этому не нужно создавать схему данных на приемнике вручную.

## Эндпоинт {#endpoint}

_Эндпоинт_ — это конфигурация для подключения сервису-_источнику_ или _приемнику_ данных. Кроме настроек подключения, эндпоинт может содержать информацию о том, какие данные будут участвовать в трансфере и как они должны быть обработаны в процессе переноса.  

В качестве источника или приемника данных могут выступать:

* база данных {{ CH }} — собственная или в составе [сервиса {{ mch-short-name }}](../../managed-clickhouse);
* база данных {{ MG }} — собственная или в составе [сервиса {{ mmg-short-name }}](../../managed-mongodb);
* база данных {{ MY }} — собственная или в составе [сервиса {{ mmy-short-name }}](../../managed-mysql);
* база данных {{ PG }} — собственная или в составе [сервиса {{ mpg-short-name }}](../../managed-postgresql);
* топик {{ KF }} — собственный или в составе [сервиса {{ mkf-short-name }}](../../managed-kafka) (только в качестве источника);
* поток данных [{{ yds-full-name }}](../../data-streams) (только в качестве источника);
* база данных {{ ydb-name }} — в составе [сервиса {{ ydb-name }}](../../ydb) (только в качестве приемника);
* бакет [{{ objstorage-full-name }}](../../storage) (только в качестве приемника).

## Трансфер {#transfer}

_Трансфер_ — это процесс переноса данных между эндпоинтом-источником и эндпоинтом-приемником. Трансфер должен находиться в одном каталоге с эндпоинтами, которые он соединяет.

### Типы трансферов {#transfer-type}

Трансферы бывают следующих типов:

* {{ dt-copy }} — конечный процесс переноса снапшота базы данных.
* {{ dt-repl }} — процесс непрерывного получения изменений из базы данных источника и применения их к базе данных приемника.
* {{ dt-copy-repl }} — перенос и поддержка текущего состояния базы источника в базу приемника.

Подробнее об отличиях между разными типами трансферов читайте в разделе [{#T}](transfer-lifecycle.md).

### Совместимость эндпоинтов {#connectivity-matrix}

В качестве источника и приемника могут выступать разные СУБД. Доступные комбинации источников и приемников приведены в таблице:

| Источник \ Приемник | {{ CH }}                | {{ MG }}                | {{ MY }}                | {{ objstorage-name }}   | {{ PG }}                | {{ ydb-name }} |
|---------------------|:-----------------------:|:-----------------------:|:-----------------------:|:-----------------------:|:-----------------------:|:--------------:|
| {{ KF }}            | Репликация              | -                       | -                       | Репликация              | -                       | Репликация     |
| {{ CH }}            | Копирование             | -                       | -                       | Копирование             | -                       | -              |
| {{ MG }}            | -                       | Копирование, репликация | -                       | Копирование             | -                       | -              |
| {{ MY }}            | Копирование, репликация | -                       | Копирование, репликация | Копирование             | -                       | -              |
| {{ PG }}            | Копирование, репликация | -                       | -                       | Копирование             | Копирование, репликация | -              |
| {{ yds-full-name }} | Копирование, репликация | -                       | -                       | Копирование             | -                       | Репликация     |

Если на приемнике {{ CH }} включена репликация, то движки для воссоздания таблиц будут выбраны в зависимости от типа источника:

* При переносе данных из строковых СУБД будут использоваться движки [ReplicatedReplacingMergeTree](https://clickhouse.tech/docs/ru/engines/table-engines/mergetree-family/replication/) и [ReplacingMergeTree](https://clickhouse.tech/docs/ru/engines/table-engines/mergetree-family/replacingmergetree/).
* При переносе данных из {{ CH }} будут использоваться движки семейства [ReplicatedMergeTree](https://clickhouse.tech/docs/ru/engines/table-engines/mergetree-family/replication/).
