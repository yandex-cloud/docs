---
title: "Взаимосвязь ресурсов сервиса {{ data-transfer-full-name }}"
description: "{{ data-transfer-full-name }} позволяет легко переносить данные между базами данных. Сервис позволяет сократить время на процесс миграции, минимизировать простой при переключении на новую базу данных или иметь постоянную реплику базы."
---

# Взаимосвязь ресурсов в {{ data-transfer-name }}

{{ data-transfer-full-name }} помогает переносить данные между СУБД, объектными хранилищами или брокерами сообщений. Сервис позволяет сократить время на процесс миграции и минимизировать простой при переключении на новую базу данных.

{{ data-transfer-full-name }} настраивается через стандартные интерфейсы {{ yandex-cloud }}.

Сервис подходит для создания постоянной реплики базы. Перенос схемы базы данных из источника на приемник автоматизирован.

## Эндпоинт {#endpoint}

_Эндпоинт_ — это конфигурация для подключения к сервису-_источнику_ или _приемнику_ данных. Кроме настроек подключения, эндпоинт может содержать информацию о том, какие данные будут участвовать в трансфере и как они должны быть обработаны в процессе переноса.

В качестве источника или приемника данных могут выступать:

| Сервис                                                                                                    | Источник                             | Приемник                             |
|-----------------------------------------------------------------------------------------------------------|:------------------------------------:|:------------------------------------:|
| База данных {{ CH }} — собственная или в составе [сервиса {{ mch-short-name }}](../../managed-clickhouse) | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) |
| База данных {{ MG }} — собственная или в составе [сервиса {{ mmg-short-name }}](../../managed-mongodb)    | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) |
| База данных {{ MY }} — собственная или в составе [сервиса {{ mmy-short-name }}](../../managed-mysql)      | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) |
| База данных {{ PG }} — собственная или в составе [сервиса {{ mpg-short-name }}](../../managed-postgresql) | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) |
| Топик {{ KF }} — собственный или в составе [сервиса {{ mkf-short-name }}](../../managed-kafka)            | ![yes](../../_assets/common/yes.svg) | ![no](../../_assets/common/no.svg)   |
| Поток данных [{{ yds-full-name }}](../../data-streams)                                                    | ![yes](../../_assets/common/yes.svg) | ![no](../../_assets/common/no.svg)   |
| База данных {{ ydb-name }} — в составе [сервиса {{ ydb-name }}](../../ydb)                                | ![no](../../_assets/common/no.svg)   | ![yes](../../_assets/common/yes.svg) |
| Бакет [{{ objstorage-full-name }}](../../storage)                                                         | ![no](../../_assets/common/no.svg)   | ![yes](../../_assets/common/yes.svg) |

## Трансфер {#transfer}

_Трансфер_ — это процесс переноса данных между сервисом-источником и сервисом-приемником. Он должен находиться в одном каталоге с используемыми эндпоинтами.

### Типы трансферов {#transfer-type}

Трансферы бывают следующих типов:

* _{{ dt-type-copy }}_ — переносит снапшот источника на приемник.
* _{{ dt-type-repl }}_ — непрерывно получает изменения из источника и применяет их на приемнике. При этом первоначальная синхронизация данных не выполняется.
* _{{ dt-type-copy-repl }}_ — переносит текущее состояние источника на приемник и поддерживает его актуальность.

Подробнее о различиях между типами трансферов читайте в разделе [{#T}](./transfer-lifecycle.md).

### Совместимость источников и приемников {#connectivity-matrix}

В качестве источника и приемника могут выступать разные СУБД. Доступные комбинации источников и приемников:

| Источник \ Приемник | {{ PG }}                      | {{ MY }}                | {{ MG }}                      | {{ ydb-name }}                | {{ CH }}                      | {{ objstorage-name }} |
|:-------------------:|:-----------------------------:|:-----------------------:|:-----------------------------:|:-----------------------------:|:-----------------------------:|:---------------------:|
| {{ PG }}            | Копирование , репликация      | -                       | -                             | Копирование^1^, репликация^1^ | Копирование^1^, репликация^1^ | Копирование^1^        |
| {{ MY }}            | -                             | Копирование, репликация | -                             | Копирование^1^, репликация^1^ | Копирование^1^, репликация^1^ | Копирование^1^        |
| {{ MG }}            | -                             | -                       | Копирование^1^, репликация^1^ | -                             | -                             | Копирование^1^        |
| Oracle              | Копирование^1^, репликация^1^ | -                       | -                             | -                             | Копирование^1^, репликация^1^ | -                     |
| {{ CH }}            | -                             | -                       | -                             | -                             | Копирование^1^                | -                     |
| {{ yds-full-name }} | -                             | -                       | -                             | Репликация^1^                 | Копирование^1^, репликация^1^ | Репликация^1^         |
| {{ KF }}            | -                             | -                       | -                             | Репликация^1^                 | Репликация^1^                 | Репликация^1^         |

^1^ Функциональность находится на стадии [Preview](../../overview/concepts/launch-stages.md).

## Особенности работы сервиса с источниками и приемниками

### {{ CH }} {#clickhouse}

Если на приемнике {{ CH }} включена репликация, то движки для воссоздания таблиц будут выбраны в зависимости от типа источника:

* При переносе данных из строковых СУБД будут использоваться движки [ReplicatedReplacingMergeTree](https://clickhouse.tech/docs/ru/engines/table-engines/mergetree-family/replication/) и [ReplacingMergeTree](https://clickhouse.tech/docs/ru/engines/table-engines/mergetree-family/replacingmergetree/).
* При переносе данных из {{ CH }} будут использоваться движки семейства [ReplicatedMergeTree](https://clickhouse.tech/docs/ru/engines/table-engines/mergetree-family/replication/).

## Пропускная способность {#bandwidth}

При копировании скорость может достигать 15 МБ/с. База размером 100 ГБ обычно копируется за 2–3 часа. Точное время зависит от настроек приемника.

При репликации пропускная способность может достигать 20–30 тысяч транзакций в секунду.
