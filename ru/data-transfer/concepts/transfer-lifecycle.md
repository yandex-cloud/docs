# Жизненный цикл трансфера

Жизненным цикл — это набор состояний трансфера и возможных переходов между ними. В интерфейсе каждому состоянию трансфера соответствует определенный статус. От типа трансфера зависит порядок перехода между статусами, а от текущего статуса — список доступных действий. Подробнее об управлении трансфером см. в разделе [{#T}](../operations/transfer.md).

## Статусы {#statuses}

После создания все трансферы находятся в статусе **Создан**.

Если активировать трансфер, он перейдет в статус **Создается**. В это время сервис выполняет проверку подключения к источнику и приемнику, а также дополнительные действия, необходимые для корректной работы трансфера выбранного типа, например, перенос схемы данных, создание слотов репликации и т. д.

Если необходимо прервать работу трансфера, его нужно деактивировать. Сначала он перейдет в статус **Останавливается**. В это время сервис выполняет действия, необходимые для корректного отключения от источника и приемника: закрытие соединений, удаление слотов репликации, перенос финального состояния схемы данных и т. д. Когда деактивация трансфера будет завершена, он перейдет в статус **Остановлен**. Только успешная деактиация трансфера гарантирует работоспособность приемника и источника.

В статус **Завершен** переходят трансферы типа «{{ dt-copy }}», успешно завершившие перенос данных.

Трансфер может перейти в статус **Ошибка** во время активации, репликации или копирования данных. В зависимости от статуса, предшествовавшего появлению ошибки, трансфер можно будет повторно активировать или перезагрузить.

В некоторых случаях ошибки в работе трансфера могут возникнуть из-за операций с базами данных на источнике или приемнике. Подробнее см. в [{#T}](../operations/db-actions.md).

## Типы трансферов {#transfer-types}

### Копировать {#copy}

Когда трансфер будет подготовлен к работе, он автоматически перейдет в статус **Копируется**. В нем он будет находиться до тех пор, пока все данные, находящиеся в источнике, не будут перенесены на приемник. Затем трансфер автоматически деактивируется и перейдет в статус **Завершен**.

Если необходимо остановить работу трансфера до завершения копирования данных, деактивируйте его.

Переход между статусами для трансферов типа «{{ dt-copy }}» показан на схеме:

![lifecycle-copy](../../_assets/data-transfer/lifecycle/copy.svg)

### Реплицировать {#replication}

Когда трансфер будет подготовлен к работе, он автоматически перейдет в статус **Реплицируется**, в котором будет находиться неограниченно долго. На приемник будут передаваться изменения, происходящие в источнике.

Чтобы остановить работу трансфера, деактивируйте его.

Переход между статусами для трансферов типа «{{ dt-repl }}» показан на схеме:

![lifecycle-replication](../../_assets/data-transfer/lifecycle/replication.svg)

### Копировать и реплицировать {#copy-and-replication}

Когда трансфер будет подготовлен к работе, он автоматически перейдет в статус **Копируется**, в котором будет находиться до тех пор, пока все данные, находящиеся в источнике, не будут перенесены на приемник.

Затем трансфер перейдет в статус **Реплицируется**: он будет отслеживать изменения в источнике и автоматически переносить их на приемник.

Чтобы остановить работу трансфера, деактивируйте его.

Переход между статусами для трансферов типа «{{ dt-copy-repl }}» показан на схеме:

![lifecycle-copy-and-replication](../../_assets/data-transfer/lifecycle/copy-and-replication.svg)
