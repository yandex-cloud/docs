# Управление трансфером

Трансфер — это объект, который управляет процессом переноса данных между [эндпоинтом-источником](source-endpoint.md) и [эндпоинтом-приемником](target-endpoint.md).

Вы можете:

- [получить список трансферов](#list-transfers)
- [создать трансфер](#create-transfer),
- [изменить трансфер](#update-transfer),
- [активировать трансфер](#activate-transfer),
- [деактивировать трансфер](#deactivate-transfer),
- [повторно загрузить трансфер](#reupload-transfer),
- [удалить трансфер](#delete-transfer).

Некоторые действия могут быть недоступны для определенных типов трансферов.

Подробнее о состояниях трансфера, возможных действиях с ним и имеющихся ограничениях см. в разделе [{#T}](../concepts/transfer-lifecycle.md).

## Получить список трансферов {#list-transfers}

{% list tabs %}

- Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.

{% endlist %}

## Создать трансфер {#create-transfer}

{% list tabs %}

- Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.
    1. Нажмите кнопку **Создать трансфер**.
    1. Выберите эндпоинт-источник или [создайте](source-endpoint.md#create-endpoint) новый.
    1. Выберите эндпоинт-приемник или [создайте](target-endpoint.md#create-endpoint) новый.
    1. В блоке **Параметры трансфера** укажите:

        - Имя трансфера.
        - Тип трансфера:

            - _{{ dt-copy-repl }}_ для создания полной копии базы данных источника и поддержания ее в актуальном состоянии.
            - _{{ dt-copy }}_ для создания полной копии базы данных без получения обновлений из базы данных источника.
            - _{{ dt-repl }}_ для непрерывного получения изменений из базы данных источника и применения их к базе данных приемнику (без копирования всего содержимого базы данных источника).

        - Описание трансфера.

    1. Нажмите кнопку **Создать**.

{% endlist %}

## Изменить трансфер {#update-transfer}

{% list tabs %}

- Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ data-transfer-name }}**.
    1. На вкладке **Трансферы** выберите трансфер и нажмите кнопку ![pencil](../../_assets/pencil.svg) **Редактировать** на панели сверху.
    1. Измените имя и описание трансфера.
    1. Нажмите кнопку **Сохранить**.

{% endlist %}

## Активировать трансфер {#activate-transfer}

{% list tabs %}

- Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.
    1. Нажмите на значок ![ellipsis](../../_assets/horizontal-ellipsis.svg) рядом с именем нужного трансфера и выберите пункт **Активировать**. Запустится активация трансфера.

{% endlist %}

## Перезагрузить трансфер {#reupload-transfer}

Если вы предполагаете, что этап репликации трансфера может завершиться ошибкой (например, из-за [изменения схемы переносимых данных](db-actions.md) на источнике), вы можете его принудительно перезагрузить.

Подробнее см. в [{#T}](../concepts/transfer-lifecycle.md).

{% list tabs %}

- Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.
    1. Нажмите на значок ![ellipsis](../../_assets/horizontal-ellipsis.svg) рядом с именем нужного трансфера и выберите пункт **Перезагрузить**.

{% endlist %}

Подробнее см. в [{#T}](../concepts/transfer-lifecycle.md).

## Деактивировать трансфер {#deactivate-transfer}

В процессе деактивации трансфера:

- отключается слот репликации на источнике;
- удаляются временные логи переноса данных;
- приемник приводится в согласованное состояние:
    - переносятся объекты схемы данных источника [для финальной стадии](source-endpoint.md#settings-postgresql),
    - создаются индексы.
    
Только успешная деактивация гарантирует, что источник и приемник будут работоспособны после завершения трансфера.

{% note warning %}

Для корректной деактивации трансфера, перед ее запуском источник должен быть переведен в режим «только чтение» (read-only).

{% endnote %}

{% list tabs %}

- Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.
    1. Нажмите на значок ![ellipsis](../../_assets/horizontal-ellipsis.svg) рядом с именем нужного трансфера и выберите пункт **Деактивировать**.

Подробнее см. в [{#T}](../concepts/transfer-lifecycle.md).

{% endlist %}

## Удалить трансфер {#delete-transfer}

{% list tabs %}

- Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.
    1. Нажмите на значок ![ellipsis](../../_assets/horizontal-ellipsis.svg) рядом с именем нужного трансфера и выберите пункт **Удалить**.
    1. Нажмите кнопку **Удалить**.

{% endlist %}
