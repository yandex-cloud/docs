# Управление трансфером

Вы можете:

* [получить список трансферов](#list);
* [создать трансфер](#create);
* [изменить трансфер](#update);
* [активировать трансфер](#activate);
* [деактивировать трансфер](#deactivate);
* [перезагрузить трансфер](#reupload);
* [удалить трансфер](#delete).

Подробнее о состояниях трансфера, возможных действиях с ним и имеющихся ограничениях см. в разделе [{#T}](../concepts/transfer-lifecycle.md).

## Получить список трансферов {#list}

{% list tabs %}

- Консоль управления

    1. Перейдите на страницу каталога и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.

{% endlist %}

## Создать трансфер {#create}

{% list tabs %}

- Консоль управления

    1. Перейдите на страницу каталога и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.
    1. Нажмите кнопку **Создать трансфер**.
    1. Выберите эндпоинт для источника или [создайте](./endpoint/index.md#create) новый.
    1. Выберите эндпоинт для приемника или [создайте](./endpoint/index.md#create) новый.
    1. В блоке **Параметры трансфера** укажите:

        * Имя трансфера.
        * Тип трансфера:

            * `{{ dt-type-copy-repl }}` — чтобы создать полную копию данных источника и поддерживать ее в актуальном состоянии.
            * `{{ dt-type-copy }}` — чтобы создать полную копию данных без дальнейшего получения обновлений из источника.
            * `{{ dt-type-repl }}` — чтобы непрерывно получать изменения данных от источника и применять их к приемнику (без создания полной копии данных источника).

        * (Опционально) Описание трансфера.

    1. Нажмите кнопку **Создать**.

{% endlist %}

## Изменить трансфер {#update}

{% list tabs %}

* Консоль управления

    1. Перейдите на страницу каталога и выберите сервис **{{ data-transfer-name }}**.
    1. На вкладке **Трансферы** выберите трансфер и нажмите кнопку ![pencil](../../_assets/pencil.svg) **Редактировать** на панели сверху.
    1. Измените имя и описание трансфера.
    1. Нажмите кнопку **Сохранить**.

{% endlist %}

## Активировать трансфер {#activate}

{% list tabs %}

* Консоль управления

    1. Перейдите на страницу каталога и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.
    1. Нажмите на значок ![ellipsis](../../_assets/horizontal-ellipsis.svg) рядом с именем нужного трансфера и выберите пункт **Активировать**.

{% endlist %}

## Перезагрузить трансфер {#reupload}

Если вы предполагаете, что этап репликации трансфера может завершиться ошибкой (например, из-за [изменения схемы переносимых данных](db-actions.md) на источнике), принудительно перезагрузите трансфер.

{% list tabs %}

* Консоль управления

    1. Перейдите на страницу каталога и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.
    1. Нажмите на значок ![ellipsis](../../_assets/horizontal-ellipsis.svg) рядом с именем нужного трансфера и выберите пункт **Перезагрузить**.

{% endlist %}

Подробнее см. в разделе [{#T}](../concepts/transfer-lifecycle.md).

## Деактивировать трансфер {#deactivate}

В процессе деактивации трансфера:

* отключается слот репликации на источнике;
* удаляются временные логи переноса данных;
* приемник приводится в согласованное состояние:
    * переносятся объекты схемы данных источника для финальной стадии;
    * создаются индексы.

{% list tabs %}

- Консоль управления

    1. Переведите источник в режим <q>только чтение</q> (read-only).
    1. Перейдите на страницу каталога и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.
    1. Нажмите на значок ![ellipsis](../../_assets/horizontal-ellipsis.svg) рядом с именем нужного трансфера и выберите пункт **Деактивировать**.
    1. Дождитесь перехода трансфера в статус **Остановлен**.

{% endlist %}

{% note warning %}

Не прерывайте деактивацию трансфера! Если процесс завершится некорректно, работоспособность источника и приемника не гарантируется.

{% endnote %}

Подробнее см. в разделе [{#T}](../concepts/transfer-lifecycle.md).

## Удалить трансфер {#delete}

{% list tabs %}

- Консоль управления

    1. Перейдите на страницу каталога и выберите сервис **{{ data-transfer-name }}**.
    1. Перейдите на вкладку **Трансферы**.
    1. Если нужный трансфер находится в активном состоянии, [деактивируйте его](#deactivate).
    1. Нажмите на значок ![ellipsis](../../_assets/horizontal-ellipsis.svg) рядом с именем нужного трансфера и выберите пункт **Удалить**.
    1. Нажмите кнопку **Удалить**.

{% endlist %}
