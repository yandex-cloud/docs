# Управление эндпоинтами

[Эндпоинт](../../concepts/index.md#endpoint)-источник описывает настройки базы данных, из которой будет передаваться информация с помощью {{ data-transfer-name }}, а эндпоинт-приемник — базы, в которую будет производиться перенос. Вы можете [создать](#create), [изменить](#update) или [удалить](#delete) такие эндпоинты.

## Создать эндпоинт {#create}

{% list tabs %}

* Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ data-transfer-name }}**.
    1. На вкладке **Эндпоинты** нажмите кнопку **Создать эндпоинт**.
    1. В поле **Направление** выберите **Источник** или **Приемник**.
    1. Укажите имя эндпоинта. Используйте строчные латинские буквы и цифры.
    1. (Опционально) укажите описание эндпоинта.
    1. Выберите нужное значение в поле **Тип базы данных**. Будет создан эндпоинт соответствующего типа.
    1. Задайте параметры эндпоинта:
        * Источники:
            * [{{ KF }}](source/kafka.md).
            * [{{ CH }}](source/clickhouse.md).
            * [{{ MG }}](source/mongodb.md).
            * [{{ MY }}](source/mysql.md).
            * [Oracle](source/oracle.md).
            * [{{ PG }}](source/postgresql.md).
            * [{{ yds-full-name }}](source/data-streams.md).
        * Приемники:
            * [{{ CH }}](target/clickhouse.md).
            * [{{ MG }}](target/mongodb.md).
            * [{{ MY }}](target/mysql.md).
            * [{{ objstorage-name }}](target/object-storage.md).
            * [{{ PG }}](target/postgresql.md).
            * [{{ ydb-name }}](target/yandex-database.md)

    1. Нажмите кнопку **Создать**.

* CLI

    {% note info %}

    Создание эндпоинта с помощью команд CLI поддерживается только для источников и приемников типа {{ MY }} и {{ PG }}.

    {% endnote %}

    {% include [cli-install](../../../_includes/cli-install.md) %}

    {% include [default-catalogue](../../../_includes/default-catalogue.md) %}

    Чтобы создать эндпоинт:

    1. Посмотрите описание команды CLI для создания эндпоинта:

        ```bash
        {{ yc-dt }} endpoint create --help
        ```

    2. Укажите параметры эндпоинта в команде создания (в примере приведены не все параметры):

        ```bash
        {{ yc-dt }} endpoint create <тип эндпоинта> \
           --name <имя эндпоинта> \
           --description <описание эндпоинта> \
           <параметры эндпоинта>
        ```

        Тип эндпоинта и его параметры см. в разделе настроек для нужного источника или приемника данных:

        * Источники:

            * [{{ MY }}](source/mysql.md).
            * [{{ PG }}](source/postgresql.md).

        * Приемники:

            * [{{ MY }}](target/mysql.md).
            * [{{ PG }}](target/postgresql.md).

* API

    {% note info %}

    Создание эндпоинта с помощью API поддерживается только для источников и приемников типа {{ MY }} и {{ PG }}.

    {% endnote %}

    Воспользуйтесь методом API [create](../../api-ref/Endpoint/create) и передайте в запросе:

    * Идентификатор каталога, в котором должен быть размещен эндпоинт, в параметре `folderId`.
    * Имя эндпоинта в параметре `name`.
    * Описание эндпоинта в параметре `description`.
    * Параметры эндпоинта в параметре `settings`.

    Параметры эндпоинта см. в разделе настроек для нужного источника или приемника данных:

    * Источники:

        * [{{ MY }}](source/mysql.md).
        * [{{ PG }}](source/postgresql.md).

    * Приемники:

        * [{{ MY }}](target/mysql.md).
        * [{{ PG }}](target/postgresql.md).

{% endlist %}

## Изменить эндпоинт {#update}

{% list tabs %}

* Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ data-transfer-name }}**.
    1. На вкладке **Эндпоинты** выберите эндпоинт и нажмите кнопку ![pencil](../../../_assets/pencil.svg) **Редактировать** на панели сверху.
    1. Отредактируйте параметры эндпоинта:
        * Источники:
            * [{{ CH }}](source/clickhouse.md).
            * [{{ KF }}](source/kafka.md).
            * [{{ MG }}](source/mongodb.md).
            * [{{ MY }}](source/mysql.md).
            * [{{ PG }}](source/postgresql.md).
            * [{{ yds-name }}](source/data-streams.md).
        * Приемники:
            * [{{ CH }}](target/clickhouse.md).
            * [{{ MG }}](target/mongodb.md).
            * [{{ MY }}](target/mysql.md).
            * [{{ objstorage-name }}](target/object-storage.md).
            * [{{ PG }}](target/postgresql.md).
            * [{{ ydb-name }}](target/yandex-database.md).

    1. Нажмите кнопку **Применить**.

* API

    {% note info %}

    Изменение эндпоинта с помощью API поддерживается только для источников и приемников типа {{ MY }} и {{ PG }}.

    {% endnote %}

    Воспользуйтесь методом API [update](../../api-ref/Endpoint/update) и передайте в запросе:

    * Идентификатор эндпоинта в параметре `endpointId`
    * Имя эндпоинта в параметре `name`.
    * Описание эндпоинта в параметре `description`.
    * Параметры эндпоинта в параметре `settings`.

    Чтобы получить идентификатор эндпоинта:

    1. Перейдите на [страницу каталога]({{ link-console-main }}) в консоли управления и выберите сервис **{{ data-transfer-name }}**.
    1. На вкладке **Эндпоинты** нажмите на нужный эндпоинт.

    Параметры эндпоинта см. в разделе настроек для нужного источника или приемника данных:

    * Источники:
        * [{{ MY }}](source/mysql.md).
        * [{{ PG }}](source/postgresql.md).
    * Приемники:
        * [{{ MY }}](target/mysql.md).
        * [{{ PG }}](target/postgresql.md).

{% endlist %}

## Удалить эндпоинт {#delete}

{% note warning %}

Перед удалением эндпоинта [удалите](../transfer.md#delete) все трансферы, в которые он входит.

{% endnote %}

Чтобы удалить эндпоинт:

{% list tabs %}

* Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ data-transfer-name }}**.
    1. Выберите эндпоинт, который нужно удалить.
    1. Нажмите кнопку **Удалить** на панели сверху.
    1. В открывшемся окне нажмите кнопку **Удалить**.

* CLI

    {% include [cli-install](../../../_includes/cli-install.md) %}

    {% include [default-catalogue](../../../_includes/default-catalogue.md) %}

    Чтобы удалить эндпоинт, выполните команду:

    ```bash
    {{ yc-dt }} endpoint delete <идентификатор эндпоинта>
    ```

    Чтобы получить идентификатор эндпоинта:

    1. Перейдите на [страницу каталога]({{ link-console-main }}) в консоли управления и выберите сервис **{{ data-transfer-name }}**.
    1. На вкладке **Эндпоинты** нажмите на нужный эндпоинт.

* API

    Воспользуйтесь методом API [delete](../api-ref/Endpoint/delete) и передайте в запросе идентификатор нужного эндпоинта в параметре `endpointId`.

    Чтобы получить идентификатор эндпоинта:
    1. Перейдите на [страницу каталога]({{ link-console-main }}) в консоли управления и выберите сервис **{{ data-transfer-name }}**.
    1. На вкладке **Эндпоинты** нажмите на нужный эндпоинт.

{% endlist %}
