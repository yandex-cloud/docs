# Типы хранилища


{{ mch-name }} позволяет использовать сетевые и локальные диски для организации хранилища кластеров баз данных. Сетевые диски реализованы на базе сетевых блоков — виртуальных дисков в инфраструктуре {{ yandex-cloud }}. Локальные диски физически размещаются в серверах хостов БД.

{% include [storage-type](../../_includes/mdb/mch/storage-type.md) %}
* Гибридное хранилище — часто используемые <q>горячие</q> данные хранятся в хранилище на сетевых HDD-дисках или на сетевых SSD-дисках. Редко используемые <q>холодные</q> данные хранятся в более медленном и недорогом объектном хранилище [{{ objstorage-full-name }}](../../storage/).

## Особенности хранилища на локальных SSD-дисках {#local-storage-features}

Хранилище на локальных SSD-дисках не обеспечивает отказоустойчивости хранения данных, а также влияет на тарификацию кластера в целом:

- Такое хранилище в кластере из 1 хоста не обеспечивает отказоустойчивости: при отказе диска данные теряются безвозвратно. Поэтому при создании нового кластера {{ mch-name }} с использованием этого типа хранилища автоматически настраивается отказоустойчивая конфигурация из 2 хостов.
- Кластер с таким хранилищем тарифицируется, даже если он остановлен. Подробнее — в [правилах тарификации](../pricing.md).

## Особенности хранилища на нереплицируемых SSD-дисках {#network-nrd-storage-features}

{% include [nrd-storage-details](../../_includes/mdb/nrd-storage-details.md) %}

## Особенности гибридного хранилища {#hybrid-storage-features}

Гибридное хранилище обеспечивает отказоустойчивое хранение данных и управляет их размещением для таблиц на [движке MergeTree](https://clickhouse.tech/docs/ru/engines/table-engines/mergetree-family/mergetree/):  данные автоматически перемещаются из хранилища на локальных или сетевых дисках в {{ objstorage-name }} при их устаревании.

Перенос данных в {{ objstorage-name }} доступен только для таблиц на движке MergeTree. Данные других таблиц будут храниться как обычно — в хранилище на локальных или сетевых дисках.

При вставке в MergeTree-таблицу возможен один из двух вариантов поведения:
- Данные помещаются в хранилище на локальных или сетевых дисках кластера, чтобы обеспечить высокую скорость вставки. Затем строки, для которых истекло значение [TTL](https://clickhouse.tech/docs/ru/engines/table-engines/mergetree-family/mergetree/#mergetree-table-ttl) (время жизни), в фоновом режиме перемещаются в {{ objstorage-name }}.

  Настроить перемещение строк с истекшим сроком жизни в {{ objstorage-name }} и задать TTL можно при создании таблицы или позднее.

- Данные помещаются сразу в объектное хранилище, если хранилище на локальных или сетевых дисках полностью заполнено. В этом случае скорость вставки может быть медленнее.

Чтобы начать использовать гибридное хранилище, [создайте](../operations/cluster-create.md#create-cluster) кластер нужного вида с версией {{ CH }} не ниже {{ mch-hs-version }}. Настройка объектного хранилища не требуется. Пример использования см. в разделе [{#T}](../tutorials/hybrid-storage.md).
