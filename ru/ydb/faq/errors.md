# Ошибки

## Что делать, если я часто получаю ошибку "Transaction locks invalidated"? {#locks-invalidated}

Обычно при получении этой ошибки следует повторить выполнение транзакции, т.к. {{ ydb-short-name }} использует оптимистичные блокировки. Если такая ошибка возникает часто, это означает, что в транзакции читается большое количество строк или, что много транзакций конкурируют за одни и те же "горячие" строки. Имеет смысл просмотреть запросы, выполняющиеся в транзакции и определить, не читают ли они лишние строки.

## Почему возникает ошибка "Exceeded maximum allowed number of active transactions"? {#exceed-number-transactions}

В логике на клиентской стороне надо стараться держать как можно более короткие транзакции.
В рамках сессии разрешено не более 10 активных транзакций. При старте транзакции нужно использовать либо коммит-флаг для автокоммита, либо явный коммит/роллбек.