---
sourcePath: overlay/internals/tablet_state_storage.md
---
В сложившемся дизайне state-storage служит двум основным целям:

  * Как name-service для резолва из tabletid в actor-id-ы текущего лидера (и фолловеров если есть).
  * Как подсказка для неуправляемых таблеток в выборе поколения при апгрейде кандидата в лидер (и только как подсказка! фактическая логика захвата поколения обеспечивается барьерами блобстораджа).

Из себя представляет набор реплик с волатильным состоянием, читать которые могут все желающие получить информацию о таблетке (обычно это таблеточные пайпы), а поддерживает в актуальном состоянии - текущий лидер. Т.к. резолв таблеток может создавать большой трафик и вносить задержки - на практике основные потребители локально кешируют результаты, обращаясь заново - только при инвалидации.
