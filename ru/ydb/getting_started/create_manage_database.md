# Базы данных - создание и управление

В этом разделе описано как создать, просмотреть, изменить и удалить базы данных (БД). Подробно о базах данных, кластерах, директориях, аккаунтах, вычислительных ресурсах и группах хранения написано в разделе [Базы данных](../concepts/databases.md).

## Создание БД с помощью [web-интерфейса YDB](https://ydb.yandex-team.ru)

Для создания базы данных следует выполнить следующие действия:

* Зайти в [web-интерфейс https://ydb.yandex-team.ru](https://ydb.yandex-team.ru).
* Нажать на кнопку "Create database".

![Create database](../_assets/db_ui_create_database_button.png)

<small>Рисунок 1 — Кнопка создать БД</small>

* В диалоге создания БД следует настроить параметры базы:
  1. Кластер (cluster). Доступен выбор однодатацентровых (ydb-vla, ydb-sas, ydb-man, ydb-myt) и многодатацентровых кластеров (ydb-ru, расположенный в датацентрах VLA-SAS-MYT, и ydb-eu, расположенный в датацентрах VLA-SAS-MAN).
  2. Аккаунт (account). Если вы только начинаете работать с сервисом YDB и аккаунта вашего проекта еще нет, заполните, пожалуйста, [форму](https://forms.yandex-team.ru/surveys/45941/) для создания аккаунта. Если вы хотите попробовать создать личную БД для тестирования, воспользуйтесь аккаунтом "home".
  3. Директория (directory). Выберите директорию из списка существующих директорий выбранного аккаунта или создайте новую. Если вы выбрали аккаунт "home", автоматически будет создана директория с вашим именем пользователя. Название директории регистрозависимое, должно начинаться с латинской буквы, дальше допустимы буквы латинского алфавита, цифры, подчеркивание '_' и дефис '-'.
  4. Имя БД. На имя базы данных накладываются те же ограничения, что и на название директории.
  5. Тип и количество вычислительных ресурсов (compute units).
  6. Политику распределения вычислительных ресурсов между датацентрами (distribution policy) для многодатацентровых кластеров. Возможные варианты : auto - вычислительные ресурсы будут расположены в доступных датацентрах, в случае выхода из строя датацентра переедут в оставшиеся доступные датацентры; in one DC - вычислительные ресурсы будут расположены в одном датацентре, в случае его выхода из строя переедут в другой датацентр, но также будут располагаться в пределах одного датацентра; uniform distribution - вычислительные ресурсы равномерно распределены по датацентрам, в случае выхода из строя одного из датацентров, переезжают в оставшиеся датацентры.
  7. Тип и количество групп хранения (storage groups). Каждой группе хранения соответствует определенная схема хранения, влияющая на количество используемых дисков, модель отказа и коэффициент избыточности. Для однодатацетровых кластеров обычно используется схема ``block4-2``, при которой группа хранения расположена на 8 дисках в 8 стойках, переживает отказ любых двух дисков и дает избыточность с коэффициентом 1.5. В мультидатацентровых кластерах используется схема ``mirror3dc``, где в группе хранения задействовано 9 дисков, расположенных по 3 в трех датацентрах, выдерживает отказ датацентра и диска в любом другом датацентре, дает избыточность с коэффициентом 3. Группа хранения может состоять из накопителей, относящихся к одному из трех типов: SATA HDD, SATA SSD, NVMe SSD.
* Для создания базы данных с вышеуказанными параметрами следует нажать на кнопку "Create".

{% note info "Кластера YDB" %}

В текущей инсталляции YDB доступен кластер ydb-ru, расположенный в датацентрах VLA-SAS-MYT.

{% endnote %}

{% note info "Накопители" %}

В текущей инсталляции YDB доступны только SATA SSD накопители.

{% endnote %}

Ниже приведен внешний вид формы создания новой базы данных:

![Create new database](../_assets/db_ui_create_new_database.png)

<small>Рисунок 2 — Внешний вид формы создания БД</small>

## Просмотр списка БД с помощью [YDB web-интерфейса](https://ydb.yandex-team.ru)

Для просмотра списка баз данных следует зайти на главную страницу [web-интерфейса](https://ydb.yandex-team.ru). На появившейся странице будет отображен список созданных БД. Для каждой базы указаны: полное имя БД, расположение (кластер), количество зарезервированных под БД ресурсов и количество используемых ресурсов.

![List databases](../_assets/db_ui_list_databases.png)

<small>Рисунок 3 — Список БД</small>

## Создание БД требуемого размера {#custom_database}
В результате выполнения описанных выше шагов будет создана пробная база данных с параметрами по умолчанию. Такую базу данных **нельзя** использовать в продакшн-процессах. Для обеспечения работы пробных баз используются ресурсы из квоты сервис-провайдера YDB.

Создание баз, отличающихся размером от доступного по умолчанию, выполняется администратором системы. Для создания БД большего размера для разработки или продакшн-сервиса следует заполнить [форму](https://forms.yandex-team.ru/surveys/45941/).

Для обеспечения работы баз, созданных по заявкам, используются ресурсы из квоты сервиса, указанного при заполнении формы на [создание](https://forms.yandex-team.ru/surveys/45941/) или [изменение](https://forms.yandex-team.ru/surveys/30510/) базы данных. Подробней процесс заказа ресурсов описан в разделе [{#T}](../concepts/quotas_and_limits.md).

{% note info "Изменение параметров базы" %}

Пользователь не может самостоятельно изменять параметры БД или удалять БД. В текущей версии эти действия может совершить только администратор системы.

Для изменения параметров базы данных или удаления базы следует заполнить форму.

* [форма](https://forms.yandex-team.ru/surveys/30510/) на изменение выделенных базе ресурсов;
* [форма](https://forms.yandex-team.ru/surveys/30513/) на удаление базы.

{% endnote %}

