# Типы данных

В {{ ydb-short-name }} используются типы данных YQL. Некоторые из типов YQL поддерживаются с ограничениями — они могут использоваться только в вычислениях, но не могут быть типом столбца или использоваться в первичном ключе. Все столбцы, включая ключевые, могут содержать специальное значение NULL.

{% note alert %}

Несмотря на возможность в части полей составного первичного ключа хранить NULL, мы настоятельно рекомендуем никогда так не делать.

{% endnote %}

В таблицах ниже приведены возможные варианты использования типов данных YQL в {{ ydb-short-name }}.

{% include [datatypes](../../../_includes/datatypes_primitive_number.md) %}

{% include [datatypes](../../../_includes/datatypes_primitive_string.md) %}

{% include [datatypes](../../../_includes/datatypes_primitive_datetime.md) %}


## Опциональные (nullable) {#nullable}

Любые типизированные данные в YQL, включая столбцы таблиц, бывают как гарантированно имеющие значение, так и потенциально пустые (что обозначается как `NULL`). Такие значения называют «опциональными» или в терминах SQL «nullable».

Наиболее распространённой операцией для таких типов данных является COALESCE, позволяющий оставить заполненные значения без изменений, а `NULL` заменить на указанное следом значение по умолчанию.

В текстовом виде опциональные типы выделяются вопросительным знаком в конце (например, `String?`) или как `Optional<...>`.

## Контейнеры {#containers}

| Название | Объявление&nbsp;типа | Пример&nbsp;типа | Пояснение |
| ----- | ----- | ----- | ----- |
| Список | `List<Type>` | `List<Int32>` | Последовательность переменной длины, состоящая из элементов одного типа |
| Словарь | `Dict<KeyType,ValueType>` | `Dict<String,Int32>` | Набор пар ключ—значение с фиксированным типом ключей и значений |
| Кортеж | `Tuple<Type1,...,TypeN>` | `Tuple<Int32,Double>` | Набор безымянных элементов фиксированной длины с указанными типами всех элементов |
| Структура | `Struct<Name1:Type1,...,NameN:TypeN>` | `Struct<Name:String,Age:Int32>` | Набор именованных полей с указанными типами значений, фиксированный на момент начала запроса (то есть обязательно не зависящий от данных) |
| Поток | `Stream<Type>` | `Stream<Int32>` | Однопроходной итератор по значениям одного типа. Не является сериализуемым. |
| Вариант над кортежем | `Variant<Type1,Type2>` | `Variant<Int32,String>` | Кортеж, про который известно, что заполнен ровно один элемент. |
| Вариант над структурой | `Variant<Name1:Type1,Name2:Type2>` | `Variant<value:Int32,error:String>` | Структура, про которую известно, что заполнен ровно один элемент. |

При необходимости контейнеры можно вкладывать друг в друга в произвольных комбинациях, например `List<Tuple<Int32,Int32>>` (список, содержащий в качестве элементов кортежи).

Опциональные значения в некоторых контекстах также могут рассматриваться как один из видов контейнеров (`Optional<Type>`), который ведёт себя как список длины 0 или 1.

Для представления множеств следует использовать словарь с значениями типа `Void` — `Dict<T, Void>`.


