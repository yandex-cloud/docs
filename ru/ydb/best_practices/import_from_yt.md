## Загрузка данных из YT {#loading-data-from-yt}

Пользователь YDB может с помощью привычного инструмент YQL выполнить операцию, которая загрузит данные из доступной таблицы в YT в талблицу в YDB.  Операция загрузки выполняется с помощью специальной UDF. В общих чертах схема работы процесса загрузки:
  * подготовить результат yql-операции над данными, сохранёнными в выбранном кластере YT
  * параллельно в несколько потоков отправить данные в виде пакетов по ```$upload_batch_size_rows``` рядов в запросе вида ```UPSERT INTO``` в таблицу ```$kikimr_table_name```
Чтобы загрузить данные, нужно:
  * знать имя таблицы, из которой планируется загрузка, на одном из кластеров YT
  * создать базу данных в YDB и таблицу, в которую будут загружаться данные из YT

Пример yql-операции, загружающей тестовые данные в тестовую базу, рассмотрен в [yql tutorial](https://yql.yandex-team.ru/Tutorial/ydb_16_Import_from_yt). Ниже даны подробные пояснения смысла параметров функции загрузки и рекомендации по их настройке.

### Параметр ydb_endpoint_list {#parameter-ydb-endpoint-lis}

Параметр ```$ydb_endpoint_list``` используется для указания адреса кластера, на котором расположена база данных YDB. Чтобы не использовать балансер для заливки больших объёмов данных из YT, с помощью параметра ```$kikimr_hosts``` можно указать напрямую адреса ендпоинтов, обслуживающих целевую базу данных. Узнать список ендпоинтов можно на вкладке [Info](https://ydb.yandex-team.ru/db/ydb-ru/tutorial/home/testdb/info) целевой БД в YDB UI.

![Cluster API Endpoint](../_assets/db_ui_info_cluster_api.png)

<small>Рисунок 1 — Список ендпоинтов базы данных</small>

Пример значения параметра ```$ydb_endpoint_list```
```
$ydb_endpoint_list = AS_LIST(
    "ydb-ru-myt-0004.search.yandex.net:31031",
    "ydb-ru-sas-0001.search.yandex.net:31032"
);
```

### Параметр ydb_database {#parameter-ydb-database}

Параметр ```$ydb_database``` определяет базу данных, в которой расположена таблица. Узнать  имя базы данных можно в YDB UI. В списке баз данных можно выбрать нужную базу и воспользоваться удобным элементом управления для копирования имени в буфер обмена.

![Database_name](../_assets/best_practices_yt_import_dbname.png)

### Параметр ydb_table_name {#parameter-ydb-table-name}

Параметр ```$ydb_table_name``` определяет таблицу, в которую будет сохранён результат выгрузки. YQL строго типизированный, поэтому типы данных в столбцах должны совпадать с типами столбцов в результата запроса на выборку данных из YT.

### Параметр $upload_max_retries {#parameter-upload-max-retries}

