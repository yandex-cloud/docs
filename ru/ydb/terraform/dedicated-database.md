---
title: Создание и изменение параметров выделенной базы данных {{ ydb-short-name }} в {{ yandex-cloud }}
description: В инструкции описаны свойства ресурса yandex_ydb_database_dedicated для создания выделенной базы данных {{ ydb-short-name }} в {{ yandex-cloud }}.
---


# Создание и изменение параметров выделенной базы данных

Для создания выделенной базы данных используется ресурс `yandex_ydb_database_dedicated`.

## Описание ресурса yandex_ydb_database_dedicated {#database_dedicated_description}

Добавьте следующий блок кода в конфигурационный файл проекта после блока с [инициализацией провайдера](./configure.md): 

```tf
resource "yandex_ydb_database_dedicated" "my_database_2" {
  name = "dedicated-base"
  folder_id = "<идентификатор_каталога_в_Yandex_Cloud>"
  
  resource_preset_id = "medium"

  location_id = "{{ region-id }}"
  network_id  = "enpv06v9b6og********" # ID сети, в которой будет создана база
  subnet_ids = [
    "e2lekh3vqf1p********", "e9bmliplcipm********", "b0cm0qpcf4q5********" 
  ]
  
  scale_policy {
    fixed_scale {
      size = 2 # Количество виртуальных машин в базе
    }
  }

  storage_config {
    group_count = 1
    storage_type_id = "ssd"
  }
}
```

Свойства полей ресурса `yandex_ydb_database_dedicated`:
* `name` — имя базы данных (строчные латинские буквы, цифры и дефисы. Первый символ — буква, последний символ — не дефис. Длина: от 3 до 63 симв.). Обязательный параметр;
* `folder_id` — идентификатор директории (каталога) в {{ yandex-cloud }}, где будет создана база данных. Обязательный параметр.
* `resource_preset_id` — наименование шаблона конфигурации виртуальной машины. Доступны следующие шаблоны: `medium`, `medium-m64`, `medium-m96`, `large`, `xlarge`. Отличаются они платформой процессора, количеством vCPU, объемом оперативной памяти. С подробным  описанием конфигураций шаблонов виртуальных машин можно ознакомиться в этой [статье](../concepts/resources.md#resource-presets).
* `location_id` — локация базы данных в соответствии с зоной доступности, которая устанавливается в блоке инициализации провайдера;
* `network_id` — идентификатор облачной сети в инсталяции {{ yandex-cloud }};
* `subnet_ids` — список идентификаторов подсетей, в которых будет работать база. Указываются все подсети принадлежащие сети в инсталяции {{ yandex-cloud }}.

Свойства полей блока `scale_policy`:
* `fixed_scale.size` — количество виртуальных машин, которые будет использовать база данных. Минимальное рекомендуемое количество виртуальных машин — от двух штук (для продакшна).

Свойства полей блока `storage_config`:
* `group_count` — количество [групп хранения](https://ydb.tech/docs/ru/concepts/databases#storage-groups),  определяющих суммарный объем хранилища. Одна группа хранения кратна 100 ГБ дискового пространства, задавать группам хранения можно только целочисленные значения;
* `storage_type_id` — тип хранилища данных. Может быть `ssd` или `hdd`.

После заполнения всех полей ресурса `yandex_ydb_database_dedicated` и вложенных блоков можно выполнить команду `terraform validate`, чтобы убедиться в том, что в конфигурационном файле нет ошибок. Затем выполняется команда `terraform plan` для сверки конфигурации существующей инфраструктуры с изменениями содержащимися в конфигурационном файле. В завершении выполняется команда `terraform apply`, которая уже разворачивает создаваемый ресурс в облаке.

Время создания выделенной базы зависит от количества виртуальных машин для обработки данных и групп хранения. Для удаления выделенной базы достаточно удалить ресурс `yandex_ydb_database_dedicated` из конфигурационного файла и применить последовательность команд: `terraform validate`, `terraform plan`, `terraform apply`. 