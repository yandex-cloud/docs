#### Роль слейв-шардов таблиц

Физически шарды таблиц обслуживаются партициями, обеспечивающими консистентное, надёжное хранение на разделяемом распределённом сторадже. Они же обслуживают протокол выполнения распределённых транзакций. В такой схеме (классическая схема с активным лидером партиции) все запросы к шарду таблицы выполнятся в единой точке.

Благодаря хранению данных на разделяемом хранилище в YDB возможен запуск одного или нескольких слейвов шарда, без выделения дополнительного места на сторадже - данные уже хранятся реплицированного и возможно обслуживание более одного читателя (но писатель при этом всё еще в каждый момент строго один).

Такие слейвы могут использовать для:
* обслуживать клиентов, критичных к минаимальным задержкам, недостижимым иными способами в мульти-ДЦ кластере. Достигается за счёт приближения точки выполнения запроса к точке задания запроса, что отсекает задержку на меж-ДЦ пересылки. В результате, сохраняя все гарантии мульти-ДЦ кластера по надёжности хранения, отвечать на точечные читающие запросы за единицы миллисекунд.
* обслуживания читающих запросов с слейвов без влияния на модифицирующие запросы, выполняющиеся на шарде. Это может быть полезно как для изоляции разных сценариев, так и для увеличения пропускной способности партиции.
* продолжения обслуживания при переездах лидера партиции (как штатной при балансировке, так и при сбоях). Позволяет переживать процессы в кластере без влияния на читающих клиентов.

#### Гарантии

Внутренее состояние каждого из слейвов восстанавливается в точности по состоянию мастера и полностью консистентно.

Кроме состояния данных в сторадже на слейвов отправляется и поток обновлений с лидера. Обновления отправляются в реальном времени, сразу после коммита в лог. Но отправляются асинхронно, что приводит к некоторой (типично в десятки миллисекунд) задержке применения обновлений на слейвах относительно их коммита на лидере.

Если слейвов несколько - то отставание их от лидера может различаться, т.е. хотя каждый слейв каждого из шардов сохраняет внутреннюю консистентность, между разынми шардами могут наблюдаться артефакты. Код приложения должен быть к этому готов. По этой же причине на данный момент невозможно и выполнение со слейвов кроссшардовых транзакций.
