---
editable: false
sourcePath: overlay/pricing/serverless.md
---


# Правила тарификации для бессерверного режима Yandex Database

{% include [currency-choice](../_includes/pricing/currency-choice.md) %}

При использовании бессерверного режима Yandex Database плата взимается за каждый выполненный к базе данных запрос. Указывать, какие ресурсы требуются для работы, нет необходимости, база данных оперативно адаптируется к изменению пользовательской нагрузки. Помимо запросов пользователь оплачивает хранимые в Yandex Database данные на почасовой основе. Дополнительно тарифицируются другие операции, такие как восстановление из резервной копии.

## Из чего складывается стоимость использования бессерверного режима Yandex Database {#rules}

При работе Yandex Database в бессерверном режиме вы оплачиваете:

* операции с данными;
* объем хранимых данных, включая служебные данные, например, индексы;
* дополнительные пользовательские операции, такие как восстановление данных из резервной копии.

Дополнительно оплачиваются иные потребляемые ресурсы:

* место, занятое в сервисе Object Storage для хранения резервных копий по требованию;
* объем исходящего трафика из Yandex.Cloud в интернет.

{% include [pricing-gb-size](../_includes/pricing/pricing-gb-size.md) %}

### Операции с данными и единица запроса {#rules-ru}

Бессерверный режим работы Yandex Database поддерживает несколько способов работы с данными:

* YQL - диалект SQL для работы с реляционными таблицами, поддерживаемый в SDK, CLI и консоли управления.
* Document API — HTTP API, совместимый с Amazon DynamoDB. С помощью этого API можно выполнять операции над документными таблицами.

Кроме этого, к базе данных могут быть сделаны запросы через специализированные API, доступные в виде отдельных функций в SDK, CLI или консоли управления YDB.

Для расчета стоимости запросов в YDB используется понятие _единица запроса (RU — Request Unit)_. Каждый выполненный запрос, в зависимости от его типа, сложности и размера данных приводит к потреблению определенного количества RU. Итоговая стоимость всех выполненных запросов к YDB складывается из стоимости каждого запроса, выраженной в RU.

Правила расчета стоимости запросов к YDB в Request Units:

* [YQL](request_units_yql.md).
* [Document API](request_units_docapi.md).
* [Специальные API](request_units_special.md).

#### Тарифы на потребление Request Units {#prices-ru}

* **За фактическое потребление (on-demand)**. Стоимость использования YDB за некоторый период будет равна сумме потраченных Request Units, умноженной на цену 1 Request Unit, за вычетом предоставляемого ежемесячно бесплатного пакета. Если запросов к базе данных не было, или количество потраченных в текущем месяце Request Units меньше бесплатного пакета, плата за фактическое потребление Request Units не взимается.
* **Выделенная пропускная способность (provisioned capacity)**. Если ваша нагрузка носит предсказуемый характер и имеет постоянную составляющую, вы можете сократить стоимость использования YDB за счет оплаты части (или всех) потраченных Request Units по почасовому тарифу. Для этого нужно установить отличное от нуля значение параметра базы данных «Выделенная пропускная способность, RU/с». Вам начнут делаться начисления по специальному тарифу, ставка которого задается за RU/с×час, тарификация посекундная. Потребление Request Units в пределах заданной пропускной способности не будет учитываться в трате Request Units по тарифу on-demand.
* **Резерв выделенной пропускной способности (reserved capacity)**. Если вы уверены в предсказуемости и постоянности нагрузки, вы можете дополнительно сократить стоимость использования YDB за счет гарантии оплаты определенной выделенной пропускной способности в течение 1 года или 3 лет.

### Объем хранимых данных {#rules-storage}


В бессерверном режиме мощности для хранения данных выделяются автоматически. Объем хранимых данных при этом рассчитывается как совокупный объем пользовательских и служебных данных, которые хранятся в БД. Например, создание глобального индекса приводит к увеличению размера хранилища на размер такого индекса.

### Создание резервных копий {#rules-backup-storage}


#### Автоматические резервные копии {#rules-auto-backup-storage}

Yandex Database автоматические создает и бесплатно хранит 2 полные резервные копии ваших баз за два последних дня. Плата за хранение автоматических резервных копий не взимается.

#### Резервные копии по требованию {#rules-auto-backup-storage}

Вы можете принудительно выполнить резервное копирование базы данных с сохранением копии в сервисе Object Storage. Стоимость такой операции зависит от объема скопированных данных. При расчете стоимости фактический объем округляется в большую сторону до значений, кратных 1 ГБ.

{% note warning %}

В случае выгрузки данных при помощи утилиты ```ydb tools dump``` тарификация производится по тарифам операции `ReadTable`.

{% endnote %}

### Восстановление из резервной копии {#rules-backup-restore}


Вы можете восстанавливать базы и/или отдельные таблицы из резервных копий, которые хранятся в сервисе Object Storage. Стоимость такой операции зависит от объема восстановленных данных. При расчете стоимости фактический объем округляется в большую сторону до значения, кратного 1 ГБ.

{% note warning %}

В случае восстановления данных при помощи утилиты ```ydb tools restore``` тарификация производится по цене записи строки в базу данных для каждой восстановленной строки.

{% endnote %}

## Скидка за резервируемый объем ресурсов {#cvos}


Вы можете получить гарантированную скидку за потребление ресурсов сервиса, запланированное на месяц, на год или на три года вперед.

Бессерверный режим Yandex Database предоставляет CVoSна определенное количество запросов, выраженных в единицах RU, в секунду. Вы можете выбирать размер резерва с шагом 100 RU/с.

При вычислении реального объема потребления количество запросов усредняется каждые пять минут. То есть, например, при резерве 100 RU/с не обязательно потреблять каждую секунду 100 RU. На протяжении интервала усреднения нагрузка может изменяться и составлять в один момент 150 RU/с, в другую — 50 RU/с.


## Цены {#prices}
