# Релизы COI

{% cut "Как узнать свою версию COI" %}

* Чтобы узнать версию изнутри образа (для версии 2.0.4 и выше), выполните команду:

  ```bash
  cat /etc/ycloud/image-info
  ```

  Результат выполнения команды:

  ```
  coi-version: 2.0.4
  ```

* Чтобы узнать версию в `description` (для версии 2.1.0 и выше), выполните команду:

  ```bash
  yc compute image get <ID или имя образа> --profile preprod --format json | jq -r '.description'
  ```

  Результат выполнения команды:

  ```bash
  Container Optimized Image 2.1.0
  ```

{% endcut %}

## Версия 2.1.1 {#latest-release}

* Добавлена ротация логов Docker-контейнеров с использованием драйвера для логов `local`.
* Отключен системный сервис `rpcbind`.
* Исправлена утечка сетевых подключений в системе при обновлении проектов Docker Compose.

## Предыдущие релизы {#previous-releases}

### Версия 2.1.0 {#version2.1.0}

* Добавлена поддержка файловой системы XFS в [спецификации Docker Compose](concepts/index.md#compose-spec).
* Добавлено использование меток Docker-контейнеров для идентификации автоматически запущенных контейнеров.
* Добавлена информации о версии COI в описаниях Docker-образов.
* Исправлена ошибка монтирования дисков после рестарта виртуальной машины при использовании спецификации Docker Compose.

### Версия 2.0.4 {#version2.0.4}

* Добавлен образ Container Optimized Image с поддержкой GPU.
  `yc compute image get-latest-from-family coi-base-gpu --folder-id standard-images`

### Версия 2.0.3 {#version2.0.3}

* Включен строгий режим параметра ядра `net.ipv4.conf.all.rp_filter`.
* Исправлена конфигурация утилиты `logrotate`.
* Удален конфигурационный файл Docker `daemon.json`, ошибочно отключающий доступ из Docker-контейнера в интернет.

### Версия 2.0.2 {#version2.0.2}

* Закрытие уязвимости CVE-2021-3156.

### Версия 2.0.1 {#version2.0.1}

* Обновлена версия Docker.

### Версия 2.0.0 {#version2.0.0}

* Осуществлен переход на Ubuntu 20.04.

### Версия 1.3.1 {#version1.3.1}

* Исправлено циклическое пересоздание Docker-контейнеров при ошибках доступа к сервису метаданных.

### Версия 1.3.0 {#version1.3.0}

* Добавлена поддержка дисков в COI и Docker Compose спецификациях.

### Версия 1.2.1 {#version1.2.1}

* Улучшена работа с `docker volumes`.

### Версия 1.2.0 {#version1.2.0}

* Добавлена возможность использования службы OS Login, пользователи OS Login автоматически добавляются в группу `docker`.
* Улучшено обновление проектов Docker Compose (добавлен флаг `--delete-orphans` для удаления старой версии проекта).

### Версия 1.1.2 {#version1.1.2}

* Исправления в автоматическом запуске Docker-контейнеров.

### Версия 1.1.1 {#version1.1.1}

* Исправления в автоматическом запуске Docker-контейнеров.

### Версия 1.1.0 {#version1.1.0}

* Добавлена поддержка Docker Compose.

### Версия 1.0.3 {#version1.0.3}

Исправления в автоматическом запуске Docker-контейнеров:
* При перезапуске ВМ и обновлении метаданных устаревший Docker-контейнер теперь не запускается.
* Уменьшено количество логов в `yc-container-daemon`.
* Добавлены повторные попытки обновить контейнер при ошибке обновления Docker-контейнера.

### Версия 1.0.2 {#version1.0.2}

Исправление в автоматическом запуске Docker-контейнеров:
* Добавлено подробное сообщение об ошибке при использовании `docker login` для домена с настроенным Docker Credential Helper.

### Версия 1.0.1 {#version1.0.1}

Исправление в автоматическом запуске Docker-контейнеров:
* Теперь Docker-контейнеры с символом `-` в названии не удаляются.

### Версия 1.0 {#version1.0}

* Первая версия COI на Ubuntu 16.04.