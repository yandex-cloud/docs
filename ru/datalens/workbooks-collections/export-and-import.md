---
title: Экспорт и импорт воркбуков
description: Следуя данной инструкции, вы сможете выполнить экспорт и импорт воркбуков.
---

# Экспорт и импорт воркбуков

В {{ datalens-short-name }} можно переносить [воркбуки](./index.md) между инсталляциями с помощью инструментов экспорта и импорта. Например, вы сможете экспортировать готовый воркбук, с его настройками и связями, из облачного {{ datalens-full-name }} в инсталляцию [open source](https://datalens.tech).


{% note info %}

* Экспорт и импорт доступны только для воркбуков.
* Некоторые типы подключений [недоступны](#restrictions) для экспорта и импорта.
* Экспорт может выполнить пользователь с ролью `{{ roles-datalens-admin }}`.
* Импорт может выполнить пользователь с правами, достаточными для создания нового воркбука.

{% endnote %}



## Экспорт воркбука {#export-workbook}

Чтобы экспортировать воркбук:

1. На панели слева выберите ![collections](../../_assets/console-icons/rectangles-4.svg) **Коллекции и воркбуки**.
1. Запустите экспорт нужного воркбука одним из способов:
   
   * У воркбука нажмите ![image](../../_assets/console-icons/ellipsis.svg) → ![icon](../../_assets/console-icons/file-arrow-up.svg) **Экспортировать**.
   * Откройте воркбук и вверху нажмите ![image](../../_assets/console-icons/ellipsis.svg) → ![icon](../../_assets/console-icons/file-arrow-up.svg) **Экспортировать**.

1. Нажмите кнопку **Экспортировать**. Прогресс будет отображаться на индикаторе. Обратите внимание на следующее:

   * Экспорт выполняется в файл формата JSON.
   * Процесс может занять несколько минут.
   * Чувствительные данные [подключений](../concepts/connection.md) не сохраняются. При [импорте](#import-workbook) пользователю потребуется заново настроить подключения, например указать токен или ввести пароль, а для подключений к [файлу](../operations/connection/create-file.md), [Яндекс Документам](../operations/connection/create-yadocs.md) и [Google Sheets](../operations/connection/create-google-sheets.md) — заново загрузить данные.   
   * В других версиях {{ datalens-short-name }} могут не поддерживаться некоторые типы подключений. При импорте такие подключения работать не будут.
   
   При попытке закрыть окно с индикатором до завершения процесса появится предупреждение о завершении экспорта. Выберите:

   * **Вернуться** — продолжить экспорт.
   * **Отменить экспорт**.
   
После завершения экспорта могут появиться [предупреждения](./export-import-notifications.md#export-notifications) об особенностях воркбука и список объектов, требующих внимания. Нажмите **Скачать**, чтобы скачать файл экспорта в формате JSON.

{% note tip %}

Вы можете внести изменения в экспортированный файл JSON, например добавить пароль для подключения. Но {{ datalens-short-name }} не гарантирует успешный импорт и корректную работу воркбука, если в его конфигурацию были внесены ручные изменения. Рекомендуем тщательно проверять все изменения перед импортом для минимизации возможных проблем.

{% endnote %}

Если экспортировать воркбук не удалось, отобразится [сообщение](./export-import-notifications.md#export-notifications) об ошибке. Постарайтесь устранить причину ошибки и попробуйте экспортировать воркбук заново.

## Импорт воркбука {#import-workbook}

Чтобы импортировать воркбук:

1. На панели слева выберите ![collections](../../_assets/console-icons/rectangles-4.svg) **Коллекции и воркбуки**.
1. В правом верхнем углу нажмите **Создать** → **Создать воркбук**.
1. В окне создания воркбука:
   
   1. Укажите название воркбука.

      {% note info %}

      Имя воркбука должно быть уникальным в рамках выбранной коллекции.

      {% endnote %}

   1. Внизу нажмите ![icon](../../_assets/console-icons/paperclip.svg) **Выбрать файл** и выберите файл в формате JSON с конфигурацией воркбука.
   1. Нажмите кнопку **Создать**.

   Прогресс импорта отобразится на индикаторе. Если закрыть окно с индикатором до завершения импорта, процесс не прервется. До завершения импорта новый воркбук доступен в списке воркбуков с отметкой `Импортируется`, а при выборе его открывается окно с прогрессом импорта.

После завершения импорта могут появиться [предупреждения](./export-import-notifications.md#import-notifications) об особенностях импортируемого воркбука и список объектов, требующих внимания. Нажмите **Открыть воркбук**, чтобы перейти к созданному воркбуку. При необходимости выполните дополнительные настройки, например введите пароль для подключения.


{% note info %}

При переносе воркбуков с подключениями к [файлу](../operations/connection/create-file.md), [Яндекс Документам](../operations/connection/create-yadocs.md) и [Google Sheets](../operations/connection/create-google-sheets.md) заново загрузите данные. Для этого в подключении справа от названия файла нажмите ![icon](../../_assets/console-icons/ellipsis.svg) → **Заменить**, затем:

* в подключении к файлу выберите файл с данными;
* в подключениях к Яндекс Документам и Google Sheets укажите ссылку на файл с данными.

При переносе воркбуков с подключениями к [управляемым базам данных](../concepts/connection.md#db), созданным в режиме `Выбрать в организации`, они будут импортированы в ручном режиме (`Указать вручную`). При необходимости после импорта завершите настройку подключения вручную.

{% endnote %}


Если импортировать воркбук не удалось, отобразится [сообщение](./export-and-import.md#import-notifications) об ошибке. Постарайтесь устранить причину ошибки и попробуйте импортировать воркбук заново.


## Отключить возможность экспорта воркбуков {#workbooks-export-disable}


{% include [business-note](../../_includes/datalens/datalens-functionality-available-business-note.md) %}


По умолчанию пользователи с ролью `{{ roles-datalens-admin }}` могут экспортировать воркбуки. Эту возможность можно отключить на уровне экземпляра {{ datalens-short-name }}. После запрета экспорта:

* В интерфейсе воркбуков не будет отображаться кнопка ![icon](../../_assets/console-icons/file-arrow-up.svg) **Экспортировать**.
* Пользователи не смогут экспортировать воркбуки.
* Файлы экспорта в формате JSON, созданные до отключения, можно использовать для импорта в новый воркбук.

Отключить возможность экспорта может только [администратор](../security/roles.md#datalens-admin) экземпляра {{ datalens-short-name }} (роль `{{ roles-datalens-admin }}`).

Чтобы запретить экспорт воркбуков:

1. На панели слева выберите ![sliders](../../_assets/console-icons/sliders.svg) **Настройки сервиса**.
1. Отключите опцию **Экспорт воркбуков** (по умолчанию она включена).



## Ограничения {#restrictions}

Для экспорта и импорта недоступны следующие типы подключений:


* [{{ ydb-short-name }}](../operations/connection/create-ydb.md)
* [{{ yq-full-name }}](../operations/connection/create-yandex-query.md)
* [Yandex Monitoring](../operations/connection/create-monitoring.md)
* [Metrica](../operations/connection/create-metrica-api.md)
* [AppMetrica](../operations/connection/create-appmetrica.md)
* [Подкасты Аналитика](../operations/connection/create-podcasts.md)
* [{{ billing-name }}](../operations/connection/create-cloud-billing.md)
* [{{ datalens-short-name }} Usage Analytics](../operations/connection/create-usage-tracking.md)
* [{{ speechsense-name }}](../operations/connection/create-speechsense.md)
* [Экстрактор 1С](../operations/connection/create-extractor1c.md)
* [Битрикс24](../operations/connection/create-bitrix24.md)
* МойСклад
* Эквио
* Контур.Маркет


