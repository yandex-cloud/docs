# Уведомления

Чтобы сообщить информацию пользователю, просматривающему ваш чарт, используйте механизм уведомлений в ChartEditor.

* [{#T}](#add-notification-to-chart)
* [{#T}](#restrictions)

## Добавление уведомления в чарт {#add-notification-to-chart}

Чтобы создать уведомление, используйте метод `ChartEditor.setChartsInsights` на вкладке [JavaScript](architecture.md#js) в следующем формате:

```js
ChartEditor.setChartsInsights([
    {
        title: 'Заголовок',
        message: 'например список\n- раз\n- два\n- три',
        level: 'critical',
        locator: '1'
    },
    {
        title: 'Lorem Ipsum',
        message: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.',
        level: 'info',
        locator: '2'
    }
])
```

Метод `setChartsInsights` принимает массив объектов. Все поля обязательны:

* `title` — заголовок уведомления.
* `message` — текст уведомления на языке разметки [Markdown](https://datalens.yandex-team.ru/docs/editor/widgets/markdown/).
* `level` — тип уведомления. Возможные варианты: `info` , `warning` , `critical`. Тип уведомления определяет его приоритет и отображаемый значок. Если в чарт добавлено более одного уведомления, в свернутом виде будет отображен значок только одного уведомления.
* `locator` — уникальный идентификатор для каждого уведомления в пределах чарта.

Значок уведомления отображается в правом верхнем углу чарта, рядом со значком ![image](../../_assets/datalens/horizontal-ellipsis.svg). При нажатии на этот значок вы увидите все уведомления, которые не скрыты. Чтобы скрыть уведомление, нажмите кнопку **Ок**. Уведомление не будет отображаться у вас следующие две недели, а потом появится снова. Видимость уведомления для других пользователей не изменится. 

Значок уведомления зависит от типа уведомления: `critical`, `warning` и `info`.
Если в чарт добавлено более одного уведомления, в свернутом виде будет отображен только значок уведомления с максимальным приоритетом. Например, если есть уведомления уровня `critical`, `warning` и `info`, отображается значок `critical`, если `warning` и `info` — значок `warning`.

## Ограничения {#restrictions}

* Уведомление можно добавить только через ChartEditor. Wizard и QL-чарты не поддерживают уведомления.
* Уведомление привязано к конкретному чарту. Если необходимо разместить одно и то же уведомление для разных графиков, добавьте его на вкладку [JavaScript](architecture.md#js) в коде каждого графика.
* Нет возможности выбрать пользователя, которому показывать уведомление: сообщение увидят все пользователи.
* Скрыть уведомление можно только на две недели.
* Пользователь может скрыть уведомление только для себя. Для других пользователей видимость его не изменится.
* Нет возможности настроить период повторного отображения уведомления.
* Нет возможности показать уведомление заданное число раз для конкретного пользователя.
* Значок уведомления появляется только после отрисовки графика или появления ошибки. Нельзя настроить вывод уведомления только при получении ошибки.

#### Пример {#notification-example}

[Пример чарта с уведомлением](https://datalens.yandex-team.ru/editor/94re1oq1wqdi1-primer-charta-s-uvedomleniem-2).
