# Inconsistent aggregation among operands

`ERR.DS_API.FORMULA.VALIDATION.AGG.INCONSISTENT`

Происходит, когда аргументами одной и той же функции (или операндами одного оператора)
являются одновременно агрегированное и неагрегированное выражения.

Примеры:

- `[Sales] / SUM([Sales])`
- `[Total Sales] - [Profit]`. Где поле `Total Sales` — агрегированное выражение (показатель),
  а поле `Profit` — неагрегированное выражение. Здесь появляется ошибка,
  потому что подобное выражение невозможно вычислить: `[Total Sales]` — результат комбинирования
  всех записей группы, а выражение `[Profit]` имеет разное значение для каждой записи, а для группы не понятно,
  какое значение нужно брать. Такое выражение лишено смысла. В данной ситуации скорее всего пользователь
  имеет в виду `[Total Sales] - SUM([Profit])`.

Еще ошибка может появиться, когда у оконной функции в разделе `WITHIN` есть поля, не являющиеся ни агрегацией, ни измерением в чарте.
