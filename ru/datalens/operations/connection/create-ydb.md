# Создание подключения к {{ ydb-name }}

## Подключение к {{ ydb-name }} {#ydb-connection}

{% note info %}

{% if audience == "external" %}

Для создания подключения вам потребуется [сервисный аккаунт](../../../iam/concepts/users/service-accounts.md) с [ролью](../../../iam/operations/sa/assign-role-for-sa.md) **ydb.viewer** (или **viewer**).

{% endif %}

Для написания подзапросов в датасетах и запросов в QL-чартах используйте [синтаксис YQL](https://ydb.tech/ru/docs/yql/reference/syntax/).

{% endnote %}

Чтобы создать подключение к {{ ydb-name }}:

{% if audience == "internal" %}

1. Перейдите на [страницу подключений](https://datalens.yandex-team.ru/connections).

{% else %}

1. Перейдите на [страницу подключений](https://datalens.yandex.ru/connections).

{% endif %}

1. Нажмите кнопку **Создать подключение**.

1. Выберите подключение **{{ ydb-short-name }}**.

1. Укажите параметры подключения:

   * **Название подключения**. Задайте название подключения. Название может быть произвольным.

   {% if audience == "external" %}

   * **Облако и каталог**. Выберите каталог, в котором будет находиться ваш сервисный аккаунт.
   * **Сервисный аккаунт**. Выберите существующий сервисный аккаунт или создайте новый.
   * **База данных**. Укажите имя подключаемой базы данных.

   {% else %}

   * **OAuth-токен**. Нажмите **Получить токен** или укажите вручную OAuth-токен для работы с {{ ydb-short-name }}.
   * **Имя хоста**. Укажите путь до хоста {{ ydb-short-name }}.
   * **Порт**. Укажите порт подключения к {{ ydb-short-name }}.
   * **Имя базы данных**. Укажите имя подключаемой базы данных.

   {% endif %}
   
   * **Время жизни кеша в секундах**. Укажите время жизни кеша или оставьте значение по умолчанию. Рекомендованное значение — 300 секунд (5 минут).
   * **Уровень доступа SQL запросов**. Позволяет использовать произвольный SQL-запрос для [формирования датасета](../../concepts/dataset/settings.md#sql-request-in-datatset).

1. Нажмите **Создать** в правом верхнем углу. Подключение появится в списке.

{% include [datalens-check-host](../../../_includes/datalens/operations/datalens-check-host.md) %}