# Создание подключения к Greenplum

{% include [connection-note](../../../_includes/datalens/datalens-connection-note.md) %}

## Подключение к Greenplum {#greenplum-connection}

Чтобы создать подключение к Greenplum:

{% if audience == "internal" %}

1. Перейдите на [страницу подключений](https://datalens.yandex-team.ru/connections).

{% else %}

1. Перейдите на [страницу подключений](https://datalens.yandex.ru/connections).

{% endif %}

1. Нажмите кнопку **Создать подключение**.
1. Выберите подключение **Greenplum**.
1. В поле после имени папки задайте имя подключения. Имя может быть произвольным.

{% if audience == "internal" %}

1. Укажите параметры подключения для БД Greenplum:

    * **Имя хоста**. Укажите путь до хоста Greenplum. Вы можете указать несколько хостов через запятую. Если к первому хосту подключиться не получится, {{ datalens-short-name }} выберет следующий из списка. 
    * **Порт**. Укажите порт подключения к Greenplum.
    * **Имя базы данных**. Укажите имя подключаемой базы данных.
    * **Имя пользователя**. Укажите имя пользователя для подключения к Greenplum.
    * **Пароль**. Укажите пароль для пользователя.
    * **Время жизни кэша в секундах**. Укажите время жизни кеша или оставьте значение по умолчанию. Рекомендованное значение — 300 секунд (5 минут).
    * **Уровень доступа SQL запросов**. Позволяет использовать произвольный SQL-запрос для [формирования датасета](../../concepts/dataset/settings.md#sql-request-in-datatset).

{% else %}

1. Выберите тип подключения:

    {% list tabs %}

    - Выбрать в каталоге

      Укажите параметры подключения для БД Greenplum, доступной в {{ yandex-cloud }}:

      * **Кластер**. Укажите кластер из списка доступных кластеров Greenplum. В настройках кластера должен быть активирован флаг **Доступ из DataLens**. Если у вас нет доступного кластера, нажмите кнопку **Создать новый**.

        {% note info %}

          В списке кластеров отображаются кластеры Greenplum:

           * с правами доступа для пользователя создающего подключение;
           * созданные в том же каталоге, что и экземпляр {{ datalens-short-name }}.     

        {% endnote %}   

      * **Имя хоста**. Выберите имя хоста из списка доступных в кластере Greenplum. Вы можете выбрать несколько хостов. Если к первому хосту подключиться не получится, {{ datalens-short-name }} выберет следующий из списка. 
      * **Порт**. Укажите порт подключения к Greenplum. Порт по умолчанию — 5432.
      * **Имя базы данных**. Укажите имя подключаемой базы данных.
      * **Имя пользователя**. Укажите имя пользователя для подключения к Greenplum.             
      * **Пароль**. Укажите пароль для пользователя.  
      * **Время жизни кэша в секундах**. Укажите время жизни кеша или оставьте значение по умолчанию. Рекомендованное значение — 300 секунд (5 минут).
      * **Уровень доступа SQL запросов**. Позволяет использовать произвольный SQL-запрос для [формирования датасета](../../concepts/dataset/settings.md#sql-request-in-datatset).

    - Указать вручную

      Укажите параметры подключения для внешней БД Greenplum:

      * **Имя хоста**. Укажите путь до хоста-мастера или IP-адрес хоста-мастера Greenplum. Вы можете указать несколько хостов через запятую. Если к первому хосту подключиться не получится, {{ datalens-short-name }} выберет следующий из списка. 
      * **Порт**. Укажите порт подключения к Greenplum. Порт по умолчанию — 5432.
      * **Имя базы данных**. Укажите имя подключаемой базы данных.
      * **Имя пользователя**. Укажите имя пользователя для подключения к Greenplum.
      * **Пароль**. Укажите пароль для пользователя.
      * **Время жизни кэша в секундах**. Укажите время жизни кеша или оставьте значение по умолчанию. Рекомендованное значение — 300 секунд (5 минут).
      * **Уровень доступа SQL запросов**. Позволяет использовать произвольный SQL-запрос для [формирования датасета](../../concepts/dataset/settings.md#sql-request-in-datatset).

    {% endlist %}


{% endif %}

1. Нажмите **Создать**.

{% include [datalens-check-host](../../../_includes/datalens/operations/datalens-check-host.md) %}
