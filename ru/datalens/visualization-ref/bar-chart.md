---
title: Линейчатая диаграмма в {{ datalens-full-name }}
description: Из статьи вы узнаете, как в {{ datalens-full-name }} создать и настроить тип визуализации Линейчатая диаграмма.
---

# Линейчатая диаграмма ![](../../_assets/datalens/horizontal-bar.svg) в {{ datalens-full-name }}

Диаграмма в виде горизонтальных столбиков показывает значения одного или нескольких показателей по каждой категории. 

Длина столбика соответствует значению показателя: чем длиннее столбец, тем больше его значение. 

**Пример**

{% cut "Продажи товаров по их подкатегориям" %}

{% list tabs %}

- Представление

  ![horizontal-bar-chart](../../_assets/datalens/visualization-ref/horizontal-bar-chart/horizontal-bar-chart.png =800x)

- Исходная таблица

  Подкатегория |	Продажа
  -------------|--------- 
  Косметика и здоровье |	44К
  Кухонная |	1392К
  Кухонные товары |	1120К
  Моющие средства |	405К
  Техника для красоты и здоровья |	1760К
  Товары последней необходимости |	827К
  Чистящие средства |	304К

{% endlist %}

{% endcut %}


## Типы линейчатых диаграмм {#types}

* [с группировкой](#groupped)
* [с накоплением](#stacked)

### С группировкой {#groupped}

Диаграмма с группировкой по измерению позволяет сравнивать _две или несколько категорий_ по одному показателю. 
  
* Например, группировка по типу доставки позволяет сравнить стоимость товаров, доставленных курьером и самовывоз. Категории выделяются разным цветом, а длина столбцов выражает величину показателя.

  {% cut "Пример" %}

  {% list tabs %}

  - Представление

    ![horizontal-bar-chart-groupped-1](../../_assets/datalens/visualization-ref/horizontal-bar-chart/horizontal-bar-chart-groupped-1.png =800x)

  - Исходная таблица

    Подкатегория |	Доставка |	Самовывоз
    -------------|---------| ----------|
    Косметика и здоровье |	12К |	32К
    Кухонная |	394К |	998К
    Кухонные товары |	371К |	749К
    Моющие средства |	127К |	278К
    Техника для красоты и здоровья |	497К |	1263К
    Товары последней необходимости |	268К |	560К

  {% endlist %}

  {% endcut %}

* Диаграмма с группировкой позволяет сравнивать _два или несколько показателей_, например количество заказов и продуктов. Длина столбца выражает величину показателя.

  {% cut "Пример" %}

  {% list tabs %}

  - Представление

    ![horizontal-bar-chart-groupped-2](../../_assets/datalens/visualization-ref/horizontal-bar-chart/horizontal-bar-chart-groupped-2.png =800x)

  - Исходная таблица

    Подкатегория |	Заказы |	Количество продуктов
    -------------|---------| ----------|
    Косметика и здоровье |	481 |	1470
    Кухонная |	758 |	2402
    Кухонные товары |	480 |	1371
    Моющие средства |	835 |	2551
    Техника для красоты и здоровья |	863 |	2705
    Товары последней необходимости |	705 |	2152
    Чистящие средства |	770 |	2460

  {% endlist %}

  {% endcut %}

### С накоплением {#stacked}

Диаграмма с накоплением показывает соотношение внутренних сегментов в итоговой величине. 

* Сегменты располагаются друг за другом, а начало каждого следующего сегмента — крайняя граница предыдущего.
  
* Диаграмма подходит, когда нужно посмотреть вклад каждого показателя в суммарный итог по периодам времени или по категориям. Например: увидеть доли статей расхода в общей сумме бюджета.

{% cut "Пример" %}

{% list tabs %}

- Представление

  ![horizontal-bar-chart-stacked](../../_assets/datalens/visualization-ref/horizontal-bar-chart/horizontal-bar-chart-stacked.png =800x)

- Исходная таблица

  Месяц |	Бензин | Аренда  | Еда | Коммунальные
  ----- | ---------| ---------- | ---------- | ---------- 
  Январь 2019	| 100	| 600	| 300	| 500
  Февраль 2019	| 150	| 600	| 250	| 700
  Март 2019	| 100	| 600	| 450	| 400
  Апрель 2019	| 120	| 600	| 370	| 510
  Май 2019	| 100	| 600	| 300	| 530
  Июнь 2019	| 130	| 600	| 310	| 600
  Июль 2019	| 150	| 600	| 330	| 510
  Август 2019	| 120	| 600	| 250	| 550
  Сентябрь 2019	| 110	| 650	| 380	| 500
  Октябрь 2019	| 120	| 650	| 300	| 550
  Ноябрь 2019	| 130	| 650	| 310	| 540
  Декабрь 2019	| 100	| 650	| 400	| 550

{% endlist %}

{% endcut %}

## Секции в визарде {#wizard-sections}

Секция<br/> в визарде| Описание
----- | ----
Y | Измерения. Может быть указано одно или два измерения.
X | Показатель. Может быть указано несколько показателей. При добавлении в секцию более одного показателя в секции **Цвета** появится измерение [Measure Names](../concepts/chart/measure-values.md). [Measure Names](../concepts/chart/measure-values.md) можно перенести на ось Y.
Цвета | Измерение или поле [Measure Names](../concepts/chart/measure-values.md). Влияет на цвет столбцов. [Measure Names](../concepts/chart/measure-values.md) удаляется нажатием на кнопку крестика или путем удаления показателей с оси X.
Сортировка | Измерение или показатель. Влияет на сортировку столбцов. Направление сортировки отмечено значком рядом с полем: по возрастанию ![image](../../_assets/console-icons/bars-ascending-align-left.svg) или по убыванию ![image](../../_assets/console-icons/bars-descending-align-left.svg). Чтобы изменить направление сортировки, нажмите значок.
Подписи | Показатель. Отображает значения показателя на диаграмме. Если в секцию **Y** добавлено несколько показателей, перетащите в эту секцию показатель [Measure Values](../concepts/chart/measure-values.md). Поддерживается использование [функций разметки](../function-ref/markup-functions.md). Для полей с типом `Строка` можно настроить использование базового синтаксиса [{#T}](../dashboard/markdown.md): нажмите на значок перед названием поля и включите опцию **Markdown**.
Фильтры | Измерение или показатель. Используется в качестве фильтра.

## Создание линейчатой диаграммы {#create-diagram}

Чтобы создать линейчатую диаграмму:


{% include [datalens-workbooks-collections-note](../../_includes/datalens/operations/datalens-workbooks-collections-note-step4.md) %}


1. {% include [create-1](../../_includes/datalens/visualization-ref/create-1.md) %}
1. {% include [create-2](../../_includes/datalens/visualization-ref/create-2.md) %}
1. {% include [create-3](../../_includes/datalens/visualization-ref/create-3.md) %}
1. {% include [create-4](../../_includes/datalens/visualization-ref/create-4.md) %}
1. Выберите тип чарта **Линейчатая диаграмма**.
1. Перетащите одно или несколько измерений из датасета в секцию **Y**. Значения отобразятся по оси Y.
1. Перетащите один или несколько показателей из датасета в секцию **X**.
1. Перетащите измерение из датасета или поле [Measure Names](../concepts/chart/measure-values.md) в секцию **Цвета**. 

По умолчанию отображается диаграмма с накоплением.

### Создание линейчатой диаграммы с группировкой {#grouped-bar-chart}

Чтобы отобразить диаграмму с группировкой по оси Y:

1. Перейдите к уже созданной линейчатой диаграмме.
1. В зависимости от количества показателей в секции **X** выполните следующие действия:
    
   {% list tabs group=indicators_number %}
    
   - Один показатель {#one}
       
     1. Проверьте наличие измерения в секции **Цвета**.
     1. Продублируйте это измерение в секцию **Y**. Порядок измерений будет влиять на порядок группировки.
    
   - Два и больше показателей {#more}
    
     1. Перетащите измерение [Measure Names](../concepts/chart/measure-values.md) в секцию **Цвета**.
     1. Перетащите измерение [Measure Names](../concepts/chart/measure-values.md) в секцию **Y**. Порядок измерений будет влиять на порядок группировки.

   {% endlist %}

### Добавление цвета столбцов по показателю {#column-colors}

Чтобы окрасить столбцы на диаграмме в зависимости от значений показателя:

1. Перейдите к уже созданной столбчатой диаграмме.
1. В зависимости от количества показателей в секции **X** выполните:

   {% list tabs group=indicators_number %}

    - Один показатель {#one}

      Продублируйте показатель из секции **X** в секцию **Цвета**.

      Столбцы на диаграмме окрасятся в зависимости от значений показателя.

      {% cut "Пример" %}

      ![image](../../_assets/datalens/operations/chart/bar-colors-1.png)

      {% endcut %}

    - Два и больше показателей {#more}

      Перетащите показатель [Measure Values](../concepts/chart/measure-values.md) в секцию **Цвета**.

      Столбцы на диаграмме окрасятся в зависимости от значений всех показателей, указанных в секции **X**.

      {% cut "Пример" %}

      ![image](../../_assets/datalens/operations/chart/bar-colors-2.png)

      {% endcut %}

   {% endlist %}

1. Дополнительно настройте градиент цвета для показателя. Для этого в правом верхнем углу секции **Цвета** нажмите значок ![image](../../_assets/console-icons/gear.svg) (значок появляется при наведении указателя на секцию).
1. В настройках цвета укажите:

   * **Тип градиента** — выберите двухцветный или трехцветный.
   * **Цвет градиента** — выберите цветовую гамму градиента из списка.
   * **Направление градиента** — измените направление градиента с помощью значка ![image](../../_assets/console-icons/arrow-right-arrow-left.svg).
   * **Задать пороговые значения** — установите пороговые числовые значения, которые будут соответствовать каждому цвету. Работает, если в секции **X** один показатель.

### Настройка отображения пустых (`null`) значений {#null-settings}

{% include [datalens-chart-null-settings](../../_includes/datalens/datalens-chart-null-settings.md) %}

## Рекомендации {#recomendations}

* {% include [category-text](../../_includes/datalens/datalens-category-text.md) %}
* Расположите сегменты внутри столбцов так, чтобы самые крупные или самые важные категории находились слева, ближе к оси Y диаграммы. Так вам будет легче сравнивать величины.
* {% include [colors](../../_includes/datalens/visualization-ref/colors.md) %}

{% include [see-also](../../_includes/datalens/visualization-ref/see-also-sub.md) %}
