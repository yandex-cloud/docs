---
title: "Модель данных в {{ datalens-full-name }}"
description: "В статье описывается модель данных сервиса {{ datalens-full-name }}. В качестве источника данных используются одна или несколько таблиц. Если в источнике доступно несколько таблиц, их можно объединить с помощью оператора JOIN. Объединение происходит через создание связи. В связи вы указываете поля исходной таблицы и поля таблицы, с которой происходит объединение."
---

# Модель данных в {{ datalens-name }}

Набор данных датасета представлен в виде полей.

## Источник данных {#source}

В качестве источника данных используются одна или несколько таблиц. Если в источнике доступно несколько таблиц, их можно объединить с помощью оператора [JOIN]{% if lang == "ru" %}(https://ru.wikipedia.org/wiki/Join_(SQL)){% else %}(https://en.wikipedia.org/wiki/Join_(SQL)){% endif %}.
Объединение происходит через создание связи. В связи вы указываете поля исходной таблицы и поля таблицы, с которой происходит объединение.

Связь таблиц происходит автоматически по первому совпадению имени полей и типа данных полей.

При этом вы можете:
- изменять поля в связи;
- добавлять новые связи или удалять существующие;
- изменять в связи тип оператора `JOIN` (`INNER`, `LEFT`, `RIGHT`, `FULL`).

Оператор `JOIN` применяется, если в запросе из чарта участвуют поля из двух и более таблиц датасета.

Оператор `JOIN` не применяется, если:
- датасет содержит одну таблицу;
- датасет содержит несколько таблиц, но в запросе участвуют поля только от одной из этих таблиц.

Подробнее про оптимизацию при использовании оператора `JOIN` в разделе [{#T}](../data-join.md#join-optimization).

## Поля данных {#field}

Поля определяют структуру и формат датасета. Существуют следующие типы полей:

- **Измерение**. Содержит значения, которые определяют характеристику данных. Например, город, дата покупки, категория продукта. К полю с измерением не применяется функция агрегации, в противном случае поле становится показателем. В интерфейсе измерения отображаются зеленым цветом.
- **Показатель**. Содержит числовые значения, к которым применяются функции агрегации (сведения). Например, сумма кликов, количество переходов. Если снять с такого поля функцию агрегации, оно станет измерением. В интерфейсе показатели отображаются синим цветом.

В интерфейсе создания датасета и в визарде вы можете дублировать существующие поля и создавать новые, а также использовать [функции агрегации](#aggregation).

{% note warning %}

Максимальное количество полей в одном датасете — 1200.

{% endnote %}

{{ datalens-short-name }} позволяет создавать вычисляемые поля с помощью формул.
Для записи формул вы можете использовать существующие поля датасета, константы и функции.
Полный список функций приведен в разделе [Справочник функций](../../function-ref/all.md).

Подробнее о вычисляемых полях в разделе [{#T}](../calculations/index.md).

## Агрегация данных {#aggregation}

Для полей с различными типами данных доступны следующие функции агрегации:

Функция | Описание | Поддерживаемые типы
----- | ----- | -----
Нет | Без агрегации | Все типы
Среднее | Среднее арифметическое значений | `Дробное число`<br/>`Целое число`
Количество | Количество записей| `Строка`<br/>`Дата`<br/>`Дата и время`<br/>`Дробное число`<br/>`Целое число`
Количество уникальных | Количество уникальных записей | `Строка`<br/>`Дата`<br/>`Дата и время`<br/>`Дробное число`<br/>`Целое число`
Максимум | Максимальное значение | `Дата`<br/>`Дата и время`<br/>`Дробное число`<br/>`Целое число`
Минимум | Минимальная значение | `Дата`<br/>`Дата и время`<br/>`Дробное число`<br/>`Целое число`
Сумма | Сумма значений | `Дробное число`<br/>`Целое число`

{% note info %}

Для некоторых источников не доступны функции агрегации.
Источники, для которых доступна функция, перечислены в разделе **Поддержка источников данных** на странице функции агрегации в [справочнике](../../function-ref/aggregation-functions.md).

{% endnote %}

Подробнее о типах данных в разделе [{#T}](../data-types.md).

#### См. также {#see-also}

* [{#T}](../../operations/dataset/create.md)
* [{#T}](../../operations/dataset/create-calculated-field.md)
{% if audience != "internal" %} * [{#T}](../../operations/dataset/materialize.md) {% endif %}