# Настройки датасета

Настройки датасета определяют, каким образом датасет будет работать с данными источника.

## Подключение нескольких таблиц {#multi-table}

Если в источнике доступно несколько таблиц вы можете объединять их с помощью оператора JOIN.
Объединение происходит через создание связи. В связи вы указываете поля исходной таблицы и поля таблицы, с которой происходит объединение.

Доступны следующие операторы JOIN:
* [INNER](https://en.wikipedia.org/wiki/Join_(SQL)#Inner_join)
* [LEFT](https://en.wikipedia.org/wiki/Join_(SQL)#Left_outer_join)
* [RIGHT](https://en.wikipedia.org/wiki/Join_(SQL)#Right_outer_join)
* [FULL](https://en.wikipedia.org/wiki/Join_(SQL)#Full_outer_join)

## Режимы работы с источником данных {#mode}

Датасет может работать в одном из двух режимов, который зависит от источника данных.

Датасет может работать с источником в следующих режимах:
- [Прямой доступ](#direct). Все запросы к данным {{ datalens-short-name }} выполняет на стороне источника.
- [Материализация](#materialization). {{ datalens-short-name }} предварительно сохраняет данные в БД и работает с ними.

### Прямой доступ {#direct}

В режиме прямого доступа {{ datalens-short-name }} материализует только часть данных для превью датасета.

Все запросы к данным исполняются на стороне источника.

{% note info %}

Для следующих источников доступен только режим прямого доступа:
- Metrica API
- AppMetrica API

{% endnote %}

### Материализация {#materializaton}

Материализация — процесс загрузки данных из источника в базу данных {{ datalens-short-name }}.
Материализация может происходить как единовременно, так и периодически по расписанию.

#### Единовременная материализация {#one-time-materialization}

Данные загружаются в БД материализации единовременно. После этого {{ datalens-short-name }} делает запросы только к материализованным данным.

Чтобы синхронизировать хранилище {{ datalens-short-name }} с источником, данные можно загрузить повторно.

{% note info %}

Если вы используете в качестве источника данных CSV-файл, {{ datalens-short-name }} автоматически материализует датасет.

{% endnote %}

#### Периодическая материализация {#periodic-materialization}

Данные загружаются в БД материализации {{ datalens-short-name }} по расписанию. Расписание задается в настройках датасета.

Например, по четвергам каждую вторую неделю в 03:00.

Минимальный доступный интервал — 1 раз в день.

## Управление доступом {#access-management}

Вы можете настроить права доступа ко всему датасету. {% if audience != "internal" %} Подробнее в разделе [{#T}](../../operations/dataset/manage-access.md). {% endif %}

Также можно разграничить доступ к данным на уровне строк (_Row-level security_ или _RLS_). Подробнее в разделе [{#T}](../../operations/dataset/manage-row-level-security.md).

#### См. также {#see-also}
- [{#T}](../../operations/dataset/create.md)
- [{#T}](../../operations/dataset/materialize.md)
- [{#T}](../calculations/index.md)
- [{#T}](../calculations/index.md#how-to-create-calculated-field)