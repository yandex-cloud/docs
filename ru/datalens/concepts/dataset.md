# Датасет

_Датасет_ описывает набор данных и его структуру. Набор данных датасета представлен в виде полей. Подробнее в разделе [{#T}](#data-model).

{{ datalens-full-name }} позволяет создать датасет на основе источника данных, для которого существует подключение.
Источником данных для датасета может быть только одна таблица.

В {{ datalens-short-name }} есть несколько режимов работы датасета с источниками данных. Подробнее в разделе [{#T}](#mode).

## Модель данных {#data-model}

Набор данных датасета представлен в виде набора полей.

### Поле данных {#field}

Поля определяют структуру и формат набора данных. Поле может быть одним из следующих типов:

- **Измерение**. Содержит значения, которые определяют характеристику данных. Например, город, дата покупки, категория продукта. К полю с измерением не применяется функция агрегации, в противном случае поле становится показателем. В интерфейсе измерения отображаются зеленым цветом.
- **Показатель**. Содержит числовые значения, к которым применяются функции агрегации (сведения). Например, сумма кликов, количество переходов. Если снять с такого поля функцию агрегации, оно станет измерением. В интерфейсе показатели отображаются синим цветом.

При создании датасета вы можете дублировать существующие поля и создавать новые.

### Вычисляемое поле {#calculated-field}

{{ datalens-short-name }} позволяет создавать вычисляемые поля с помощью [функций агрегации](#aggregation) и функций, которые доступны для источника данных.
Полный список функций в разделе [Справочник функций](../function-ref/all.md).

### Типы данных {#data-types}

В сервисе {{ datalens-short-name }} есть следующие типы данных:

- `Логический`
- `Дата` (в формате `ГГГГ-ММ-ДД`)
- `Дата и время` (в формате `ГГГГ-ММ-ДД чч:мм:сс`)
- `Дробное число`
- `Целое число`
- `Строка`

### Агрегация данных {#aggregation}

Для показателей доступны следующие функции агрегации:

Имя | Описание | Поддерживаемые типы
----- | ----- | -----
Нет | Без агрегации | Все типы
Среднее | Среднее арифметическое значений | `Дробное число`<br/>`Целое число`
Количество | Количество записей| `Строка`<br/>`Дата`<br/>`Дата и время`<br/>`Дробное число`<br/>`Целое число`
Количество уникальных | Количество уникальных записей | `Строка`<br/>`Дата`<br/>`Дата и время`<br/>`Дробное число`<br/>`Целое число`
Максимум | Максимальное значение | `Дата`<br/>`Дата и время`<br/>`Дробное число`<br/>`Целое число`
Минимум | Минимальная значение | `Дата`<br/>`Дата и время`<br/>`Дробное число`<br/>`Целое число`
Сумма | Сумма значений | `Дробное число`<br/>`Целое число`

## Режим работы с источником данных {#mode}

Датасет работает с источником в следующих режимах:
- Прямой доступ.
- Единовременная материализация.
- Периодическая материализация.

### Прямой доступ {#direct}

Все запросы к данным исполняются на стороне источника.

{% note info %}

Если в качестве источника данных вы используете Metrica API, то {{ datalens-short-name }} будет использовать прямой доступ к данным.

{% endnote %}


### Единовременная материализация {#single-materialization}

Данные загружаются в БД материализации {{ datalens-short-name }} единовременно. Все последующие запросы обрабатываются на загруженных данных.
Чтобы синхронизировать хранилище {{ datalens-short-name }} с источником, данные можно загрузить повторно.

{% note info %}

Если в качестве источника данных вы используете CSV-файл, то {{ datalens-short-name }} автоматически материализует датасет.

{% endnote %}

### Периодическая материализация {#periodic-materialization}

Данные загружаются в БД материализации {{ datalens-short-name }} по расписанию. Расписание задается в настройках датасета.

## Управление доступом {#access-management}

Вы можете настроить права доступа к датасету. Подробнее в разделе [{#T}](../security/index.md).

#### См. также
- [{#T}](../operations/dataset/create.md)
- [{#T}](../operations/dataset/materialize.md)