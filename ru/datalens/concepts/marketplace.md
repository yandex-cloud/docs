# Marketplace

{{ datalens-short-name }} Marketplace — это платформа, которая содержит готовые решения и дополнения к {{ datalens-short-name }}. Эти решения и дополнения называются _продуктами_. Они расширяют функциональность {{ datalens-short-name }} и позволяют добавлять дополнительные наборы данных.

{% note info %}

{{ datalens-short-name }} Marketplace доступен на [специальной странице в {{ datalens-short-name }}](https://datalens.yandex.ru/marketplace/) и на странице [Yandex {{ marketplace-name }}](https://cloud.yandex.ru/marketplace?type=datalens) во вкладке **Анализ данных**.

{% endnote %} 

## Продукт {#product}

_Продукт_ — это подготовленный объект для работы в {{ datalens-short-name }}. Продукты могут содержать драйверы для новых подключений, данные для анализа, а также различные шаблоны чартов и дашбордов. 

Продукты предоставляются _издателем_. Издателем в Marketplace является компания (например, Яндекс). Издатель размещает свои продукты в Marketplace и назначает им [тариф](#pricing). Также он может обновлять продукты и дополнять их.

{% note warning %}

Издатель может ограничить выгрузку данных в формате CSV для продукта из Marketplace.

{% endnote %}

### Категории продуктов {#product-types}

В {{ datalens-short-name }} Marketplace существуют следующие категории продуктов:

* **Датасеты** — наборы данных с преднастроенными дашбордами. На их основе вы можете создавать собственные чарты, дашборды, а также обогащать ими собственные данные.

* **Геослои** — датасеты с привязкой к геоданным (регионы, города, районы и более детальные локации города). На их основе вы можете создавать различные [карты](chart/types.md#map-chart) и добавлять их на дашборды.

* **Коннекторы** — дополнительные типы подключений. Позволяют создавать подключения к внешним системам, которые недоступны в {{ datalens-short-name }} по умолчанию.

* **Темплейты** — шаблоны дашбордов, которые вы можете использовать на своих данных. Для этого вам надо заменить подключение для темплейта.

### Тарифы {#pricing}

Существует два типа ценовой политики для продуктов из Marketplace, которые имеют свои особенности:

* **Бесплатно** (_Free_). Продукт не тарифицируется.
    * Подключить продукт может любой пользователь экземпляра {{ datalens-short-name }}.
    * Данные доступны даже после отказа от подписки.

* **По подписке** (_Monthly_). Продукт тарифицируется ежемесячно.
    * Подключить продукт по подписке может только пользователь с ролью [datalens.instances.admin](../security/index.md#users-roles).  
    * Списание средств за продукт происходит в день подключения.
    * Подписка на продукты автоматически продлевается: списание средств происходит тем же числом следующего месяца.
        > Например, если вы подключили продукт 2 мая, то следующее списание произойдет 2 июня.
    * Для некоторых продуктов вы можете оплатить часть подписки — только за те данные, которые вам необходимы.
    * При отказе от подписки данные перестают быть доступны после завершения оплаченного периода.
        > Например, если вы оплатили продукт 15 мая, а отказались от него 26 мая, то продукт будет вам доступен до 15 июня. 

#### Пример частичного расчета {#pricing-example}

Например, вы купили подписку на данные по одному городу (Москва) и затем добавили еще один город (Санкт-Петербург). После этого вы решили отказаться от подписки на один из городов (Москва). В таком случае будет следующая последовательность событий:

Дата | Событие
---- | -----
**3.10.2020** | Вы купили данные по Москве. {{ datalens-short-name }} сразу спишет необходимую сумму. Дата следующего платежа — **3.11.2020**.
**5.10.2020** | Вы купили данные по Санкт-Петербургу. {{ datalens-short-name }} сразу спишет необходимую сумму. Дата следующего платежа — **5.11.2020**.
**15.10.2020** | Вы отказались от подписки на данные по Москве. {{ datalens-short-name }} считает эти данные оплаченными, поэтому они будут вам доступны до **3.11.2020**. 
**3.11.2020** | {{ datalens-short-name }} не продлит вашу подписку на данные по Москве. Данные по этого городу больше не будут доступны.
**5.11.2020** | {{ datalens-short-name }} продлит подписку на данные по Санкт-Петербургу и сразу спишет необходимую сумму.

### Добавление продукта из Marketplace {#how-to-add-a-marketplace-product}

Добавить бесплатный продукт может любой пользователь экземпляра {{ datalens-short-name }}. Добавить продукт с подпиской может только пользователь с ролью [datalens.instances.admin](../security/index.md#users-roles).

Вы можете добавить геослой, датасет, коннектор и темплейт:

{% list tabs %}

- Геослой

  1. На главной странице сервиса {{ datalens-full-name }} в левом меню выберите **Marketplace**.
  1. В правом меню в разделе **Категория** выберите **Геослои**. 
  1. Выберите продукт, который вы хотите добавить. Например, бесплатный геослой [Организации: спрос и предложение](https://datalens.yandex.ru/marketplace/f2e0alcha1ta8ocrn99f).
  1. В открытом окне с описанием продукта нажмите **Подключить**.
  1. Укажите путь для сохранения продукта и нажмите **Сохранить**. Добавленный продукт отобразится на [странице навигации](https://datalens.yandex.ru/navigation/).

- Датасет

  1. На главной странице сервиса {{ datalens-full-name }} в левом меню выберите **Marketplace**.
  1. В правом меню в разделе **Категория** выберите **Датасеты**.
  1. Выберите продукт, который вы хотите добавить. Например, бесплатный датасет [Sample Superstore](https://datalens.yandex.ru/marketplace/f2e0000r63qkp2ywqpco).
  1. В открытом окне с описанием нажмите **Подключить**.
  1. Укажите путь для сохранения продукта и нажмите **Сохранить**. Добавленный продукт отобразится на [странице навигации](https://datalens.yandex.ru/navigation/). Вы можете использовать датасет для создания собственных чартов.

- Коннектор

  1. На главной странице сервиса {{ datalens-full-name }} в левом меню выберите **Marketplace**.
  1. В правом меню в разделе **Категория** выберите **Коннекторы**. 
  1. Выберите продукт, который вы хотите добавить. Например, бесплатный коннектор [ДашбордКоннектор](https://datalens.yandex.ru/marketplace/f2euv3r73pln2g18nckh).
  1. В открытом окне с описанием нажмите **Подключить**.
  1. Подтвердите покупку при необходимости. После подтверждения вы будете направлены на страницу создания подключения на основе этого коннектора.

      {% note info %}
      
      Вы можете создать подключение позже с помощью кнопки **Развернуть** на странице продукта.
      
      {% endnote %}

  1. Создайте подключение на основе коннектора. После создания следуйте инструкциям, которые предоставлены издателем коннектора.
  
- Темплейт

  1. На главной странице сервиса {{ datalens-full-name }} в левом меню выберите **Marketplace**.
  1. В правом меню в разделе **Категория** выберите **Темплейты**.
  1. Выберите продукт, который вы хотите добавить. Например, бесплатный темплейт [Metrica Live Demo](https://datalens.yandex.ru/marketplace/f2e5hpq5mc7bscsjc6jr).
  1. В открытом окне с описанием нажмите **Подключить**. Поле отобразится в списке полей. Вы можете его использовать в качестве источника данных для чарта.
  1. Укажите путь для сохранения продукта и нажмите **Сохранить**. Добавленный продукт отобразится на [странице навигации](https://datalens.yandex.ru/navigation/). Теперь вы можете зайти в настройки подключения темплейта и изменить их.

{% endlist %}

### Удаление продукта, добавленного ранее из Marketplace {#how-to-delete-a-marketplace-product}

Вы можете отказаться от подписки на продукт из Marketplace:

1. На главной странице сервиса {{ datalens-full-name }} в левом меню выберите **Marketplace**.
1. Выберите продукт, от подписки на который вы хотите отказаться.
  
    {% note tip %}
  
    Вы можете отфильтровать купленные продукты: в разделе **Категории** выберите **Покупки**.
  
    {% endnote %}
    
1. На странице продукта рядом с кнопкой **Развернуть** нажмите на значок ![image](../../_assets/datalens/horizontal-ellipsis.svg) и выберите **Отказаться**.
1. Нажмите **Подтвердить**. Вы отказались от подписки на продукт.
