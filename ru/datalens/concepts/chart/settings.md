# Настройки чарта

Вы можете настраивать чарты. Например, добавить отображение легенды, настроить цветовую схему, указать собственный заголовок.

Доступность настроек зависит от типа настраиваемого чарта.

## Общие настройки {#common-settings}

Общие настройки влияют на общее отображение чартов.
Чтобы открыть общие настройки, нажмите значок ![image](../../../_assets/datalens/gear.svg) в левой части экрана над чартом.

{% note warning %}

Указанные настройки доступны не для всех видов чартов.

{% endnote %}

Название | Описание
----- | -----
Заголовок | Задает заголовок для чарта.<br/><br/>Доступные значения:<br/>**Скрыть** — скрывает заголовок.<br/>**Показать** — отображает заголовок. В текстовом поле справа вы можете ввести текст заголовка.
Легенда | Отображает легенду под чартом. Легенда содержит цвета чарта с текстовыми описаниями, которые соответствуют значениям полей в секции **Цвета**.<br/><br/>Доступные значения:<br/>**Скрыть** — скрывает легенду.<br/>**Авто** — отображает легенду, если указано поле в секции **Цвета**.
Сумма в тултипах | Отображает сумму в тултипе при наведении на отображение чарта.<br/><br/>Доступные значения:<br/>**Вкл** — отображает сумму в тултипе.<br/>**Выкл** — скрывает сумму в тултипе.
Навигатор | Отображает дополнительный элемент под чартом — навигатор. Он позволяет уменьшить выборку данных, которая отображается в чарте.<br/><br/>Доступные значения:<br/>**Вкл** — отображает навигатор.<br/>**Выкл** — скрывает навигатор.<br/>Подробнее см. [инструкцию](../../operations/chart/config-chart-navigator.md).
Пагинация | Разбивает таблицу на страницы.<br/><br/>Доступные значения:<br/>**Вкл** — отображать таблицу по частям на страницах.<br/>**Выкл** — отображать таблицу целиком.
Лимит | Задает количество строк для экспорта. Также это количество строк будет отображаться на одной странице. Настройка доступна, если настройка **Пагинация** включена.
Группировка | Отображает уникальные значения полей.<br/><br/>Доступные значения:<br/>**Вкл** — отображать уникальные значения.<br/>**Выкл** — отображать все значения.
Итоги | Отображает строку с итоговыми значениями для столбцов в таблице. Значения в строке рассчитываются по тем же формулам, что и [агрегация](../dataset/data-model.md#aggregation) в показателе.<br/><br/>Доступные значения:<br/>**Вкл** — отображать строку **Итого**.<br/>**Выкл** — скрыть строку **Итого**.

## Настройки полей {#field-settings}

Вы можете настраивать измерения и показатели.
Чтобы открыть настройки измерения или показателя, нажмите значок слева от его названия.

{% note info %}

Если применяете к измерению агрегацию — он будет действовать как показатель и будут доступны настройки показателей.

{% endnote %}

### Измерения {#measure-settings}

Название | Описание
----- | -----
Название | Задает имя измерения.
Тип | Задает тип данных измерения.
Группировка | Задает тип группировки или округление. Настройка доступна только для измерений типа **Дата** и **Дата и время**.
Формат | Задает формат отображения значения.
Режим даты | Задает режим отображения даты. Настройка доступна только для измерений типа **Дата** и **Дата и время**.<br/><br/>Доступные значения:<br/>**Непрерывный** — отображать все даты непрерывно.<br/>**Дискретный** — отображать даты, которые содержат значения.
Агрегация | Задает тип агрегации. Функции агрегации доступны в соответствии с таблицей [{#T}](../dataset/data-model.md#aggregation).

### Показатели {#indicator-settings}

Название | Описание
----- | -----
Название | Задает имя показателя.
Тип | Задает тип данных показателя.
Агрегация | Задает тип агрегации. Функции агрегации доступны в соответствии с таблицей [{#T}](../dataset/data-model.md#aggregation).
Формат | Задает формат отображения значения.
Знаков после запятой | Задает количество знаков, отображаемых у значения после запятой.
Отображать группы разрядов | Позволяет отображать разряды числовых значений.<br/><br/>Доступные значения:<br/>**С разделителем** — отображать пробелы между разрядами.<br/>**Слитно** — скрыть пробелы между разрядами.
Префикс | Задает текст, который отображается перед значением.
Постфикс | Задает текст, который отображается после значения.
Размерность | Задает масштаб округления значений.

## Настройки секций {#section-settings}

Чтобы открыть настройки секции, нажмите значок ![image](../../../_assets/datalens/gear.svg) в строке с названием секции.

### Оси {#axis-settings}

Настройки осей доступны только для тех чартов, у которых есть хотя бы одна ось X или Y: 
 - Линейная диаграмма
 - Диаграмма с областями (в том числе Нормированная)
 - Столбчатая диаграмма (в том числе Нормированная)
 - Линейчатая диаграмма (в том числе Нормированная)
 - Точечная диаграмма
 
Вы можете задавать настройки как для оси **X**, так и **Y**.

{% note warning %}

Не все указанные настройки доступны для всех осей.

{% endnote %}

Название | Описание
----- | -----
Название оси | Задает подпись к оси.<br/><br/>Доступные значения:<br/>**Авто** — использует название поля. Если секция содержит несколько полей, то {{ datalens-short-name }} использует имя поля, которое указано первым в списке.<br/>**Вручную** — позволяет задать имя оси вручную в текстовом поле.<br/>**Выкл** — не отображает подписи к оси.
Сетка | Отображает сетку на чарте.<br/><br/>Доступные значения:<br/>**Вкл** — отображает сетку.<br/>**Выкл** — скрывает сетку.
Шаги сетки, px | Задает шаг сетки в пикселях.<br/>Настройка доступна, если настройка **Сетка** включена.<br/><br/>Доступные значения:<br/>**Авто** — вычисляет размер сетки автоматически.<br/>**Вручную** — позволяет задать размер сетки в пикселях.
Скрыть подписи | Скрывает подписи к оси, которые соответствуют значениям поля.<br/><br/>Доступные значения:<br/>**Да** — скрывает подписи к осям.<br/>**Нет** — отображает подписи к осям.
Вид подписей | Задает вид отображения подписей. Настройка доступна, если в настройке **Скрыть подписи** указано значение **Нет**.<br/><br/>Доступные значения:<br/>**Авто** — отображает значения подписи.<br/>**Горизонтальные** — отображает значения подписей горизонтально.<br/>**Вертикальные** — отображает значения подписей вертикально.<br/>**Под углом** — отображает значения подписей под углом 45 градусов.
Пустые отображения (null) | Задает способ обработки пустых значений.<br/><br/>Доступные значения:<br/>**Не отображать** — не отображает пустые значения в чарте.<br/>**Соединять** — соединяет значения полей, между которыми находятся пустые значения.<br/>**Отображать как 0** — отображает пустые значения в чартах, как нулевые (0) значения поля.
Масштабирование | Задает масштаб осей чарта.<br/><br/>Доступные значения:<br/>**Авто** — задает масштаб автоматически. Вы можете указать, каким образом {{ datalens-short-name }} задает масштаб: от 0 до максимального значения поля (**Автомасштаб от 0 до max**) или от минимального до максимального значений полей (**Автомасштаб от min до max**).<br/>**Вручную** — позволяет задать масштаб оси вручную. Вы можете задать максимальное и минимальное значения по оси — {{ datalens-short-name }} обрежет линии чарта по этому значению.
Тип оси | Задает тип оси. Настройка доступна, если поля в секции оси имеют тип **Дробное число**.<br/><br/>Доступные значения:<br/>**Линейная** — задает линейную ось.<br/>**Логарифмическая** — задает логарифмическую ось. Используйте для чартов с большим разбросом значений. Логарифмическая ось позволяет привести быстрорастущий график к удобному для анализа виду, уменьшая значения на порядок.

### Цвет {#color-settings}

В общем случае вы можете задать определенный цвет для какого-либо значения на графике.

Для древовидной диаграммы, таблицы (в том числе сводной) и карты доступны следующие настройки:

Название | Описание
----- | -----
Тип градиента | Задает количество цветов, используемых в градиенте.<br/><br/>Доступные значения:<br/>**Двухцветный** — задает два цвета для градиента.<br/>**Трехцветный** — задает три цвета для градиенета.
Цвет | Задает цвет для значения. Доступные цвета зависят от типа градиента.
Задать пороговые значения | Позволяет задать пороговые значения, которые будут соответствовать каждому цвету.
Границы | Задает границы для геополигонов.<br/><br/>Доступные значения:<br/>**Показать** — отображать границы геополигонов.<br/>**Скрыть** — скрыть границы геополигонов.

### Подписи {#sign}

Отображают значение показателя на чарте.

Подписи доступны для чартов типа:
 - Линейная диаграмма
 - Диаграмма с областями (в том числе Нормированная)
 - Столбчатая диаграмма (в том числе Нормированная)
 - Линейчатая диаграмма (в том числе Нормированная)
 - Круговая диаграмма
 - Карта

### Сортировка {#sort}

Позволяет сортировать значения на чарте по показателю или измерению.

Сортировка доступна для чартов типа:
 - Линейная диаграмма
 - Диаграмма с областями (в том числе Нормированная)
 - Столбчатая диаграмма (в том числе Нормированная)
 - Линейчатая диаграмма (в том числе Нормированная)
 - Круговая диаграмма
 - Таблица (в том числе Сводная)

### Фильтры {#filter}

Позволяют делать выборку значений по измерениям или показателям.
Фильтры доступны для всех типов чартов.

## Настройки секций карт {#map-settings}

Вы можете настраивать слои, размер и цвет точек, тултипы и фильтры.
Чтобы открыть настройки секции, нажмите значок ![image](../../../_assets/datalens/gear.svg) в строке с названием секции.

{% note warning %}

В зависимости от типа визуализации доступны разные настройки.

{% endnote %}

Название | Описание
----- | -----
Размер | Задает размер точки в зависимости от значения показателя.
Цвета | Задают цвет для геоточек и геополигонов в зависимости от значения показателя.
Тултипы | Позволяют сделать подсказку, которая отобразится при наведении указателя на точку. Подсказка будет содержать значения измерений и показателей.
Фильтры слоя | Позволяют делать выборку значений для текущего слоя по измерениям или показателям.
Общие фильтры | Позволяют делать выборку значений для всего чарта по измерениям или показателям.

### Слои {#map-layer}

На одну карту можно добавить не более 5 слоев с любыми типами визуализации:
 - Точечная карта — тип измерения **Геоточки**.
 - Фоновая карта — тип измерения **Геополигоны**.
 - Тепловая карта — тип измерения **Геоточки (тепловая карта)**.

Слои можно удалять и переименовывать.

Можно изменить прозрачность текущего слоя с помощью ползунка. Также можно задать прозрачность в текстовом поле над ползунком. 

![slider](../../../_assets/datalens/chart-settings/01-alpha-slider.png)

Прозрачность может принимать значение от 0 до 100.

### Цвета {#map-color}

Вы можете задать цвет для геоточек и геополигонов, который будет зависить от значения показателя.

Название | Описание
----- | -----
Тип градиента | Задает количество цветов, используемых в градиенте.<br/><br/>Доступные значения:<br/>**Двухцветный** — задает два цвета для градиента.<br/>**Трехцветный** — задает три цвета для градиенета.
Границы | Задает границы для геополигонов.<br/><br/>Доступные значения:<br/>**Показать** — отображать границы геополигонов.<br/>**Скрыть** — скрыть границы геополигонов.
Цвет | Задает цвет для геоточек и геополигонов. Доступные цвета зависят от типа градиента.
Задать пороговые значения | Позволяет задать пороговые значения, которые будут соответствовать каждому цвету.