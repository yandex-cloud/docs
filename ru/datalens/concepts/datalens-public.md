# DataLens Public

С помощью {{ datalens-public }} вы можете предоставить публичный доступ к созданным чартам и дашбордам: любой пользователь может просмотреть опубликованный объект без авторизации. При этом пользователь не может посмотреть настройки чарта, подключения, датасет или выполнить произвольный SQL-запрос.

Примеры публичных дашбордов и чартов можно посмотреть в разделе [{#T}](../public-talks/public-dashboards-and-charts.md).

{% include [share-note](../../_includes/datalens/datalens-share-note.md) %}

## Правила публикации {#rules}

Для публикации чарта или дашборда необходимо выполнить следующие условия:

- [Материализовать датасет](../operations/dataset/materialize.md). После материализации {{datalens-short-name}} имеет гарантированный доступ к данным. 

    {% include [datalens-materialisation](../../_includes/datalens/datalens-materialisation.md) %}

- Выдать права публикации на связанные датасеты и подключения. Для этого вам необходимо иметь права доступа `{{ permission-admin }}` на эти объекты.

Чтобы обезопасить данные, при создании подключения к БД рекомендуем предоставлять пользователю право просмотра только на таблицы, которые используются для построения датасета.

Также рекомендуем оставлять в датасете минимум данных и добавлять только необходимые фильтры на дашборд. Данные на публичном дашборде можно скачать в машиночитаемом формате.

## Как опубликовать объект {#how-to-publish}

Вы можете предоставить публичный доступ к дашборду или чарту.

{% list tabs %}

- Дашборд

  {% include [datalens-public-dashboard](../../_includes/datalens/operations/datalens-public-dashboard.md) %}

  Чтобы поделиться дашбордом, содержащим данные Метрики или AppMetrica, воспользуйтесь одним из способов:

  {% include [datalens-metrica-appmetrica-share](../../_includes/datalens/datalens-metrica-appmetrica-share.md) %}

- Чарт

  {% include [datalens-public-chart](../../_includes/datalens/operations/datalens-public-chart.md) %}

  Чтобы поделиться чартом, содержащим данные Метрики или AppMetrica, воспользуйтесь одним из способов:

  {% include [datalens-metrica-appmetrica-share](../../_includes/datalens/datalens-metrica-appmetrica-share.md) %}

{% endlist %}

## Встраивание публичных объектов {#embedded-public-chart}

Вы можете встроить опубликованные дашборды и чарты на сайт или в приложение с помощью элемента `iframe`.

{% list tabs %}

- Дашборд

  Перед добавлением дашборда в `iframe` вы можете добавить к адресу дашборда параметр, который задает его оформление:

  * `mode=tv` — убирает только навигацию.
  * `mode=embedded` — убирает шапку и навигацию, включает светлую тему принудительно.

  Параметр добавляется к адресу после знака вопроса `?`.
  Например: 

  ```
  <iframe src="https://datalens.yandex/9fms9uae7ip02?mode=embedded"></iframe>
  ```

- Чарт

  Перед добавлением чарта в `iframe` необходимо добавить к адресу чарта параметр `_embedded=1`.
  Параметр добавляется к адресу после знака вопроса `?`.
  Например: 
  
  ```
  <iframe src="https://datalens.yandex/oxxbqilhotpgk?_embedded=1"></iframe>
  ```

  Дополнительно вы можете передать параметр, который задает оформление чарта:

  * `_theme=light` — для отображения чарта в светлой теме.
  * `_theme=dark` — для отображения чарта в темной теме.

  Чтобы передать больше одного параметра, перечислите их через знак амперсанда `&`. 
  Например:

  ```
  <iframe src="https://datalens.yandex/oxxbqilhotpgk?_embedded=1&_theme=dark"></iframe>
  ```

  Вы можете применить фильтрацию к встроенным чартам. Для этого передайте параметр фильтрации в ссылке на чарт.
  Чтобы задать параметр фильтрации:

  1. Добавьте чарт и селекторы на дашборд.
  1. [Опубликуйте](#how-to-publish) дашборд.
  1. Выберите нужный селектор.
  1. Перейдите к редактированию чарта на дашборде. Нажмите значок ![image](../../_assets/datalens/horizontal-ellipsis-black.svg) и выберите **Код для вставки**.

  Параметр фильтрации добавляется к адресу чарта после знака вопроса `?`.

  ```
  <iframe src="https://datalens.yandex/oxxbqilhotpgk?e16d1014-7135-4af5-9169-1b8ab88bdb4e=East&_embedded=1&_theme=dark"></iframe>
  ```

{% endlist %}
