
# История изменений

### 7.0.0 {#upd_7.0.0}

* Постепенно мигрируем код на TypeScript
* Импорт исходников теперь из `/build/` вместо `/lib/`
* Импорт собранного бандла теперь из `/lib/` вместо `/dist/`.
Кроме этого нужно импортить `commons` часть.
Подробнее в [импортах](index.md#imports).
* Изменился способ подключения расширений.
Подробнее в [импортах](index.#imports).
* Тема по умолчанию теперь `common`.
Темы `light` и `dark` теперь `deprecated` и будут удалены в следующей версии.
Подробнее в [стилизации](index.md#style).
* `ChartKit.setSettings` разделен на  `ChartKit.setGeneralSettings` и `ChartKit.setDataProviderSettings`.
Подробнее в [общих настройках](index.md#main-settings) и [настройках провайдера данных Charts](index.md#provider-settings).
* Новые настройки в `props`.
Подробнее в [доступных свойствах](index.md#properties).
* `silentLoading` в `props`, принимавший `boolean` и `number`, разделен на `noLoader: boolean` и `loaderDelay: number`
* Публичный `reflow` метод (в частности для чартов типа график и таблица)
* Отключено анимирование переходов элементов в разные состояния

### 6.17.2 {#upd_6.17.2}

* Отображение `null` значений в таблице

### 6.17.1 {#upd_6.17.1}

* Фикс отображения значений в кастомном тултипе для `arearange`
* Возможность переопределения тайтла в кастомном тултипе через `headerFormat`

### 6.17.0 {#upd_6.17.0}

* Флаг `noJsonFn` в `setSettings`, чтобы избежать вызова `eval`

### 6.16.2 {#upd_6.16.2}

* Исправлен баг приводивший к невозможности отобразить столбец с процентными значениями в тултипе для Wizard чартов

### 6.16.1 {#upd_6.16.1}

* Исправлен баг приводивший к невозможности отобразить столбец с процентными значениями в тултипе для Editor чартов

### 6.16.0 {#upd_6.16.0}

* Пробрасывается больше информации в ошибках API для источников

### 6.15.0 {#upd_6.15.0}

* Ссылки в таблицах проходят санитизацию
* Добавлена возможность переопределения и дополнения ячеек таблицы в кастомном тултипе

### 6.14.8 {#upd_6.14.8}

* Установка границ навигатора на базовой оси X вместо оси навигатора

### 6.14.7 {#upd_6.14.7}

* Фикс локализации Яндекс Карт
* Откат переопределения стиля `overflow` на контейнере чарта (появилось в 6.14.4) из-за некорректного поведения
* Первоначальная установка границ навигатора не превышает границы данных

### 6.14.6 {#upd_6.14.6}

* Фикс проверки на наличие `group` в таблице для случая многоуровневой шапки

### 6.14.5 {#upd_6.14.5}

* Отключена сортировка для таблиц с `group: false`
* При экспорте данных таблицы не учитывался `format`
* Для показателя V2 не вызывался `onLoad` при первом рендере

### 6.14.4 {#upd_6.14.4}

* Переопределён стиль `overflow: hidden` на контейнере чарта для решения проблемы с невозможностью скролла чарта с явно заданной высотой
* Активная линия поверх основного списка отображается в тултипе только если она не выведена в основном списке

### 6.14.3 {#upd_6.14.3}

* Фикс поведения тултипа для случая, когда скролл не на body

### 6.14.2 {#upd_6.14.2}

* Английская версия меню
* Фикс некорретного позиционирования тултипа (выход за нижнюю границу окна при определённой комбинации стилей на body)
* Фикс некорретного позиционирования тултипа при наличии горизонтального скролла на странице

### 6.14.1 {#upd_6.14.1}

* Фикс отображения процентного значения в колонке для абсолютного значения в тултипе круговой диаграммы

### 6.14.0 {#upd_6.14.0}

* Темизация навигатора чарта
* Блок под заголовок в тултипе для карты рендерится только если заголовок передан

### 6.13.0 {#upd_6.13.0}

* Изменена логика отображения активной линии в тултипе и её стилизация

### 6.12.4 {#upd_6.12.4}

* Поправлена логика вспомогательной функции `deepAssign` на случай `null`

### 6.12.3 {#upd_6.12.3}

* Поправлено прямое использование компоненты `Control` (для случая `DashKit`) после изменений 6.12.1

### 6.12.2 {#upd_6.12.2}

* Откатили изменения 6.9.3

### 6.12.1 {#upd_6.12.1}

* Фикс переопределения пустым объектом непустого объекта параметров
* `Control` теперь запрашивает данные и обрабатывает ответ аналогично `ChartKit`

### 6.12.0 {#upd_6.12.0}

* Добавлена опция настройки количества отображаемых знаков после запятой для процентных значений в тултипе

### 6.11.0 {#upd_6.11.0}

* Добавлена опция показа одновременно и абсолютных и процентных значений в тултипе для `pie`, `funnel` и `solidgauge`
* Фикс проблемы выхода тултипа за границы вьюпорта после фиксации (в случае если одна из добавившихся строк длинне всех отображавшихся до фиксации)

### 6.10.2 {#upd_6.10.2}

* Фикс ситуации, когда для показателя V2 не определено свойство `size`.

### 6.10.1 {#upd_6.10.1}

* Версия Highcharts изменена с `^8.0.0` на `~8.0.0` из-за [highcharts#13461](https://github.com/highcharts/highcharts/issues/13461)

### 6.10.0 {#upd_6.10.0}

* Показатель V2 - отказ от корректировки размера шрифта в зависимости от ширины, использование набора статичных размеров

### 6.9.3 {#upd_6.9.3}

* Исправлен баг приводивший к расхождению реальных значений `params` и актуального состояния контролов в `Control`

### 6.9.2 {#upd_6.9.2}

* Для контента таблицы и markdown добавлен класс, на который будет матчиться snapter

### 6.9.1 {#upd_6.9.1}

* Вызов `onLoad` из показателя V2

### 6.9.0 {#upd_6.9.0}

* Заданы минимальный и максимальный размер шрифта для показателя V2

### 6.8.1 {#upd_6.8.1}

* Поправлена ситуация, когда возникает ошибка в блоке контролов и ошибка уходит за пределы `ChartKit` компоненты

### 6.8.0 {#upd_6.8.0}

* Скрытие зафиксированного тултипа при клике вне области графика
* Изменён принцип позиционирования тултипа на мобильных устройствах, нижняя граница теперь привязана к поинтеру
* Для `area` изменён принцип определения активной области - теперь это та, что находится под курсором
* Контрол-селект с множественным выбором в случае без выбранных значений теперь возвращает пустую строку вместо пустого массива

### 6.7.2 {#upd_6.7.2}

* Фикс суммы неотображаемых на тултипе линий при переопределении `manageTooltipConfig`

### 6.7.1 {#upd_6.7.1}

* Фикс суммы неотображаемых на тултипе линий при переопределении `manageTooltipConfig` (некорректный)

### 6.7.0 {#upd_6.7.0}

* Поправлено условие для отображаения пункта "Комментарии" в меню для новых Wizard-чартов
* Добавлен новый пропс `label` в компонент `Chips` модуля `yandex-map` для отображения подписи в центре точки

### 6.6.0 {#upd_6.6.0}

* Показатель V2 в новом дизайне как отдельный тип чарта

### 6.5.2 {#upd_6.5.2}

* Фикс работы селектора

### 6.5.1 {#upd_6.5.1}

* Исправлено некорректное отображение `stackLabels` для случая `stacking` `column` с `highstock`
* Сохранение высоты блока контроллов при появлении лоадера
* Фикс работы селектора с `postUpdateOnChange` флагом

### 6.5.0 {#upd_6.5.0}

* Корректировка максимальной высоты тултипа с учётом высоты вьюпорта в портретной ориентации мобильной версии
* Исправлено некорректное поведение некоторых контролов при ошибке в чарте

### 6.4.1 {#upd_6.4.1}

* Если первая загрузка чарта произошла с ошибкой, то выводился пустой блок

### 6.4.0 {#upd_6.4.0}

* Контролы чарта теперь отображаются, даже если чарт загрузился с ошибкой
* Для ячеек с `type: 'date'` в таблицах появился `format` для формата даты
* `returnInterval` для контрола-календаря на интервал
* Контрол-календарь на интервал для случая, когда выбрано "от" и не выбрано "до", подставляет в "до" значение "от"

### 6.3.1 {#upd_6.3.1}

* Комментарии для новых Wizard-чартов

### 6.3.0 {#upd_6.3.0}

* `Textarea` в контролах графика

### 6.2.0 {#upd_6.2.0}

* `ErrorComponent` в `setSettings`.
  Переопределение компоненты отображения ошибок чарта.

### 6.1.0 {#upd_6.1.0}

* `isMobile` в `setSettings`.
  В частности, чтобы поменять логику позиционирования тултипа на мобильных устройствах так,
чтобы он отображался над графиком в портретной ориентации.

### 6.0.0 {#upd_6.0.0}

* Новый тултип
* Обновление зависимостей
  * `highcharts: ^8.0.0`
  * `highcharts-react-official: ^3.0.0`
* `sideEffects` на `*.scss` файлы в `package.json`
* `Highcharts` не прописывается в `window`

### 5.4.0 {#upd_5.4.0}

* Обновление зависимостей
  * `@yandex-data-ui/common: ^5.22.0`
  * `axios: ^0.19.2`
* Новая зависимость `@yandex-data-ui/charts-shared`

### 5.3.0 {#upd_5.3.0}

* Клики в ячейках таблицы
* Измение параметров при клике на контрол-кнопку

### 5.2.1 {#upd_5.2.1}

* Возможность декорировать тело запроса в `requestDecorator`

### 5.2.0 {#upd_5.2.0}

* `postUpdateOnChange` для `Control`

### 5.1.0 {#upd_5.1.0}

* `requestIdPrefix` добавлен на уровень общих настроек (`setSettings`)
* В `requestIdGenerator` первым аргументом передается `requestIdPrefix`
* В меню доступен экспорт в Markdown и Wiki

### 5.0.0 {#upd_5.0.0}

* Поменялись импорты `@yandex-data-ui/common` стилей.

  Например, вместо
  ```
  @import '~@yandex-data-ui/common/src/styles/yc-theme-light.scss';
  ```
  нужно использовать
  ```
  @import '~@yandex-data-ui/common/styles/yc-theme-light.scss';
  ```

### 4.11.0 {#upd_4.11.0}

* При обновлении параметров появляется стандартный лоадер по центру
* `compactLoader` включает режим небольшого лоадера в правом верхнем углу вместо стандартного лоадера по центру
* Темы `default`/`night` были заменены на `light`/`dark` и приведены к [common цветам](https://github.yandex-team.ru/data-ui/common/blob/master/src/styles/yc-chartkit-theme-common.scss)
* Переменные для цвета лоадера и вейла

### 4.10.0 {#upd_4.10.0}

* `config` в `setSettings` не скачивается по умолчанию

### 4.7.0 {#upd_4.7.0}

* Запрос `/api/run` в случае 5**-ой ошибки ретраится один раз

### 4.6.0 {#upd_4.6.0}

* При обновлении параметров появляется небольшой лоадер в правом верхнем углу, вместо стандартного лоадера по центру
* Лоадер теперь синий без возможности поменять цвет через переменные

### 4.5.0 {#upd_4.5.0}

* Новый тип чартов markdown

### 4.3.0 {#upd_4.3.0}

* Новая мажорная версия `@yandex-data-ui/common`
* В именах элементов для стилизации расширения `control` появился префикс `yc`

### 4.2.0 {#upd_4.2.0}

* `jQuery` опционально используется только в вики-текстах

### 4.1.0 {#upd_4.1.0}

* Новая мажорная версия `@yandex-data-ui/dt100`
* Изменились имена CSS-переменных для таблиц

### 4.0.3 {#upd_4.0.3}

* `requestIdGenerator` в настройках

### 4.0.0 {#upd_4.0.0}

* Зависимость `@yandex-data-ui/common`
* Контролы вынесены в отдельное расширение

### 3.4.1 {#upd_3.4.1}

* `theme` в `setSettings`

### 3.4.0 {#upd_3.4.0}

* `@yandex-data-ui/common` был убран из зависимостей
* Добавились новые CSS-переменные темы

### 3.3.4 {#upd_3.3.4}

* В зависимости добавился `@yandex-data-ui/common`

### 3.3.0 {#upd_3.3.0}

* Поменялась цветовая палитра для графиков

### 3.2.0 {#upd_3.2.0}

* `type: grid` для таблиц

### 3.1.0 {#upd_3.1.0}

* Новый дизайн отображения ошибок

### 3.0.5 {#upd_3.0.5}

* `silentLoading` в доступных свойствах

### 3.0.4 {#upd_3.0.4}

* Кнопка и попап меню на `lego-on-react`

### 3.0.2 {#upd_3.0.2}

* Библиотека переименована в `@yandex-data-ui/chartkit`
* Переход с `islands` на `lego-on-react`
* Прекращена поддержка браузерных графиков
* Конфигурируемое меню
* Модификаторы тем и базовый набор css-переменных

### 2.7.0 {#upd_2.7.0}

* `yate-loader` больше не используется и его можно не подключать

### 2.6.0 {#upd_2.6.0}

* В `graph-extended` добавились `indicators` и `ema` для Highcharts

### 2.5.1 {#upd_2.5.1}

* Компоненты, отвечающие за встроенные контролы Node.js графика и таблицы (`Controls`) и за левую панель графика
(`SideHtml`) стали частью расширения `graph-extended`
* ChartKit без расширений теперь не зависит от `islands`

### 2.4.0 {#upd_2.4.0}

* Новый тип скриптов с Яндекс Картами
* Вместо `refWrap` теперь `ref`

### 2.3.0 {#upd_2.3.0}

* Вновь поменялся импорт `graph-extended`: импортим и вызываем без аргументов

### 2.2.2 {#upd_2.2.2}

* В `setSettings` теперь можно задать декоратор запросов. Для декорирования пока доступны только заголовки.

### 2.2.0 {#upd_2.2.0}

* Таблицы переехали на [DT100](https://github.yandex-team.ru/data-ui/data-table): без jQuery зависимости и при
подключении ChartKit в сборку нужно добавить `node_modules/dt100` в `include` webpack-а

### 2.0.x -> 2.1.0 {#upd_2.1.0}

* При подключении ChartKit в сборку больше не нужно добавлять `node_modules/react-highchart` в `include` webpack-а и
добавлять плагин `DefinePlugin` `isProdMode`
* Расширение `graph-extended` теперь ничего не возвращает при импорте.
