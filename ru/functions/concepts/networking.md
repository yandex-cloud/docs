# Сетевое взаимодействие в {{ sf-name }}

По умолчанию функция запускается в изолированной IPv4-сети с включенным [NAT-шлюзом](../../vpc/concepts/gateways.md). Поэтому из функции доступны только публичные IPv4-адреса.

## Пользовательская сеть {#user-network}

{% include [note-preview](../../_includes/note-preview.md) %}

Если необходимо, в настройках функции можно указать [облачную сеть](../../vpc/concepts/network.md#network). Тогда функция будет иметь доступ не только в интернет, но и к пользовательским ресурсам, которые находятся в указанной сети, например базам данным, виртуальным машинам и т.п.

{% include [network](../../_includes/functions/network.md) %}

Если пользователь укажет сеть в настройках функции, в каждой [зоне доступности](../../overview/concepts/geo-scope.md) создатся служебная подсеть с адресами из диапазона 198.19.0.0/16. Во время выполнения функция получит IP-адрес из соответствующей подсети и доступ ко всем ресурсам сети.

{% include [network](../../_includes/functions/network-note.md) %}

Сетевое взаимодействие между двумя функциями и функциями и пользовательскими ресурсами ограничено:
* поддерживаются исходящие соединения по протоколам TCP, UDP и ICMP, например функция может получить доступ к виртуальной машине {{ compute-name }} или базе данных {{ ydb-name }} в сети пользователя.
* входящие соединения не поддерживаются, например нельзя обратиться к внутренним компонентам функции по сети, даже если известен IP-адрес ее экземпляра.

Новый экземпляр функции, в настройках которой указана сеть, может запускаться дольше обычного. Все функции, независимо от их настроек, вызываются только через публичный API. Подробнее о [вызове функции](function-invoke.md).

Чтобы удалить сеть, которая указана в функции, нужно удалить все функции, контейнеры и API-шлюзы, в которых она указана, и подождать от пятнадцати минут до суток.
