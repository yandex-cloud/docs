# Функция

_Функция_ — набор [версий](#version).

Сразу после создания функция содержит только метаинформацию о себе: имя, описание, уникальный идентификатор и т. д. Для начала работы с функцией необходимо [создать версию функции](../operations/function/version-manage.md#version-create). Выполнить функцию можно с помощью HTTP API или CLI.

Перед написанием функции, ознакомьтесь с [моделью программирования](#programming-model).

## Версия функции {#version}

_Версия_ содержит код функции, параметры запуска и все необходимые зависимости. Вы можете работать с разными версиями одной функции на разных стадиях процесса разработки, например, версия в разработке, альфа-версия, бета-версия. При внесении каких-либо изменений всегда создается новая версия с [тегом](#tag) по умолчанию — `$latest`, при этом не имеет значения, загрузили вы совершенно новый код или внесли только незначительные правки.

Для создания версии вам понадобится дистрибутив в виде ZIP-архива с кодом и всеми необходимыми зависимостями. Вы можете:

- Загрузить ZIP-архив с вашего ПК.
- Загрузить ZIP-архив, указав бакет и объект в хранилище S3.

    {% note info %}

    После создания функции объект с кодом больше не нужен. Его можно удалить из хранилища.

    {% endnote %}

Подробнее о том, как создать версию, читайте в разделе [{#T}](../operations/function/version-manage.md#version-create).

### Тег версии {#tag}

Теги используются для вызова определенной версии функции. Каждый тег должен быть уникален в рамках функции. У одной версии может быть несколько тегов.

{% note info %}

При создании новой версии ей присваивается тег по умолчанию — `$latest`.

{% endnote %}

## Модель программирования {#programming-model}

{{ sf-name }} поддерживает разные языки программирования. Вне зависимости от выбранного вами языка, при написании кода необходимо опираться на принятую в сервисе модель программирования. В ней есть как элементы, которые необходимо реализовать пользователю, так и механизмы, которые уже реализованы на стороне сервиса и могут быть использованы по необходимости.

### Описание модели {#model-desc}

Чтобы функция запустилась, опишите в ней _обработчик_. Он определяется при написании кода и обрабатывает поступающие данные, вызывая необходимые функции и методы в коде. Обработчик должен принимать данные, которые приходят с запросами функции, и контекст, который передает {{ sf-name }}.

_Контекст_ обеспечивает взаимодействие кода вашей функции с {{ sf-name }}. Например, с его помощью функция может узнать, сколько времени осталось до момента, когда {{ sf-name }} завершит ее выполнение.

Поступающие запросы обрабатываются функцией по одному. Если функция вызывается быстрее, чем один экземпляр успевает обрабатывать запрос, сервис масштабирует функцию — запускает ее дополнительные экземпляры. Таким образом обеспечивается _параллельная обработка запросов_.

Чтобы функция обрабатывала несколько запросов сразу, используйте возможности _асинхронного выполнения кода_, которые предоставляет [среда выполнения](runtime/index.md).

Чтобы сообщить сервису об ошибке при выполнении функции, обрабатывайте ошибки с помощью _исключений_.

Выполнение функции _журналируется_ сервисом, но при необходимости вы можете реализовать в коде вашей функции дополнительное ведение журналов.
