# Подключение к базе данных в кластере {{ RD }}

## Способы подключения {#connection-methods}

К хосту базы данных {{ RD }} можно подключиться двумя способами: 
- Напрямую через порт `6379`.
- C использованием [{{ RD }} Sentinel](https://redis.io/topics/sentinel) через порт `26379`. Это система управления хостами {{ RD }} с возможностями мониторинга, отправки уведомлений о состояниях хостов, переключения мастера и передачи клиентам актуальных адресов хостов. 

Не все клиентские приложения {{ RD }} поддерживают подключение через Sentinel. В этом случае вы можете подключиться к хосту напрямую. Обратите внимание, что при этом вам придется самостоятельно отслеживать роли всех хостов. Если в прямом подключении нет необходимости, используйте Sentinel для более надежной работы с хостами кластера.

## Подключение к кластеру {#connect}

Хостам кластера {{ RD }} нельзя назначать публичные IP-адреса. Доступ к хостам возможен только из той же [виртуальной сети](../../vpc/concepts/network.md), в которой находится хост.

Чтобы подключиться к хосту кластера {{ RD }}:
1. [Создайте виртуальную машину](../../compute/operations/vm-create/create-linux-vm.md) с публичным IP-адресом в той же виртуальной сети, что и хост.
1. Подключитесь к созданной виртуальной машине через [через SSH](../../compute/operations/vm-connect/ssh.md) и из нее подключитесь к {{ RD }} с помощью одного из [примеров строк подключений](#connection-string).

## Примеры строк подключения {#connection-string}

{% include [conn-strings-environment](../../_includes/mdb/mdb-conn-strings-env.md) %}

Приведены примеры строк как для подключения с Sentinel, так и для подключения напрямую.

{% include [see-fqdn-in-console](../../_includes/mdb/see-fqdn-in-console.md) %}

{% include [mrd-connection-strings](../../_includes/mdb/mrd-conn-strings.md) %}

При успешном подключении к кластеру и выполнении тестового запроса будет выведена строка `bar`.