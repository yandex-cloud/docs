# Прореживание {% if audience == "internal" %}исторических {% endif %}данных

{% if audience == "external" %}

_Прореживание данных_ — механизм архивирования исторических данных в {{ monitoring-short-name }}.

Чтобы сократить объем хранимых данных, {{ monitoring-short-name }} агрегирует значения всех метрик в соответствии с _политикой прореживания_. В качестве функции агрегации используется среднее значение в окне.
В политике прореживания используется пятиминутная сетка спустя одну неделю. 

{% note info %}

Изменение политики прореживания не поддерживается.

{% endnote %}

Прореживание данных является асинхронным фоновым процессом. Политика прореживания указывает сетку, к которой значения метрик будут приведены после выполнения очередной итерации процесса прореживания.
Фактическое время применения политики не гарантируется.

> Например, если установлена пятиминутная сетка спустя одну неделю, на дашборде можно увидеть непрореженные данные за 8 дней.

{% endif %}

{% if audience == "internal" %}

В данном разделе описан механизм архивирования исторических данных в Solomon также называемый *прореживанием*.

{% note info %}

Пользователи не могут изменять параметры прореживания. Чтобы изменить политику прореживания для своих данных, [свяжитесь с командой Solomon](../problems/howtoreport.md).

{% endnote %}

Для уменьшения объема хранимых исторических данных значения всех метрик, записываемых в Solomon, спустя определенное время агрегируются по некоторой сетке. Параметры этой сетки называются *политикой прореживания*. Параметры прореживания исторических данных определены для каждого шарда Solomon.

В Solomon поддерживаются следующие политики прореживания:

- пятиминутная сетка спустя одну неделю (значение по умолчанию);
- минутная сетка спустя один месяц, пятиминутная сетка спустя два месяца;
- минутная сетка спустя один месяц, пятиминутная сетка спустя три месяца;
- пятиминутная сетка спустя два месяца;
- сохранять исходные значения (не прореживать данные).

В качестве функции агрегации используется среднее значение в окне, выбранным в соответствии с политикой прореживания.

{% note info %}

В следующих версиях Solomon при прореживании исторических данных планируется сохранять не только среднее значение метрик, но и дополнительные статистики: минимум, максимум и сумму значений.

{% endnote %}

{% endif %}



