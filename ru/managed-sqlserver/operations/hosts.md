# Управление хостами кластера

Вы можете получить список хостов кластера {{ MS }}, а также управлять их настройками.

## Получить список хостов в кластере {#list}

{% list tabs %}

- Консоль управления

  1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ mms-name }}**.

  1. Нажмите на имя нужного кластера и выберите вкладку ![hosts.svg](../../_assets/mdb/hosts.svg) **Хосты**.

- CLI

    {% include [cli-install](../../_includes/cli-install.md) %}

    {% include [default-catalogue](../../_includes/default-catalogue.md) %}

    Чтобы получить список хостов в кластере, выполните команду:

    ```bash
    {{ yc-mdb-ms }} host list \
       --cluster-name=<имя кластера>
    ```

    Имя кластера можно запросить со [списком кластеров в каталоге](cluster-list.md#list-clusters).

- API

  Воспользуйтесь методом API [listHosts](../api-ref/Cluster/listHosts.md): передайте значение идентификатора требуемого кластера в параметре `clusterId` запроса.

  Чтобы узнать идентификатор кластера, [получите список кластеров в каталоге](cluster-list.md#list-clusters).

{% endlist %}

## Изменить хост {#update}

Для каждого хоста в кластере {{ mms-short-name }} можно изменить настройки публичного доступа.

{% list tabs %}

- Консоль управления

    Чтобы изменить параметры хоста в кластере:

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ mms-name }}**.
    1. Нажмите на имя нужного кластера и выберите вкладку ![hosts.svg](../../_assets/mdb/hosts.svg) **Хосты**.
    1. Нажмите на значок ![image](../../_assets/options.svg) в строке нужного хоста и выберите пункт **Редактировать**.
    1. Включите опцию **Публичный доступ**, если хост должен быть доступен извне {{ yandex-cloud }}.
    1. Нажмите кнопку **Сохранить**.

- API

    Чтобы изменить параметры хоста, воспользуйтесь методом API [updateHosts](../api-ref/Cluster/updateHosts.md) и передайте в запросе:

    1. Идентификатор кластера, в котором нужно изменить хост, в параметре `clusterId`. Чтобы узнать идентификатор, получите [список кластеров в каталоге](cluster-list.md#list-clusters).
    1. Имя хоста, который нужно изменить, в параметре `updateHostSpecs.hostName`. Чтобы узнать имя, получите [список хостов в кластере](#list).
    1. Настройки публичного доступа к хосту в параметре `updateHostSpecs.assignPublicIp`.
    1. Список полей конфигурации кластера, подлежащих изменению, в параметре `updateMask`.

    {% include [Note warning update mask](../../_includes/note-api-updatemask.md) %}

{% endlist %}

{% note warning %}

Если после изменения хоста к нему невозможно [подключиться](connect.md), убедитесь, что [группа безопасности](../concepts/network.md#security-groups) кластера настроена корректно для подсети, в которую помещен хост.

{% endnote %}
