# Среда исполнения

При создании кластера {{ dataproc-name }} вы можете выбрать версию образа (набор версий компонентов).

Ниже приведен состав  [актуальных](#current-images) и [устаревших](#deprecated-images)   образов {{ dataproc-name }}. В каждую версию образа входят [conda](https://docs.conda.io/en/latest/), [pip](https://pip.pypa.io/en/stable/installation/) (менеджеры Python-окружений) и набор предустановленных библиотек.

В сервисе {{ dataproc-name }} нет встроенного механизма для обновления версии образа. Чтобы ее обновить, создайте новый кластер. Если вы хотите постоянно использовать актуальную версию, автоматизируйте создание и удаление временных кластеров {{ dataproc-name }} с помощью сервиса [{{ maf-full-name }}](../tutorials/airflow-automation.md). Для автоматизированного запуска заданий помимо {{ maf-name }} вы также можете использовать сервис [{{ ml-platform-full-name }}](../tutorials/datasphere-integration.md).

## Актуальные образы {#current-images}


{% note info %}

Доступ к образу версии 2.1 предоставляется по запросу. Обратитесь в [техническую поддержку]({{ link-console-support }}) или к вашему аккаунт-менеджеру.

{% endnote %}



| Компоненты   | Образ 1.4 | Образ 2.0 | Образ 2.1 (бета) |
| ------------ | --------- | --------- | ---------------- |
| **Версии компонентов**                                  |
| Hadoop       | 2.10.0    | 3.2.2     | 3.3.2            |
| Tez          | 0.9.2     | 0.10.0    | 0.10.1           |
| Hive         | 2.3.6     | 3.1.2     | —                |
| Zookeeper    | 3.4.14    | 3.4.14    | 3.5.9            |
| HBase        | 1.3.5     | 2.2.7     | 2.4.9            |
| Sqoop        | 1.4.7     | —         | —                |
| Oozie        | 5.2.0     | 5.2.1     | —                |
| Spark        | 2.4.6     | 3.0.3     | 3.3.2 (прим. 1)  |
| Flume        | 1.9.0     | —         | —                |
| Zeppelin     | 0.8.2     | 0.9.0     | 0.10.0           |
| Livy         | 0.7.0     | 0.8.0     | 0.8.0            |
| **Версии Python и библиотек машинного обучения**        |
| Python       | 3.7.9     | 3.8.10    | 3.8.13           |
| PyArrow      | 0.13.0    | 1.0.1     | 4.0.0            |
| ipykernel    | 5.1.3     | 5.3.4     | 5.3.4            |
| TensorFlow   | 1.15.0    | —         | —                |
| CatBoost     | 0.20.2    | —         | —                |
| PyHive       | 0.6.1     | 0.6.1     | 0.6.5            |
| LightGBM     | 2.3.0     | —         | —                |
| XGBoost      | 0.90      | —         | —                |
| scikit-learn | 0.21.3    | 0.23.2    | 0.24.1           |
| pandas       | 0.25.3    | 1.1.3     | 1.2.4            |
| koalas       | —         | 1.7.0     | 1.8.2            |
| numpy        | —         | 1.19.2    | 1.20.1           |
| boto3        | —         | 1.16.7    | 1.16.7           |
| IPython      | 7.9.0     | 7.19.0    | 7.22.0           |
| Matplotlib   | 3.1.1     | 3.2.2     | 3.4.2            |

Дополнительные примечания:

1. Spark 3.3.2 предоставляется в образах Data Proc серии 2.1 начиная с версии 2.1.4. Версии 2.1.1-2.1.3 образов Data Proc содержат Spark версии 3.2.1.



## Устаревшие образы {#deprecated-images}

{% note info %}

Эти образы являются устаревшими (deprecated). Рекомендуем использовать [актуальные версии образов](#current-images). Уже созданные кластеры продолжат свою работу, но новые кластеры с устаревшими версиями создать будет нельзя.

{% endnote %}

| Компоненты   | Образ 1.0 | Образ 1.1 | Образ 1.2 | Образ 1.3 |
| ------------ | --------- | --------- | --------- | --------- |
| **Версии компонентов**                                       |
| Hadoop       | 2.8.5     | 2.10.0    | 2.10.0    | 2.10.0    |
| Tez          | 0.9.1     | 0.9.2     | 0.9.2     | 0.9.2     |
| Hive         | 2.3.4     | 2.3.6     | 2.3.6     | 2.3.6     |
| Zookeeper    | 3.4.6     | 3.4.14    | 3.4.14    | 3.4.14    |
| HBase        | 1.3.3     | 1.3.5     | 1.3.5     | 1.3.5     |
| Sqoop        | 1.4.6     | 1.4.7     | 1.4.7     | 1.4.7     |
| Oozie        | 4.3.0     | 4.3.1     | 5.2.0     | 5.2.0     |
| Spark        | 2.2.1     | 2.4.4     | 2.4.6     | 2.4.6     |
| Flume        | 1.8.0     | 1.8.0     | 1.9.0     | 1.9.0     |
| Zeppelin     | 0.7.3     | 0.8.2     | 0.8.2     | 0.8.2     |
| Livy         | —         | —         | —         | 0.7.0     |
| **Версии Python и библиотек машинного обучения**             |
| Python       | 3.7       | 3.7.5     | 3.7.7     | 3.7.9     |
| PyArrow      | 0.11.1    | 0.13.0    | 0.13.0    | 0.13.0    |
| ipykernel    | 5.1.0     | 5.1.3     | 5.1.3     | 5.1.3     |
| TensorFlow   | 1.13.1    | 1.15.0    | 1.15.0    | 1.15.0    |
| CatBoost     | 0.14.2    | 0.20      | 0.20      | 0.20.2    |
| PyHive       | —         | 0.6.1     | 0.6.1     | 0.6.1     |
| LightGBM     | 2.2.3     | 2.3.0     | 2.3.0     | 2.3.0     |
| XGBoost      | 0.82      | 0.90      | 0.90      | 0.90      |
| scikit-learn | 0.21.1    | 0.21.3    | 0.21.3    | 0.21.3    |
| pandas       | 0.24.2    | 0.25.3    | 0.25.3    | 0.25.3    |
| IPython      | 7.5.0     | 7.9.0     | 7.9.0     | 7.9.0     |
| Matplotlib   | 3.0.3     | 3.1.1     | 3.1.1     | 3.1.1     |

