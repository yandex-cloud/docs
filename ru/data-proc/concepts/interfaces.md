# Работа с сетевыми интерфейсами компонентов

{{ dataproc-name }} позволяет создавать кластеры только с внутренними адресами {{ yandex-cloud }}. Сетевые и веб-интерфейсы компонентов при этом недоступны извне. Для внешней связи с такими компонентами как HDFS NameNode, YARN ResourceManager и другими необходимо маршрутизировать трафик через промежуточную виртуальную машину, для которой выделен публичный IP-адрес.

## Перенаправление портов {#routing}

Чтобы получить доступ к сетевому интерфейсу компонента из интернета, [создайте](../../compute/operations/vm-create/create-linux-vm.md) промежуточную виртуальную машину в сервисе {{compute-full-name}}.

Требования к промежуточной ВМ:

* Наличие публичного IP-адреса.
* Размещение в одной сети с нужным кластером {{ dataproc-name }}.
* [Настройки групп безопасности](network.md#security-groups) должны разрешать обмен трафиком с кластером через порты соответствующих компонентов.

Пошаговые инструкции по настройке групп безопасности для перенаправления портов приведены в разделе [{#T}](../operations/connect.md).

Чтобы соединиться с нужным портом хоста {{ dataproc-name }}, выполните следующую команду:

```bash
ssh -A -J <публичный IP-адрес ВМ> -L <номер порта>:<FQDN хоста Data Proc>:<номер порта> root@<FQDN хоста Data Proc>
```

Найти FQDN хоста {{ dataproc-name }} можно на странице кластера {{ dataproc-name }}, на вкладке **Хосты**, в столбце **Имя хоста**.

Номера портов для компонентов {{ dataproc-name }} приведены ниже.

## Компоненты и порты {#port-numbers}

{% include [ports-table](../../_includes/data-proc/ports-table.md) %}
