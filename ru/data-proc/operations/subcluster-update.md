# Изменить подкластер

Для каждого созданного подкластера вы можете:

* [Изменить количество хостов](#change-host-number).

* [Изменить класс хостов](#change-resource-preset).

* [Изменить правило автомасштабирования](#change-autoscaling-rule)

* [Увеличить размер хранилища](#change-disk-size).


## Изменить количество хостов {#change-host-number}

Вы можете изменить количество хостов в кластерах `DATANODE` и `COMPUTENODE`:

1. В [консоли управления]({{ link-console-main }}) выберите каталог с кластером, в котором нужно изменить подкластер.
1. Выберите сервис {{ dataproc-name }} и выберите нужный кластер.
1. Перейдите в раздел **Подкластеры**.
1. Нажмите значок ![image](../../_assets/options.svg) для нужного подкластера и выберите пункт **Изменить**.
1. Введите или выберите нужное количество хостов в поле **Хосты**.
1. Укажите опциональный таймаут [декомиссии](../concepts/decommission.md).
1. Нажмите кнопку **Сохранить изменения**.

{{ dataproc-name }} запустит операцию добавления хостов.


## Изменить класс хостов {#change-resource-preset}

Вы можете изменить вычислительную мощность хостов в отдельном подкластере:

{% list tabs %}

- Консоль управления

    Чтобы изменить [класс хостов](../concepts/instance-types.md) для подкластера:

    1. В [консоли управления]({{ link-console-main }}) выберите каталог с кластером, в котором нужно изменить подкластер.
    1. Выберите сервис {{ dataproc-name }} и выберите нужный кластер.
    1. Перейдите в раздел **Подкластеры**.
    1. Нажмите значок ![image](../../_assets/options.svg) для нужного подкластера и выберите пункт **Изменить**.
    1. Выберите нужную платформу и конфигурацию в блоке **Класс хоста**.
    1. Укажите опциональный таймаут [декомиссии](../concepts/decommission.md).
    1. Нажмите кнопку **Сохранить изменения**.

    {{ dataproc-name }} запустит операцию изменения подкластера. При этом все хосты изменяемого подкластера будут перезапущены.

{% endlist %}

## Изменить правило автомасштабирования Compute подкластеров {#change-autoscaling-rule}

Вы можете настроить правило автомасштабирования для хостов `COMPUTENODE`:

1. В [консоли управления]({{ link-console-main }}) выберите каталог с кластером, в котором нужно изменить подкластер.
1. Выберите сервис {{ dataproc-name }} и выберите нужный кластер.
1. Перейдите в раздел **Подкластеры**.
1. Нажмите значок ![image](../../_assets/options.svg) для нужного подкластера и выберите пункт **Изменить**.
1. Введите или выберите минимальный размер группы масштабирования в поле **Минимальное число хостов**.
1. Введите или выберите максимальный размер группы масштабирования в поле **Максимальный размер группы**.
1. Установите промежуток измерения нагрузки
1. Введите время на разогрев ВМ в минутах или секундах
1. Введите период стабилизации
1. Установите целевой уровень загрузки CPU
1. Нажмите кнопку **Сохранить изменения**.

{{ dataproc-name }} сохранит настройки автоматического масштабирования для подкластера.


## Увеличить размер хранилища {#change-disk-size}

Вы можете увеличить размер хранилища, доступного каждому хосту в определенном подкластере.

{% note info %}

Уменьшить размер хранилища на данный момент невозможно. Если это необходимо, пересоздайте подкластер {{ dataproc-name }}.

{% endnote %}

{% list tabs %}

- Консоль управления

    Чтобы изменить размер хранилища для подкластера:

    1. В [консоли управления]({{ link-console-main }}) выберите каталог с кластером, в котором нужно изменить подкластер.
    1. Выберите сервис {{ dataproc-name }} и выберите нужный кластер.
    1. Перейдите в раздел **Подкластеры**.
    1. Нажмите значок ![image](../../_assets/options.svg) для нужного подкластера и выберите пункт **Изменить**.
    1. Введите или выберите нужный объем хранилища в блоке **Размер хранилища**.
    1. Нажмите кнопку **Сохранить изменения**.

    {{ dataproc-name }} запустит операцию изменения подкластера.

{% endlist %}