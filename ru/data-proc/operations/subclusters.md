# Управление подкластерами {{ dataproc-name }}

Помимо [изменения настроек](subcluster-update.md) отдельного подкластера вы можете создавать новые и удалять имеющиеся подкластеры.

{% note important %}

В каждом кластере может быть не больше 1 подкластера типа `MASTERNODE`, поэтому создавать и удалять подкластеры этого типа невозможно. Также невозможно удалять подкластеры типа `DATANODE`.

{% endnote %}


## Получить список подкластеров в кластере {#list-subclusters}

{% list tabs %}

- Консоль управления

  1. Перейдите на страницу каталога и выберите сервис {{ dataproc-name }}.

  1. Нажмите на имя нужного кластера, затем выберите вкладку **Подкластеры**.

{% endlist %}


## Добавить подкластер {#add-subcluster}

Количество хостов в кластерах {{ dataproc-name }} ограничено [квотами]({{ link-console-quotas }}) на количество vCPU и объем памяти, которые могут использовать виртуальные машины в вашем облаке. Чтобы увидеть доступные ресурсы, откройте раздел [Квоты]({{ link-console-quotas }}) и найдите блок **Compute Cloud**.

Чтобы добавить подкластер:

{% list tabs %}

- Консоль управления

    1. В [консоли управления]({{ link-console-main }}) выберите нужный каталог.
    1. Выберите сервис {{ dataproc-name }} и выберите нужный кластер.
    1. Перейдите в раздел **Подкластеры**.
    1. Нажмите кнопку **Добавить подкластер**.
    1. Выберите тип подкластера. Для этого определитесь с сервисами, которые должны быть развернуты на хостах:

       * В подкластерах типа **COMPUTENODE** могут быть развернуты:
         * YARN NodeManager;
         * библиотеки Spark.
       * В подкластерах типа **DATANODE** могут быть развернуты:
         * HDFS Datanode;
         * YARN NodeManager;
         * HBase RegionServer;
         * библиотеки Spark.

    1. Выберите остальные настройки подкластера:
       * Количество хостов.
       * [Класс хостов](../concepts/instance-types.md) — платформа и вычислительные ресурсы, доступные хосту.
       * Размер и тип хранилища.
       * Подсеть сети, в которой расположен кластер.

    1. Нажмите кнопку **Добавить подкластер**.

    {{ dataproc-name }} запустит операцию создания подкластера.

{% endlist %}

## Удалить подкластер {#remove-host}

{% note important %}

Удалить подкластеры типа `DATANODE` невозможно.

{% endnote %}

{% list tabs %}

- Консоль управления

    Чтобы удалить подкластер:

    1. В [консоли управления]({{ link-console-main }}) выберите нужный каталог.
    1. Выберите сервис {{ dataproc-name }} и выберите нужный кластер.
    1. Перейдите в раздел **Подкластеры**.
    1. Нажмите значок ![image](../../_assets/options.svg) для нужного подкластера и выберите пункт **Удалить**.
    1. Подтвердите удаление.

    {{ dataproc-name }} запустит операцию удаления подкластера.

{% endlist %}
