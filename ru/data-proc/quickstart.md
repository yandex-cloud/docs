# Как начать работать с {{ dataproc-name }}

Чтобы начать работу с сервисом:

1. [Создайте кластер](#cluster-create).
1. [Подключитесь к кластеру](#connect).
1. [Подключитесь к интерфейсам компонентов](#connect-components).


## Перед началом работы {#before-you-begin}

1. Перейдите в [консоль управления]({{ link-console-main }}), затем войдите в {{ yandex-cloud }} или зарегистрируйтесь, если вы еще не зарегистрированы.

1. Если у вас еще нет каталога, создайте его:

   {% include [create-folder](../_includes/create-folder.md) %}

1. [Настройте NAT-шлюз](../vpc/operations/create-nat-gateway.md) в подсети, в которой будет размещен кластер.

1. Если вы используете группы безопасности, [настройте их](operations/cluster-create.md#change-security-groups).

   {% include [preview-pp.md](../_includes/preview-pp.md) %}

1. Подключаться к кластеру {{ dataproc-name }} можно как изнутри, так и извне {{ yandex-cloud }}:

   * Чтобы подключиться изнутри {{ yandex-cloud }}, создайте виртуальную машину на основе [Linux](../compute/quickstart/quick-create-linux.md) в той же сети, что и кластер.

   * Чтобы подключиться к кластеру из интернета, запросите публичный доступ к подкластерам при создании кластера.

   {% note info %}

   Следующий шаг предполагает, что подключение к кластеру производится с ВМ на основе [Linux](../compute/quickstart/quick-create-linux.md).

   {% endnote %}

1. [Подключитесь](../compute/operations/vm-connect/ssh.md) к ВМ по [SSH](../glossary/ssh-keygen.md).


## Создайте кластер {#cluster-create}

Чтобы создать кластер:

1. В консоли управления откройте каталог, в котором нужно создать кластер, и выберите сервис **{{ dataproc-name }}**.
1. Нажмите кнопку **Создать кластер**.
1. Задайте параметры кластера и нажмите кнопку **Создать кластер**. Процесс подробно рассмотрен в разделе [{#T}](operations/cluster-create.md).
1. Дождитесь, когда кластер будет готов к работе: его состояние сменится на **Alive**. Это может занять некоторое время.

## Подключитесь к кластеру {#connect}

Чтобы подключиться к кластеру:


1. Если вы используете группы безопасности для облачной сети, [настройте их](operations/connect.md#configuring-security-groups) так, чтобы был разрешен весь необходимый трафик между кластером и хостом, с которого выполняется подключение.

    {% include [preview-pp.md](../_includes/preview-pp.md) %}


1. Скопируйте на ВМ SSL-ключ, который вы указали при создании кластера {{ dataproc-name }}.

1. Подключитесь к кластеру по SSH и проверьте, что команды Hadoop выполняются. В зависимости от версии образа, укажите имя пользователя:

    * для версии 2.0 — `ubuntu`;
    * для версии 1.4 — `root`.

Подробно процесс подключения к кластеру {{ dataproc-name }} рассмотрен в разделе [{#T}](operations/connect.md).

## Подключитесь к интерфейсам компонентов {#connect-components}

Чтобы подключиться к интерфейсам компонентов {{ dataproc-name }} по веб-интерфейсу:

1. [Включите настройку](operations/connect-interfaces.md#ui-proxy-enable) **UI Proxy** в кластере.
1. Получите список URL интерфейсов.

Чтобы подключиться к интерфейсам компонентов {{ dataproc-name }} по SSH с перенаправлением портов:

1. Создайте промежуточную ВМ с публичным IP-адресом в одной сети с кластером и с группой безопасности, в которой разрешены входящий и исходящий трафик через порты компонентов.
1. Подключитесь к созданной ВМ по SSH с перенаправлением к нужным портам хоста {{ dataproc-name }}. В зависимости от версии образа, укажите имя пользователя:

    * для версии 2.0 — `ubuntu`;
    * для версии 1.4 — `root`.

Подробно процесс подключения к интерфейсам компонентов кластера {{ dataproc-name }} рассмотрен в разделе [{#T}](operations/connect-interfaces.md).

## Что дальше {#whats-next}

* Изучите [концепции сервиса](concepts/index.md).
* Узнайте подробнее о [создании кластера](operations/cluster-create.md) и [работе с заданиями](operations/jobs.md).
* [Создайте кластер {{ metastore-full-name }}](operations/metastore/cluster-create.md).
