# Управление подключениями с базами данных

{% include notitle [preview](../../_includes/note-preview.md) %}

В сервисе [{{ websql-full-name }}]({{ websql-link }}) на панели **Диспетчер подключений** (![image](../../_assets/console-icons/folder-tree.svg)) вы можете:

* добавлять соединения с [базами данных](#connect-db) или [кластерами баз данных](#connect-cluster);
* [проверять настройки подключения](#change-connection-settings);
* [переподключать ранее созданные соединения](#update-connection);
* [удалять соединения](#delete-connection), которые вам больше не нужны;
* [работать с демо-соединениями](#demo) для знакомства с {{ websql-full-name }}. 

## Подключиться к кластеру баз данных в {{ yandex-cloud }} {#connect-cluster}

Если у вас есть кластер [{{ PG }}](../../managed-postgresql/operations/cluster-list.md), [{{ CH }}](../../managed-clickhouse/operations/cluster-list.md) или [{{ MY }}](../../managed-mysql/operations/cluster-list.md), настроенный в {{ yandex-cloud }}, то вы можете подключиться напрямую к нему:

{% include notitle [connect-to-cluster](../../_includes/websql/connect-to-cluster.md) %}

## Подключиться к внешней базе данных {#connect-db}

{% include notitle [connect-to-db](../../_includes/websql/connect-to-db.md) %}

## Добавить соединение в группу соединений {#add-connection-to-group}

Базы данных одного кластера отображаются в дереве соединений как _группы соединений_. В настройках соединения у таких баз данных URL и номер порта будут одинаковыми.

Для добавления соединения в группу:

1. Выберите группу в дереве соединений.
1. Нажмите **...** справа от названия группы и выберите **Добавить соединение**.
1. В появившемся окне будут указаны предустановленные настройки соединения кластера. Вы можете указать имя базы данных и необходимые для доступа к ней логин и пароль.
1. Нажмите **Подключиться**.

## Переименовать группу соединений {#rename-group}

Для переименования группы соединений:

1. Выберите группу в дереве соединений.
1. Нажмите **...** справа от названия группы и выберите **Переименовать группу**.
1. В появившемся окне укажите новое имя группы и нажмите **Применить**. 

## Просмотреть настройки подключения {#change-connection-settings}

Чтобы посмотреть настройки подключения:

1. Выберите соединение или группу соединений.
1. Нажмите **...** справа от названия соединения и выберите **Информация о соединении**.

Откроется панель с настройками соединения.

В рамках одного соединения выделены группы таблиц и представлений (`VIEW`).

## Просмотреть информацию о таблице {#view-table}

Чтобы посмотреть детальную информацию о таблице и ее колонках:

1. Выберите соединение и базу данных.
1. В группе **Таблицы** выберите таблицу.
1. Справа от имени таблицы нажмите ![image](../../_assets/console-icons/sliders-vertical.svg) и выберите **Информация о таблице**.

Откроется панель, на которой будет представлена информация об имени таблицы, ее размере и примерном количестве строк в ней. Также вы сможете получить следующую информацию о колонках таблицы:

* имя колонки;
* тип данных;
* является ли колонка Nullable;
* является ли колонка первичным ключом.

Если таблица содержит индексы или триггеры, то на этой же панели появится информация о колонках и типах индексации, а также о событиях триггеров.

## Просмотреть информацию о представлении {#view-view}

Чтобы посмотреть детальную информацию о представлении:

1. Выберите соединение и базу данных.
1. В группе **Представления** выберите представление.
1. Справа от имени представления нажмите ![image](../../_assets/console-icons/sliders-vertical.svg) и выберите **Информация о представлении**.

Откроется панель, на которой будет представлена информация об имени представления и его колонках:

* имя колонки;
* тип данных;
* является ли колонка Nullable;

## Переподключиться к базам данных и кластерам {#update-connection}

В диспетчере подключений можно просматривать статус соединений и обновлять их или переподключаться к базам данных и кластерам. Активные соединения отмечены зеленым цветом, неактивные — красным. 

{% note tip %}
   
Используйте поле поиска на панели **Диспетчер подключений**, чтобы найти соединение с нужной базой данных, таблицей или схемой.
   
{% endnote %}

Для обновления активного соединения:

1. Выберите активное соединение. 
1. Нажмите **...** справа от названия соединения и выберите **Обновить соединение**.

В результате будет обновлена вся иерархия данного подключения, включая таблицы и представления. Если какую-то таблицу удалили из базы данных, то для отображения изменений в {{ websql-full-name }} необходимо обновить соединение.

Для обновления всех активных соединений нажмите ![image](../../_assets/console-icons/arrows-rotate-right.svg) в правом верхнем углу панели **Диспетчер соединений**.

Для переподключения неактивных соединений:

1. Выберите неактивное соединение.
1. Нажмите **...** справа от названия соединения и выберите **Переподключиться**.
1. Введите имя пользователя и пароль для доступа к базе данных и нажмите **Подключиться**.

## Удалить соединение {#delete-connection}

Для удаления соединений, которыми вы не пользуетесь:

1. Выберите соединение или группу соединений.
1. Нажмите **...** справа от их названия и выберите **Удалить соединение** или **Удалить группу**.

## Управление демо-соединениями {#demo}

Демо-соединения — предустановленные соединения с тестовыми базами данных для знакомства с возможностями {{ websql-full-name }}. Демо-соединения добавлены по умолчанию. Их нельзя [удалить](#delete-connection) или [переименовать](#rename-group), но можно скрыть на панели **Диспетчер соединений**:

1. Нажмите **Настройки** (![image](../../_assets/console-icons/gear.svg)) в левом нижнем углу.
1. В общих настройках выключите опцию **Показывать демо-соединения**.

{% include [clickhouse-disclaimer](../../_includes/clickhouse-disclaimer.md) %}
