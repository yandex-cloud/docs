# Отзыв роли на ресурс

Если вы хотите запретить [субъекту](../../concepts/access-control/index.md#subject) доступ к ресурсу, отзовите у него соответствующие роли на этот ресурс и на ресурсы, от которых наследуются права доступа. Подробнее читайте в разделе [{#T}](../../concepts/access-control/index.md).

{% note info %}

Если вам надо временно отозвать все права доступа у пользователя с аккаунтом на Яндексе, вы можете отозвать только роль `{{ roles-cloud-member }}`. У пользователя останутся все остальные роли, но он не сможет выполнять никаких операций с ресурсами в облаке. Когда вы снова добавите пользователя в облако, права доступа для него уже будут настроены.

{% endnote %}

## Отозвать роль {#revoke-one-role}

{% list tabs %}

- Консоль управления

  В консоли управления можно отозвать роль только на облако или каталог:

  * Чтобы отозвать роль только в каталоге:

      1. Откройте страницу каталога. Вы можете выбрать каталог на [стартовой странице]({{ link-console-main }}) консоли управления. На этой странице отображаются каталоги для выбранного облака.
      1. Перейдите в раздел **Права доступа в каталоге** (кнопка **Права доступа** на панели слева).
      1. Выберите пользователя в списке и нажмите значок ![image](../../../_assets/options.svg) напротив имени пользователя.
      1. Нажмите кнопку **Изменить роли**.
      1. Нажмите значок ![image](../../../_assets/cross.svg) напротив роли, которую хотите отозвать.
      1. Нажмите **Сохранить**.

  * Чтобы отозвать роль в облаке:

      1. [Выберите облако](../../../resource-manager/operations/cloud/switch-cloud.md).
      1. Перейдите в раздел [Права доступа в облаке](https://console.cloud.yandex.ru/cloud?section=resource-acl) (кнопка **Права доступа** на панели слева).
      1. Выберите пользователя в списке и нажмите значок ![image](../../../_assets/options.svg) напротив имени пользователя.
      1. Если вы хотите отозвать все роли пользователя в облаке — нажмите кнопку **Отозвать роли**.
      1. Если вы хотите отозвать отдельные роли пользователя в облаке:
          1. Нажмите кнопку **Изменить роли**.
          1. В окне **Настройка прав доступа** нажмите значок ![image](../../../_assets/cross.svg) напротив каждой роли, которую хотите отозвать.
          1. Нажмите **Сохранить**.

- CLI

  {% include [cli-install](../../../_includes/cli-install.md) %}

  Чтобы отозвать роль у субъекта, удалите соответствующую привязку прав доступа для соответствующего ресурса:

  1. Посмотрите, кому и какие роли назначены на ресурс:

      {% include [include](../../../_includes/iam/list-access-bindings-via-cli.md) %}
      
  1. Чтобы удалить привязку прав доступа, выполните команду:

      ```bash
      yc <service-name> <resource> remove-access-binding <resource-name>|<resource-id> \
        --role <role-id> \
        --subject <subject-type>:<subject-id>
      ```

      Где:
      * `<role-id>` — идентификатор роли, которую надо отозвать, например `{{ roles-cloud-owner }}`.
      * `<subject-type>` — тип [субъекта](../../concepts/access-control/index.md#subject), у которого отзывается роль.
      * `<subject-id>` — идентификатор субъекта.

- API

  Чтобы отозвать роль у субъекта на ресурс, удалите соответствующую привязку прав доступа:

  1. {% include [include](../../../_includes/iam/list-access-bindings-via-api.md) %}
  1. Сформируйте тело запроса, например в файле `body.json`. В теле запроса укажите, какую привязку прав доступа необходимо удалить. Например, отзовите у пользователя `ajei8n54hmfhuk5nog0g` роль `editor`:

      **body.json:**
      ```json
      {
          "accessBindingDeltas": [{
              "action": "REMOVE",
              "accessBinding": {
                  "roleId": "editor",
                  "subject": {
                      "id": "ajei8n54hmfhuk5nog0g",
                      "type": "userAccount"
                      }
                  }
              }
          ]
      }
      ```

  1. Отзовите роль, удалив указанную привязку прав доступа:

      {% include [grant-role-folder-via-curl](../../../_includes/iam/grant-role-folder-via-curl.md) %}

{% endlist %}
