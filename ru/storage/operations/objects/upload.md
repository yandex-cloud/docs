# Загрузка объекта

Пользователь может создавать внутри бакета папки и загружать туда объекты. При этом необходимо помнить, что в SDK и HTTP API ключом объекта будет весь путь к объекту от корня бакета. Читайте подробнее в разделе [{#T}](../../concepts/object.md).

{% note info %}

Через консоль управления нельзя загрузить объекты размером более 5 ГБ (см. [{#T}](../../concepts/limits.md)). Также при загрузке через консоль нельзя указать `content-type` и другие заголовки. Для загрузки больших объектов или указания заголовков объекта используйте другие [инструменты](../../tools/index.md).

{% endnote %}

{% list tabs %}

- Консоль управления

  Консоль управления позволяет работать с бакетами {{ objstorage-name }} как с иерархической файловой системой.

  Чтобы загрузить объект:
  1. В [консоли управления]({{ link-console-main }}) выберите каталог, в который нужно загрузить объект.
  1. Выберите сервис **{{ objstorage-name }}**.
  1. Нажмите на имя необходимого бакета.
  1. Если вы хотите загрузить объект в конкретную папку, перейдите в нее, нажав на имя. Если хотите создать новую папку, создайте ее, нажав кнопку **Создать папку**.
  1. Оказавшись в нужной папке, нажмите кнопку **Загрузить**.
  1. В появившемся окне выберите необходимые файлы и нажмите кнопку **Открыть**.
  1. Консоль управления отобразит все объекты, выбранные для загрузки и предложит для каждого из них выбрать [класс хранилища](../../concepts/storage-class.md). Класс хранилища по умолчанию определяется [настройкой бакета](../../concepts/bucket.md#bucket-settings).
  1. Нажмите кнопку **Загрузить**.
  1. Обновите страницу.

- AWS CLI

  Чтобы загрузить все объекты из локальной директории, используйте команду:

  ```bash
  aws --endpoint-url=https://{{ s3-storage-host }}/ \
  s3 cp --recursive <путь к локальной директории>/ s3://<имя бакета>/<префикс>/
  ```

  Где:

  * `<путь к локальной директории>` — путь к папке на вашем устройстве, из которой нужно скопировать файлы.
  * `<имя бакета>` — имя вашего бакета.
  * `<префикс>` — идентификатор папки в хранилище, описан в разделе [{#T}](../../concepts/object.md#folder).

- {{ TF }}

  {% include [terraform-definition](../../../_tutorials/terraform-definition.md) %}

  Если у вас еще нет {{ TF }}, {% if audience != "internal" %}[установите его и настройте провайдер {{ yandex-cloud }}](../../../tutorials/infrastructure-management/terraform-quickstart.md#install-terraform){% else %}установите его и настройте провайдер {{ yandex-cloud }}{% endif %}.

  Перед началом работы получите {% if audience != "internal" %}[статические ключи доступа](../../../iam/operations/sa/create-access-key.md){% else %}статические ключи доступа{% endif %} — секретный ключ и идентификатор ключа, используемые для аутентификации в {{ objstorage-short-name }}.

  Чтобы создать объект в существующем бакете:

  1. Опишите в конфигурационном файле параметры ресурсов, которые необходимо создать.

     ```hcl
     resource "yandex_storage_object" "test-object" {
       access_key = "<идентификатор_статического_ключа>"
       secret_key = "<секретный_ключ>"
       bucket     = "<имя_бакета>"
       key        = "<имя_объекта>"
       source     = "<путь_к_файлу>"
     }
     ```

     Где:
     * `access_key` — идентификатор статического ключа доступа.
     * `secret_key` — значение секретного ключа доступа.
     * `bucket` — имя бакета для добавления объекта. Обязательный параметр.
     * `key` — имя объекта в бакете. Обязательный параметр. Формат имени:

        {% include [name-format](../../../_includes/name-format.md) %}

     * `source` — относительный или абсолютный путь к загружаемому файлу на вашем устройстве.

     Более подробную информацию о ресурсах, которые вы можете создать с помощью {{ TF }}, см. в [документации провайдера]({{ tf-provider-link }}/storage_object).

  1. Проверьте корректность конфигурационных файлов.

     1. В командной строке перейдите в папку, где вы создали конфигурационный файл.
     1. Выполните проверку с помощью команды:

        ```bash
        terraform plan
        ```

     Если конфигурация описана верно, в терминале отобразится список создаваемых ресурсов и их параметров. Если в конфигурации есть ошибки, {{ TF }} на них укажет. 

  1. Разверните облачные ресурсы.

     1. Если в конфигурации нет ошибок, выполните команду:

        ```bash
        terraform apply
        ```

     1. Подтвердите создание ресурсов: введите в терминал слово `yes` и нажмите **Enter**.

        После этого в указанном каталоге будут созданы все требуемые ресурсы. Проверить появление ресурсов и их настройки можно в [консоли управления]({{ link-console-main }}).

{% endlist %}
