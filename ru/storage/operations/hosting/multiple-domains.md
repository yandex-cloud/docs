---
title: Как настроить поддержку нескольких доменных имен для сайта
description: Следуя данной инструкции, вы сможете настроить поддержку нескольких доменных имен для сайта.
---

# Поддержка нескольких доменных имен для сайта

{% note info %}

Инструкция описывает, как настроить поддержку основного доменного имени сайта и его [поддомена](https://ru.wikipedia.org/wiki/Поддомен), например: `example.com` и `www.example.com`.
Чтобы настроить поддержку дополнительного домена, например `example2.com`, [создайте](../buckets/create.md) бакет с его именем. Затем [настройте](setup.md#hosting) хостинг для этого бакета и [задайте](setup.md#redirects) параметры переадресации с него на основной домен.

{% endnote %}

Чтобы поддержать несколько доменных имен для своего сайта, например `example.com` и `www.example.com`:

1. [Создайте](../buckets/create.md) бакет. Назовите его одним из доменных имен, например `www.example.com`.

1. {% include [setup-bucket.md](../../../_includes/storage/setup-bucket.md) %}

1. [Свяжите](./own-domain.md) доменное имя, например `www.example.com`, и бакет.

1. Добавьте на [DNS-сервере](../../../glossary/dns.md#dns-server) дополнительную [ресурсную запись](../../../dns/concepts/resource-record.md), которая связывает еще одно доменное имя, например `example.com`, и бакет:

    {% list tabs group=instructions %}

    - {{ dns-full-name }} {#dns}

      [Создайте](../../../dns/operations/resource-record-create.md) ресурсную запись в {{ dns-name }} со следующими параметрами:

      | Имя          | Тип   | TTL | Значение                          |
      |--------------|-------|-----|-----------------------------------|
      | example.com. | ANAME | 600 | www.example.com.{{ s3-web-host }} |

      Записи [ANAME](../../../dns/concepts/resource-record.md#aname) позволяют использовать для хостинга домены второго уровня и, в отличие от [CNAME](../../../dns/concepts/resource-record.md#cname), не ограничивают использование других типов записей в одной с ними зоне. 

      Обновление ресурсных записей может занять некоторое время.

    - Внешний DNS-сервер {#third-party-dns-server}

      Пример ресурсной записи [CNAME](../../../dns/concepts/resource-record.md#cname): 

      ```text
      example.com CNAME www.example.com.{{ s3-web-host }}
      ```

      Чтобы использовать ресурсную запись CNAME, ваше доменное имя должно быть в домене не ниже третьего уровня — это связано с особенностями обработки CNAME-записей на DNS-хостингах. Подробнее см. п. 2.4 [RFC 1912](https://www.ietf.org/rfc/rfc1912.txt).

      Обновление ресурсных записей может занять некоторое время.

    {% endlist %}

Если по какой-либо причине невозможно или неудобно создавать дополнительную ресурсную запись, то можно поступить следующим образом:

1. [Создайте](../../../compute/operations/vm-create/create-linux-vm.md) виртуальную машину с [публичным IP-адресом](../../../vpc/concepts/address.md#public-addresses).
1. Свяжите домен `example.com` c публичным IP-адресом виртуальной машины.
1. Настройте все необходимые алиасы на стороне DNS-сервера.
1. На виртуальной машине установите веб-сервер и настройте переадресацию на бакет {{ objstorage-name }}.
