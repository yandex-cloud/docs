# Открытие публичного доступа к операциям с бакетом

По умолчанию бакеты создаются с ограниченным [доступом](../../concepts/bucket.md#bucket-access). С помощью консоли управления вы можете открыть публичный доступ:

{% include [storage-public-operations](../../_includes_service/storage-public-operations.md) %}

{% list tabs %}

- Консоль управления
  
  1. В [консоли управления]({{ link-console-main }}) выберите каталог.
  1. Выберите сервис **{{ objstorage-name }}**.
  1. Нажмите на имя необходимого бакета.
  1. Перейдите на вкладку **Настройки**.
  1. Выберите тип доступа к операциям с бакетом.
  1. Нажмите **Сохранить**.

- {{ TF }}

  {% include [terraform-definition](../../../_tutorials/terraform-definition.md) %}

  {% if audience != "internal" %}

  Если у вас ещё нет {{ TF }}, [установите его и настройте провайдер {{ yandex-cloud }}](../../../tutorials/infrastructure-management/terraform-quickstart.md#install-terraform).

  {% endif %}

  Чтобы открыть публичный доступ к операциям с бакетом:

  1. Откройте файл конфигурации {{ TF }} и добавьте блок `anonymous_access_flags` во фрагмент с описанием бакета.

     ```hcl
     resource "yandex_storage_bucket" "log_bucket" {
       access_key = "<идентификатор_статического_ключа>"
       secret_key = "<секретный_ключ>"
       bucket     = "my-tf-log-bucket"

       anonymous_access_flags {
         read = true
         list = false
       }
     }
     ```

     Где:
     * `access_key` — идентификатор статического ключа доступа.
     * `secret_key` — значение секретного ключа доступа.
     * `read` — доступ на чтение объектов в бакете.
	 * `list` — доступ к списку объектов в бакете.

     Более подробную информацию о параметрах ресурса `yandex_storage_bucket` в {{ TF }} см. в [документации провайдера]({{ tf-provider-link }}/storage_bucket#bucket-anonymous-access-flags).

  1. Проверьте корректность конфигурационных файлов.

     1. В командной строке перейдите в папку, где вы создали конфигурационный файл.
     1. Выполните проверку с помощью команды:

        ```
        terraform plan
        ```

     Если конфигурация описана верно, в терминале отобразится список создаваемых ресурсов и их параметров. Если в конфигурации есть ошибки, {{ TF }} на них укажет. 

  1. Разверните облачные ресурсы.

     1. Если в конфигурации нет ошибок, выполните команду:

        ```
        terraform apply
        ```

     1. Подтвердите создание ресурсов: введите в терминал слово `yes` и нажмите **Enter**.

        После этого в указанном каталоге будут созданы все требуемые ресурсы. Проверить появление ресурсов и их настройки можно в [консоли управления]({{ link-console-main }}).
  
{% endlist %}
