# Сервис

В кластере {{ k8s }} каждый под имеет внутренний IP-адрес. Поды создаются и удаляются, и их IP-адреса меняются, поэтому использование IP-адресов подов напрямую не имеет смысла. Чтобы получить постоянный доступ к подам и отказаться от использования их внутренних IP-адресов, используйте _сервис_.

_Сервис_ — это объект API {{ k8s }} ([Service](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.15/#service-v1-core)), предназначенный для предоставления доступа к приложению, запущенному в виде набора подов в кластере {{ k8s }}.

С помощью сервиса вы получаете постоянный IP-адрес, который будет существовать на протяжении всего жизненного цикла сервиса, даже при изменении IP-адресов подов. Сервис также обеспечивает балансировку нагрузки. Клиенты отправляют запросы на один IP-адрес, и их запросы балансируются между подами, которые принадлежат сервису.

Набор подов, принадлежащих сервису, определяется селектором. Селектор задается пользователем при создании пода и позволяет фильтровать список ресурсов на основе меток — пар ключ-значение, прикрепленных к ресурсу. Под принадлежит сервису, если имеет все метки, указанные в селекторе.

В зависимости от задачи вы можете использовать сервисы [различных типов](#type).

## Типы сервисов {#type}

В кластерах {{ k8s }} можно использовать различные типы сервисов, в том числе:
* `ClusterIP`
  * Доступ к сервису существует только внутри сети кластера {{ k8s }} по внутреннему IP-адресу.
  * Не требует использования дополнительных облачных ресурсов.
* `NodePort` — расширение типа `ClusterIP`.
  * Обеспечивает доступ к сервису по внутренним или публичным IP-адресам узлов кластера {{ k8s }}.
  * Не требует использования дополнительных облачных ресурсов.
* `LoadBalancer` — расширение типа `NodePort`.
  * Обеспечивает доступ к сервису через создаваемый облачный балансировщик нагрузки.
  * Требует использования дополнительных облачных ресурсов — балансировщика нагрузки.

Подробнее о типах сервисов читайте в документации [{{ k8s }}](https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types).

{{ managed-k8s-name }} позволяет использовать сервисы типа `LoadBalancer` на основе [сетевого балансировщика нагрузки](../../load-balancer/concepts/index.md) {{ load-balancer-full-name }} с публичным или внутренним IP-адресом.

#### См. также {#see-also}

* [{#T}](../operations/create-load-balancer.md).