# Восстановление доступа к виртуальной машине с утерянным SSH-ключом


## Описание проблемы {#issue-description}

Утерян ключ SSH, используемый для подключения к виртуальной машине.

## Решение проблемы {#issue-resolution}

Существует несколько вариантов восстановить виртуальную машину, SSH-ключи для подключения к которой были утеряны.

Если пароль для пользователя Linux не был установлен, вы можете [создать снимок диска](../../../compute/operations/disk-control/create-snapshot.md) проблемной виртуальной машины, после чего создать новую ВМ из данного снимка, выбрав на странице создания ВМ **{{ ui-key.yacloud.compute.instances.create.label_add-disk }}** → **{{ ui-key.yacloud.compute.disk.overview.label_snapshot }}**.

Если описанный выше способ не решил проблему, выполните следующие действия:

1. Cоздайте новый диск из снимка проблемной ВМ.
1. Подключите его в качестве дополнительного диска к другой ВМ.
1. Измените корневой каталог, используя `chroot`.
1. Измените файлы конфигураций, влияющие на недоступность ВМ, например, задайте новый пароль с помощью команды `sudo passwd $USERNAME`, где `$USERNAME` – имя пользователя Linux, для которого требуется задать пароль.
1. Отключите дополнительный диск от вспомогательной ВМ и создайте из него новую ВМ, используя измененный диск в качестве загрузочного.

Если ранее внутри ВМ вы устанавливали пароль для пользователя Linux, вы можете воспользоваться серийной консолью. Для настройки воспользуйтесь [инструкцией из документации](../../../compute/operations/serial-console/index.md).

После активации серийной консоли подключитесь к виртуальной машине. Мы рекомендуем использовать [способ подключения с помощью CLI](../../../compute/operations/serial-console/connect-cli.md).