# Как подключиться к Linux-ВМ в Облаке через WinSCP со сгенерированным при создании ключом


## Описание задачи {#case-description}

Возникла необходимость подключиться к Linux-ВМ в Облаке через WinSCP со сгенерированным при создании ключом.

## Решение {#case-resolution}

Чтобы подключиться к виртуальной машине Linux с помощью WinSCP, нужно указать следующие параметры подключения:

1. `File protocol` – `SCP` или `SFTP`;
2. `Host name` – IP-адрес ВМ;
3. `User name` – имя пользователя, заданное при создании ВМ;
4. `Password` – оставить пустым, так как будет использоваться аутентификация по SSH-ключу.

Далее нужно нажать **Advanced**, выбрать **SSH – Authentication** и в блоке **Authentication parameters** активировать параметр `Allow agent forwarding`. После этого в поле `Private key file` выбрать файл закрытого ключа SSH и нажать **ОК**. Теперь вы сможете подключиться к ВМ для передачи файлов по протоколу SCP или SFTP, нажав кнопку **Login**.

Эта инструкция актуальна, если вы не задали пароль для пользователя. Если вы уже подключались к ВМ с помощью SSH-ключа и задавали пароль командой `sudo passwd имя_пользователя`, то в пункте **4.** введите пароль пользователя и нажмите **Login**.

В целях безопасности по умолчанию вход на ВМ [возможен только по SSH-ключу](https://cloud.yandex.ru/docs/compute/operations/vm-connect/ssh).