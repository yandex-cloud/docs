---
title: Интеграция {{ dns-full-name }} с {{ compute-full-name }}
description: Из статьи вы узнаете, как {{ dns-full-name }} связан с ресурсами {{ compute-full-name }}.
---

# Интеграция с {{ compute-name }}

Вы можете назначать доменные имена ([FQDN](../../compute/concepts/network.md#hostname)) виртуальным машинам сразу при их создании в сервисе {{ compute-name }}.

Чтобы при создании ВМ добавить ее в зону, выберите нужную зону и задайте доменное имя в пункте **Настройки DNS для внутренних адресов** блока **Сетевые настройки**. Вы можете добавить несколько записей, в том числе в разных зонах. Если вы не укажете зону, ВМ получит доменное имя в стандартной зоне подсети, к которой будет подключена ВМ. Инструкции по созданию ВМ см. в разделе [{#T}](../../compute/operations/vm-create/create-linux-vm.md).

Для публичного IP-адреса ВМ интеграция с {{ compute-name }} сейчас не поддерживается. Вы можете добавить [A-запись](resource-record.md#a) в [публичную зону](dns-zone.md#public-zones) вручную после создания ВМ. Подробнее о том, [как создать запись](../operations/resource-record-create.md).

## Автоматический выбор зоны {#zone-selection}

Если зона для дополнительной DNS-записи ВМ не указана явно, она будет выбрана автоматически. Для этого необходимо указать FQDN, который должен заканчиваться точкой. В консоли управления точка добавляется автоматически.

DNS-запись будет добавлена в одну из [внутренних зон](dns-zone.md#private-zones), которые доступны из виртуальной сети ВМ и являются суффиксами FQDN. Из подходящих по суффиксу выбирается наиболее конкретная внутренняя зона. Если подходящих зон с одним и тем же доменным именем несколько, будет выбрана одна из них.

> Например, в сетевых настройках задали FQDN `hello.world.private.` и из виртуальной сети доступны четыре внутренние DNS-зоны:
>
> * сервисная `.`;
> * пользовательские: `staging.`, `private.` и `world.private.`
>
> Зона `staging.` исключается из рассмотрения, потому что доменное имя `staging.` не является суффиксом FQDN `hello.world.private.`;
>
> Среди подходящих по суффиксу зон `.`, `private.` и `world.private.` выбирается `world.private.`, как наиболее конкретная зона.

## Работа {{ dns-name }} с группами ВМ

При создании группы ВМ имя, указанное в [шаблоне ВМ](../../compute/concepts/instance-groups/instance-template.md), будет применено для всех ВМ группы. В результате будут созданы записи с одинаковыми именами (FQDN), но разными IP-адресами. 

Чтобы сгенерировать уникальные имена, вы можете использовать в шаблоне [переменные](../../compute/concepts/instance-groups/variables-in-the-template.md). Например, если указать имя записи `web_server_{instance.index}`, можно создать записи с уникальными именами ВМ из группы, а с помощью имени `web_server_{instance.zone_id}` — записи, объединяющие все ВМ в одной [зоне доступности](../../overview/concepts/geo-scope.md).

#### См. также {#see-also}

* [Создать виртуальную машину](../../compute/operations/index.md)
* [Привязать доменное имя к ВМ с веб-сервером](../tutorials/bind-domain-vm.md)
