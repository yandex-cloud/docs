# Добавить алерт для сертификата

Вы можете добавить алерты об истечении сертификата или о его неработоспособности.

## Добавить алерт о скором истечении сертификата {#expired}

Чтобы создать алерт:

{% list tabs %}

- Консоль управления

  1. В [консоли управления]({{ link-console-main }}) выберите [каталог](../../resource-manager/concepts/resources-hierarchy.md#folder), в котором будет создан алерт.
  1. В списке сервисов выберите **{{ monitoring-name }}**.
  1. На главной странице сервиса нажмите **Создать алерт**.
  1. Укажите основные параметры алерта:
     * **Имя**. Задайте имя канала.
     * **Описание**. Укажите метод уведомлений.
  1. Укажите условия срабатывания алерта:
     1. Выберите метрику, над которой будет создан алерт:
        * `service = Certificate Manager`.
        * `name = certificate.days_until_expiration`.
        * `certificate = *`. Для слежения за конкретным сертификатом укажите его идентификатор.
        * (опционально) Если выбрано больше одного сертификата, то используйте функцию `series_min()`, выбирающую наименьшее значение.
     1. Настройте основные и дополнительные параметры алерта:
        * **Условие срабатывания**. Условие — меньше или равно, число дней для **Alarm** = `4`, для **Warning** = `14`. 
        * **Функция агрегации**.
        * **Окно вычисления**.

        
        Подробнее в разделе [{#T}](../../monitoring/concepts/alerting/alert.md#condition).


     1. Укажите канал уведомлений. Если у вас нет канала уведомлений, [создайте его](../../monitoring/operations/alert/create-channel.md).
     1. Нажмите **Создать алерт**. Алерт появится в списке.

{% endlist %}

## Добавить алерт о неработоспособности сертификата {#inoperable}

Чтобы создать алерт:

{% list tabs %}

- Консоль управления

  1. В [консоли управления]({{ link-console-main }}) выберите каталог, в котором будет создан алерт.
  1. В списке сервисов выберите **{{ monitoring-short-name }}**.
  1. На главной странице сервиса нажмите **Создать алерт**.
  1. Укажите основные параметры алерта:
     * **Имя**. Задайте имя канала.
     * **Описание**. Укажите метод уведомлений.
  1. Укажите условия срабатывания алерта:
     1. Выберите метрику, над которой будет создан алерт:
        * `service = Certificate Manager`.
        * `name = certificate.is_out_of_order`.
        * `certificate = *`. Для слежения за конкретным сертификатом укажите его идентификатор.
        * (опционально) Если выбрано больше одного сертификата, то используйте суммирующую функцию `series_sum()`.
     1. Настройте основные и дополнительные параметры алерта:
        * **Условие срабатывания**. Условие — больше, количество неработоспособных сертификатов для **Alarm** = `0`. 
        * **Функция агрегации**.
        * **Окно вычисления**.

        
        Подробнее в разделе [{#T}](../../monitoring/concepts/alerting/alert.md#condition). 


     1. Укажите канал уведомлений. Если у вас нет канала уведомлений, [создайте его](../../monitoring/operations/alert/create-channel.md).
     1. Нажмите **Создать алерт**. Алерт появится в списке.

{% endlist %}