---
title: Интеграционный шаг AIAgent
description: В статье описаны поля для интеграционного шага AIAgent.
---

# AIAgent

AI-агент, помогающий сформировать запрос к {{ yagpt-name }}.

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating.md) | Описание
--- | --- |--- | --- | --- | ---
`agentConfig`| [AIAgentConfig](#AIAgentConfig) | Да | Нет | Нет | Настройки AI-агента.
`tasks`| [AIAgentTask[]](#AIAgentTask) | Да | Нет | Нет | Задачи, которые должен выполнить AI-агент.

## Объект AIAgentConfig {#AIAgentConfig}

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating.md) | Описание
--- | --- |--- | --- | --- | ---
`goal`| `string` | Да | Нет | Да | Индивидуальная цель, которой руководствуется AI-агент при принятии решений. Например: «помочь с выбором автозапчастей для указанного автомобиля».
`role`| `string` | Да | Нет | Да | Роль, которая определяет функции и опыт AI-агента. Например: «консультант по выбору автозапчастей».
`backstory`| `string` | Нет | Нет | Да | Предыстория, которая определяет индивидуальность AI-агента и обогащает контекст. Например: «ты находишь лучшие автозапчасти по соотношению цены и качества и кратко объясняешь свой выбор».
`model`| [AIAgentModel](#AIAgentModel) | Нет | Нет | Нет | Большая языковая модель, которая будет использоваться AI-агентом.
`knowledgeSources` | [KnowledgeSource[]](#KnowledgeSource) | Нет | Нет | Нет | Источники знаний AI-агента.
`tools` | [AIAgentTool[]](#AIAgentTool) | Нет | Нет | Нет | Инструменты, которые AI-агент может использовать, чтобы получать дополнительные данные для формирования ответа.

## Объект AIAgentTask {#AIAgentTask}

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating.md) | Описание
--- | --- |--- | --- | --- | ---
`description`| `string` | Да | Нет | Да | Описание задачи, которую должен выполнить AI-агент. Например: «подбери масляный фильтр для LADA Granta».
`result`| `string` | Нет | Нет | Да | Описание вида ожидаемого результата. Например: «список адресов магазинов, где можно купить подходящие автозапчасти».

## Объект AIAgentModel {#AIAgentModel}

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating) | Описание
--- | --- |--- | --- | --- | ---
`name`| `string` | Нет | `yagpt` | Нет | Имя модели. [Список доступных моделей](../../../../../foundation-models/concepts/generation/models.md#generation).

## Объект KnowledgeSource {#KnowledgeSource}

Поля `textSource` и `fileSource` — взаимоисключающие, можно использовать только одно из них.

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating) | Описание
--- | --- | --- | --- | --- | ---
`textSource`| [TextKnowledgeSource](#TextKnowledgeSource) | Нет | Нет | Нет | Источник знаний в виде текста.
`fileSource`| [FileKnowledgeSource](#FileKnowledgeSource) | Нет | Нет | Нет | Источник знаний в виде файла.

## Объект TextKnowledgeSource {#TextKnowledgeSource}

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating) | Описание
--- | --- | --- | --- | --- | ---
`content`| `string` | Да | Нет | Да | Текст, который содержит источник знаний.

## Объект FileKnowledgeSource {#FileKnowledgeSource}

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating) | Описание
--- | --- | --- | --- | --- | ---
`type`| `string` | Да | Нет | Нет | Тип файла, который содержит источник знаний. Доступные типы: `TEXT`, `JSON`, `CSV`, `PDF`, `EXCEL`.
`dataSource`| [DataSource](#DataSource) | Да | Нет | Нет | Источник данных.

## Объект DataSource {#DataSource}

Поля `urlSource` и `objectStorageSource` — взаимоисключающие, можно использовать только одно из них.

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating) | Описание
--- | --- | --- | --- | --- | ---
`urlSource`| [UrlDataSource](#UrlDataSource) | Нет | Нет | Нет | Файл, который доступен по публичному URL.
`objectStorageSource`| [ObjectStorageDataSource](#ObjectStorageDataSource) | Нет | Нет | Нет | Файл, который находится в [бакете](../../../../../storage/concepts/bucket.md) {{ objstorage-name }}.

## Объект UrlDataSource {#UrlDataSource}

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating) | Описание
--- | --- | --- | --- | --- | ---
`url`| `string` | Да | Нет | Да | Публичный URL.

## Объект ObjectStorageDataSource {#ObjectStorageDataSource}

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating) | Описание
--- | --- | --- | --- | --- | ---
`bucket`| `string` | Да | Нет | Нет | Имя бакета, в котором находится файл.
`object`| `string` | Да | Нет | Да | Имя [объекта](../../../../../storage/concepts/object.md), в котором находится файл, например `prefix/subprefix/data.json`.

## Объект AIAgentTool {#AIAgentTool}

Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating) | Описание
--- | --- | --- | --- | --- | ---
`mcpServer`| [MCPServer](#MCPServer) | Нет | Нет | Нет | [MCP-сервер](../../../../../glossary/mcp.md).

## Объект MCPServer {#MCPServer}

Поля `useServiceAccount` и `token` — взаимоисключающие, можно использовать только одно из них.

#|
|| Имя поля | Тип | Обязательное | Значение по умолчанию | Поддерживается [шаблонизация](../../templating) | Описание ||
|| `endpoint`| `string` | Да | Нет | Нет | URL, по которому доступен MCP-сервер. Например: `https://mcp.example.com/sse`. ||
|| `transport`| `string` | Да | Нет | Нет | Тип транспортного механизма, который будет использоваться для взаимодействия с MCP-сервером. Доступные типы:
* `STREAMABLE` — AI-агент сможет получать обновления (события) с сервера без необходимости поддерживать постоянное HTTP-соединение. Данные между AI-агентом и сервером будут передаваться в обоих направлениях.
* `SSE` — AI-агент сможет получать обновления с сервера через одно постоянное HTTP-соединение. Данные будут передаваться только от сервера к AI-агенту.
* `UNSPECIFIED` — тип транспортного механизма не указан. ||
|| `useServiceAccount`| `bool` | Нет | Нет | Нет | Если задано значение:
* `true` — для авторизации на MCP-сервере будет использоваться [IAM-токен](../../../../../iam/concepts/authorization/iam-token.md) [сервисного аккаунта](../../../../../iam/concepts/users/service-accounts.md), привязанного к рабочему процессу.
* `false` — обращение к MCP-серверу будет выполняться без авторизации.||
|| `token`| `string` | Нет | Нет | Нет | [OAuth-токен](../../../../../iam/concepts/authorization/oauth-token.md), который будет использоваться для авторизации на MCP-сервере. ||
|#
