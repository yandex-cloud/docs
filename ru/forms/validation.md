# Использовать внешний валидатор ответов

Чтобы проверять ответы на вопросы, для которых не предусмотрены стандартные методы валидации (например, как для вопросов [<q>Короткий текст</q>](blocks-ref/short-text.md) и [<q>Число</q>](blocks-ref/number.md)), можно использовать внешний сервер валидации.


## Включить внешний валидатор {#enable}

1. Выберите форму и перейдите на вкладку **Настройки** → **Дополнительно**.

1. Включите опцию **Валидация ответов** и укажите адрес сервера валидации.

1. Нажмите кнопку **Сохранить**.

1. В настройках вопросов, которые нужно проверять с помощью внешнего сервера, в блоке **Валидация** выберите **Внешний валидатор**.


## Формат данных и ответы {#format}

Данные из формы передаются на сервер валидации в формате:

```json
{
    id: 443,
    slug: "test-survey",
    name: "Тестовая форма",
    questions: [
      {
        answer_type: {
            slug: "answer_short_text",
            name: "Короткий ответ",
        },
        id: 30373,
        label: "Место работы",
        slug: "answer_work_place",
        value: "Yandex LLC"
      }
      ...
    ]
}
```

Сервер валидации должен вернуть ответ в формате:

- При успешной валидации — любой ответ с кодом 200 либо: 
    
  ```json
  {
    status: "OK"
  }
  ```

- В случае ошибки валидации — сообщение об ошибке для каждого неправильного ответа: 
  
  ```json
  {
    "status": "ERROR",
    "errors": {
      "answer_short_text_30385": [ "Incorrect value" ],
      "answer_long_text_30391": [ "Incorrect answer type", "Incorrect value" ]
    }
  }
  ```

Пример реализации валидатора в [Github](https://github.yandex-team.ru/tools/forms/blob/develop/src/events/surveyme/views.py).