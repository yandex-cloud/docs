# Настроить предзаполнение формы

Форму можно опубликовать таким образом, чтобы при открытии формы в ее поля автоматически подставлялись заданные значения или выбирались определенные варианты ответов на вопросы.

Предзаполнение формы можно использовать:

- Чтобы предложить пользователю варианты ответов, которые вы считаете предпочтительными или наиболее вероятными.

- Чтобы передавать вспомогательные или служебные параметры в [скрытые поля формы](#hidden-query), например для сбора статистики. 


Чтобы задать значение поля или выбрать вариант ответа, передайте в форму [идентификатор вопроса](question-id.md) и значение ответа {% if audience == "external" %} с помощью [GET-параметров в URL формы](get-params.md){% else %}. Это можно сделать двумя способами:

- С помощью [GET-параметров в URL формы](get-params.md). 

- С помощью [JavaScript-метода postMessage](postmessage.md). Этот способ подходит, только если форма встроена на страницу через iframe.

{% endif %}

## Настроить предзаполнение скрытого поля {#hidden-query}

Скрытые поля формы можно использовать для автоматической передачи в форму служебных или вспомогательных параметров, таких как [UTM-метки]({{ link-wikipedia-utm }}). Это позволяет добавить к ответам пользователей дополнительную информацию для анализа и сбора статистики.

> Например, вы создали форму и разместили ее на разных веб-сайтах. Теперь вы хотите знать, на каком сайте пользователь заполнил форму. Для этого используйте UTM-метку `utm_source`.
> 
> Добавьте в форму скрытое поле <q>Источник ответов</q>. В ссылку на форму добавьте GET-параметр, значение которого будет автоматически передаваться в скрытое поле. Затем можно будет посчитать, из каких источников пришли ответы пользователей.

Чтобы настроить скрытый параметр для приведенного примера:

1. Добавьте на форму вопрос типа [<q>Короткий текст</q>](blocks-ref/short-text.md) с названием <q>Источник ответов</q>.

1. Для этого вопроса включите опцию **Скрытый вопрос**.

1. В поле **Идентификатор вопроса** укажите `utm_source` — это будет название [GET-параметра](get-params.md).

1. [Получите ссылку на форму](publish.md#section_link) и добавьте в конец URL-адреса GET-параметр `?utm_source=site_name_1`.

    - Пример ссылки на форму без GET-параметра: 
      `{{ link-forms }}u/6191b18d99e21b1b45b9c82/`

    - Пример ссылки на форму с GET-параметром: 
      `{{ link-forms }}u/6191b18d99e21b1b45b9c82?utm_source=site_name_1`

1. Разместите ссылку на форму с GET-параметром на веб-сайте.

1. Аналогичным способом создайте еще одну ссылку, которая будет размещена на другом сайте. Для этого добавьте в конец URL-адреса GET-параметр `?utm_source=site_name_2`. 

1. При переходе по ссылке в скрытое поле <q>Источник ответов</q> автоматически будет подставляться значение `site_name_1` или `site_name_2`. По этому значению в ответе вы определите сайт, на котором была заполнена форма.

Чтобы предзаполнение скрытого поля работало при [встраивании формы на сайт с помощью iframe](publish.md#section_c21_gdb_42b), в коде для вставки iframe укажите URL с настроенными GET-параметрами.