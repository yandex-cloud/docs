# Сеть и кластеры БД

При создании кластера вы можете:

* задать сеть и подсеть для кластера;
* запросить публичные IP-адреса для доступа к кластеру извне {{ yandex-cloud }}.

Подключение к кластеру {{ mgp-short-name }} производится только через хосты-мастеры.

Для высокоскоростной связи между хостами кластера {{ mgp-short-name }} использует обособленную _внутрикластерную сеть_ (interconnect). Доступ к внутрикластерной сети и прямое подключение к хостам-сегментам не предоставляются.

По умолчанию хосты-мастеры доступны для подключения с ВМ, находящихся в той же облачной сети.{% if audience != "internal" %} Подробнее о работе сети читайте в [документации сервиса {{ vpc-full-name }}](../../vpc/concepts/index.md).{% endif %}

## Имя хоста и FQDN {#hostname}

При создании кластера {{ mgp-short-name }} автоматически назначает его хостам краткие и полные (FQDN) имена. Изменить их нельзя.

{% if audience != "internal" %}

FQDN можно использовать для доступа к хостам-мастерам как внутри, так и извне {{ yandex-cloud }}.

## Публичный доступ к кластеру {#public-access-to-a-host}

Чтобы получить публичные IP-адреса для доступа к хостам-мастерам извне {{ yandex-cloud }}, при создании кластера включите опцию **Публичный доступ**. Для подключения к кластеру используйте FQDN его хостов-мастеров.

После создания кластера запросить публичные адреса или отказаться от них нельзя.

{% endif %}

## Группы безопасности {#security-groups}

{% if audience == "draft" %}

{% include [sg-rules-limits](../../_includes/mdb/sg-rules-limits.md) %}

{% endif %}

{% note tip %}

При подключении к кластеру из той же облачной сети, в которой он находится, [настройте группы безопасности](../operations/connect.md#configuring-security-groups) не только для кластера, но и для хоста, с которого выполняется подключение.

{% endnote %}

Особенности работы с группами безопасности:

* Для подключения к кластеру [необходимы правила](../operations/connect.md#configuring-security-groups), разрешающие прохождение трафика между ним и хостом, с которого выполняется подключение, даже если они находятся в одной группе безопасности.{% if audience == "draft" %} По умолчанию такие правила содержатся в группе безопасности, которая создается вместе с облачной сетью. Это правила `Self`, разрешающие неограниченное прохождение трафика внутри группы безопасности.{% endif %}

* Настройки групп безопасности влияют на возможность подключения к кластеру, его работоспособность и сетевую связность хостов.

{% if audience != "internal" %}

Подробнее см. в [документации Virtual Private Cloud](../../vpc/concepts/security-groups.md).

{% endif %}

{% include [greenplum-trademark](../../_includes/mdb/mgp/trademark.md) %}
