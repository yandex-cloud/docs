# Подключение к базе данных в кластере Greenplum

**TODO: написать про доступные способы подключения**


## Настройка групп безопасности {#configure-security-groups}

1. [Настройте все группы безопасности](../vpc/concepts/security-groups.md) кластера так, чтобы они разрешали входящий трафик из групп безопасности, в которых находится промежуточная виртуальная машина, на порт {{ port-mgp }}. Для этого [создайте](../vpc/operations/security-group-update.md#add-rule) в этих группах следующие правила для входящего трафика:

    * диапазон портов: `{{ port-mgp }}`;
    * протокол: `TCP`;
    * назначение: `Группа безопасности`;
    * группа безопасности: группа безопасности, в которой находится промежуточная виртуальная машина. Если она совпадает с настраиваемой группой, то укажите `Текущая` (`Self`).

1. [Настройте группы безопасности](../vpc/concepts/security-groups.md) промежуточной виртуальной машины так, чтобы можно было подключаться к ней и был разрешен трафик между ней и хостом-мастером кластера.

    Пример правил для промежуточной виртуальной машины:

    * Для входящего трафика:

        * диапазон портов: `{{ port-ssh }}`;
        * протокол: `TCP`;
        * назначение: `CIDR`;
        * CIDR-блоки: `0.0.0.0/0`.

        Это правило позволяет подключаться к промежуточной виртуальной машине по протоколу SSH.

    * Для исходящего трафика:

        * диапазон портов: `{{ port-any }}`;
        * протокол: `Любой` (`Any`);
        * назначение: `CIDR`;
        * CIDR-блоки: `0.0.0.0/0`.

        Это правило разрешает любой исходящий трафик, что позволяет не только подключаться к кластеру, но и устанавливать сертификаты и утилиты, необходимые для подключения к кластеру.

{% include [note-sg-detail-rules](../../_includes/mdb/note-sg-detail-rules.md) %}


## Получение SSL-сертификата {#get-ssl-cert}

TODO: Написать про настройку SSL-сертификата


## Примеры строк подключения {#connection-string}

{% include [conn-strings-environment](../../_includes/mdb/mdb-conn-strings-env.md) %}

**TODO: написать про ограничения на подключения, накладываемые сервисом**

**TODO: написать примеры строк подключения. При этом создать заголовки 3-го уровня для каждого языка программирования**

{% include [greenplum-trademark](../../_includes/mdb/mgp/trademark.md) %}
