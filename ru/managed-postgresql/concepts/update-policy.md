---
title: Политика работы с версиями {{ PG }}
description: Из статьи вы узнаете о политике работы с версиями {{ PG }} в сервисе {{ mpg-full-name }}.
---

# Политика работы с версиями {{ PG }}

_Политика работы с версиями {{ PG }}_ описывает жизненный цикл [мажорных](#major-updates) версий {{ PG }} в сервисе {{ mpg-full-name }}. Политика основана на официальном цикле поддержки [сообщества](https://www.postgresql.org/) {{ PG }} и предназначена для обеспечения баланса между стабильностью работы кластеров и поддержанием современной и безопасной инфраструктуры.

## Терминология и этапы жизненного цикла версий {{ PG }} {#version-lifecycle}

Для каждой мажорной версии {{ PG }} в сервисе {{ mpg-name }} действует жизненный цикл продолжительностью от шести до семи лет, включающий в себя следующие этапы (состояния):

| Состояние версии | Описание и ключевые [действия](#actions-available) | Примерные сроки^1^ |
|:---|:---|:---|
| Актуальная (_Actual_) | Самая последняя версия с длительной поддержкой (_LTS_). Рекомендуется для всех новых проектов. | Год 1 |
| Поддерживаемая (_Supported_) | Предшествующая LTS-версия. Полностью поддерживается, создание новых кластеров разрешено. | Годы 2–4 |
| Устаревающая (_Deprecated_) | Версия, приближающаяся к окончанию поддержки. Создание новых кластеров заблокировано. Существующие кластеры работают в штатном режиме. | Год 5 |
| Устаревшая с повышенной стоимостью (_Legacy Extra Paid_) | Версия, поддержка которой официально прекращена. Кластеры продолжают работать, но тарифицируются по повышенной ставке (×2). Техническая поддержка ограничена. | Год 6 |
| Выведенная из эксплуатации (_EOL_) | Версия более не поддерживается. Кластеры принудительно обновлены или остановлены. | Годы 6–7 |

^1^ Сроки указаны относительно даты релиза мажорной версии. Точные даты перехода между состояниями публикуются в официальных анонсах сервиса.

### Доступные операции {#actions-available}

В зависимости от состояния версии {{ PG }} для кластеров доступны следующие операции:

| Действие | Актуальная (Actual) | Поддерживаемая (Supported) | Устаревающая (Deprecated) | Устаревшая (Legacy) | EOL |
| :--- | :---: | :---: | :---: | :---: | :---: |
| Создание новых кластеров | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) | ![no](../../_assets/common/no.svg) | ![no](../../_assets/common/no.svg) | ![no](../../_assets/common/no.svg) |
| Восстановление из резервной копии | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) | ![no](../../_assets/common/no.svg) | ![no](../../_assets/common/no.svg) |
| Эксплуатация существующих кластеров | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) | ![no](../../_assets/common/no.svg) |
| Выбор окна обновления мажорной версии | `н/д` | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg) | ![no](../../_assets/common/no.svg) | ![no](../../_assets/common/no.svg) |

## Ключевые принципы политики работы с версиями {{ PG }} {#key-principles}

Политика работы с версиями {{ PG }} основывается на следующих ключевых принципах:

* **Длительность поддержки**. Каждая мажорная версия находится в состоянии `Актуальная (Actual)` или `Поддерживаемая (Supported)` _в течение четырех лет_.
* **Поэтапный вывод**. _На пятый год_ версия переходит в состояние `Устаревающая (Deprecated)`, и возможность создания новых кластеров этой версии {{ PG }} блокируется.
* **Повышенная стоимость**. _На шестой год_ версия переходит в состояние `Устаревшая (Legacy Extra Paid)`, и стоимость содержания кластера удваивается.
* **Завершение жизненного цикла**. _На шестой или седьмой год_ кластеры на неподдерживаемых версиях подвергаются принудительному обновлению до актуальной поддерживаемой версии или останавливаются.

## Политика обновлений {#update-policy}

### Минорные обновления {#minor-updates}

_Минорное обновление_ — это обновление минорной версии {{ PG }} (например, с версии `16.1` до версии `16.2`). Минорные обновления включают в себя исправления ошибок и устранение уязвимостей и устанавливаются сервисом автоматически.

Минорное обновление требует перезагрузки кластера, что приводит к его кратковременной недоступности.


### Мажорные обновления {#major-updates}

_Мажорное обновление_ — это обновление мажорной версии {{ PG }} (например, обновление с `15.x` до `16.x`). Мажорные обновления требуют ручного подтверждения пользователем. Это связано с потенциальными изменениями, требующими проверки совместимости приложений.

Для версий {{ PG }} в состояниях `Поддерживаемая (Supported)` и `Устаревающая (Deprecated)` вы можете самостоятельно выбрать окно для проведения обновления. Кластеры в состоянии `Устаревшая (Legacy)` обновляются сервисом принудительно в произвольный момент времени.


## Уведомления {#notifications}

Сервис {{ mpg-name }} заблаговременно отправляет уведомления о предстоящих изменениях:

* О переходе версии в статус `Устаревающая (Deprecated)` (заблокировано создание новых кластеров).
* О переходе версии в статус `Устаревшая (Legacy Extra Paid)` (начало действия повышенного тарифа).
* О запланированном принудительном обновлении кластеров в статусе `Устаревшая (Legacy)` (за **30**, **7** и **1** день).

{% note warning %}

Рекомендуется самостоятельно планировать [обновление](../operations/cluster-version-update.md) кластеров до момента перехода их версии в статус `Устаревающая (Deprecated)` или `Устаревшая (Legacy)`. Это позволит выбрать наиболее удобное время для обслуживания, заранее убедиться в совместимости приложений с новой версией и избежать повышенных затрат или принудительного обновления.

{% endnote %}

## Пример графика поддержки версий {#version-schedule}

Актуальный статус [мажорных версий](#major-updates) {{ PG }} основан на [официальном графике поддержки](https://www.postgresql.org/support/versioning/). В таблице приведены примерные даты, основанные на типичном цикле выпуска и применяемой политике {{ yandex-cloud }}:

| Версия | Актуальная (Actual) | Поддерживаемая (Supported) | Устаревающая (Deprecated) | Устаревшая (Legacy) | Выведенная (EOL) |
| :--- | :---: | :---: | :---: | :---: | :---: |
| **{{ PG }}&nbsp;18** | 2025–2026 | 2025–2029 | 2030 | ~2031^2^ | ~2032^2^ |
| **{{ PG }}&nbsp;17** | — | 2024–2028 | 2029 | ~2030^2^ | ~2031^2^ |
| **{{ PG }}&nbsp;16** | — | 2023–2027 | 2028 | ~2029^2^ | ~2030^2^ |
| **{{ PG }}&nbsp;15** | — | 2022–2026 | 2027 | ~2028^2^ | ~2029^2^ |
| **{{ PG }}&nbsp;14** | — | — | 2026 | ~2027^2^ | ~2028^2^ |

^2^ Примерные даты приведены для наглядности. Точные сроки перехода между состояниями объявляются сервисом {{ mpg-name }} отдельно.