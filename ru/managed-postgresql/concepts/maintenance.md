# Техническое обслуживание

Под техническим обслуживанием понимается:

* автоматическая установка обновлений и исправлений СУБД для хостов (в т. ч. для выключенных кластеров);
* изменение класса хостов и объема хранилища;
* другие сервисные работы.

Изменение мажорной версии СУБД не включено в техническое обслуживание. Подробнее о переходе между мажорными версиями см. в разделе [{#T}](../operations/cluster-version-update.md).

## Окно обслуживания {#maintenance-window}

Предпочтительное время технического обслуживания можно задать при [создании кластера](../operations/cluster-create.md) или [изменении его настроек](../operations/update.md):

* **Произвольное время** (по умолчанию) — разрешает проведение технического обслуживания в любое время.
* **По расписанию** — укажите предпочтительное время начала обслуживания: нужные день недели и час дня по UTC. Например, можно выбрать время, когда кластер наименее загружен.

## Порядок обслуживания {#maintenance-order}

В однохостовых кластерах {{ mpg-name }} техническое обслуживание проходит хост-мастер. Поэтому если во время технического обслуживания потребуется перезагрузка мастера, такой кластер станет недоступным.

В многохостовых кластерах техническое обслуживание проводится в следующем порядке:

1. [Хосты-реплики](replication.md) последовательно проходят техническое обслуживание. Порядок реплик в очереди определяется случайным образом. Если во время технического обслуживания потребуется перезагрузка реплики, она станет недоступной на это время.
1. Мастер проходит техническое обслуживание и получает обновления. Если во время технического обслуживания потребуется перезагрузка мастера и он станет недоступным, его роль возьмет на себя одна из реплик.

    Если вы используете для доступа к кластеру FQDN или IP-адрес хоста-мастера, такой кластер может стать недоступным. Чтобы обеспечить бесперебойную работу приложения, подключайтесь к кластеру через [особый FQDN](../operations/connect.md#fqdn-master), всегда указывающий на хост-мастер.
