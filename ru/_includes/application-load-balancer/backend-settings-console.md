* **Имя** бэкенда.
* **Вес** — относительный вес бэкенда при распределении трафика. Если опция в поле отключена, эндпоинты бэкенда не будут получать трафик (вес будет равен 0).
* **Тип** бэкенда (для группы бэкендов типа `HTTP`): `Целевая группа` ([целевые группы](../../application-load-balancer/concepts/target-group.md) {{ alb-name }}) или `Бакет` ([бакет](../../storage/concepts/bucket.md) {{ objstorage-name }}). Для группы бэкендов типа `gRPC` или Stream тип любого бэкенда — `Целевая группа`. Подробнее о типах бэкендов см. в разделе [{#T}](../../application-load-balancer/concepts/backend-group.md#types).

* Следующие настройки доступны только для типа бэкенда **Целевая группа**:

  * В блоке **Настройки балансировки**:
    
    * **Режим балансировки** — [режим распределения трафика](../../application-load-balancer/concepts/backend-group.md#balancing-mode) между эндпоинтами бэкенда.
    * **Порог для режима паники** — доля работоспособных эндпоинтов, при которой включится [режим паники](../../application-load-balancer/concepts/backend-group.md#panic-mode): балансировщик будет распределять запросы во все эндпоинты, не учитывая результаты проверок состояния.
    * **Локализация трафика** — доля входящего трафика, которую узел балансировщика передает бэкендам из своей зоны доступности. Остальной трафик поровну делится между другими зонами. Подробнее см. в разделе [{#T}](../../application-load-balancer/concepts/backend-group.md#locality).
    * **Строгая локализация** — опция, при которой балансировщик будет отвечать ошибкой (`503 Service Unavailable`), если в зоне доступности, где был принят запрос, нет работающих бэкендов приложения.
 
  * В блоке **Настройки протокола**:
    
    * Для группы бэкендов типа `HTTP`:
      
      * **HTTP/2** — опция использования протокола HTTP/2 при отправке запросов к бэкенду для группы бэкендов типа `HTTP`. По умолчанию используется протокол версии 1.1. Группы бэкендов типа `gRPC` поддерживают только HTTP/2-соединения.
      * **Протокол** — протокол соединений с бэкендом: `HTTP` (без шифрования) или `HTTPS` (с TLS-шифрованием). Для протокола `HTTPS` укажите:
        
        * **SNI**. Доменное имя хоста для Server Name Indication — расширения TLS.
        * **Сертификат от доверенного УЦ**. Укажите сертификат удостоверяющего центра, которому балансировщик будет доверять при установке безопасного соединения с эндпоинтами бэкендов. Поддерживаются сертификаты стандарта X.509 в формате PEM.
    
    * Для группы бэкендов типа `gRPC`:

      * **Протокол** — протокол соединений с бэкендом: `Открытый` или `Зашифрованный`. Для зашифрованного протокола укажите **SNI** и **Сертификат от доверенного УЦ** (см. выше).
    
    * Для группы бэкендов типа `Stream`:
      
      * **Протокол PROXY** — опция, при которой балансировщик передает бэкенду метаданные своего соединения с клиентом, в том числе его IP-адрес, по [протоколу PROXY от HAProxy](https://www.haproxy.org/download/1.9/doc/proxy-protocol.txt).
        
      * **Протокол** — протокол соединений с бэкендом: `Открытый` или `Зашифрованный`. Для зашифрованного протокола укажите **SNI** и **Сертификат от доверенного УЦ** (см. выше).

* Следующие настройки доступны только для типа бэкенда **Бакет** для типа группы бэкендов **HTTP**:

  * **Формат указания бакета** — выберите одну из опций: `Список` или `ID`.
  * **Бакет** — выберите из списка или укажите идентификатор нужного бакета.

* В блоке **HTTP проверка состояния**, **gRPC проверка состояния** или **Stream проверка состояния**:
  
  * **Таймаут** — время ожидания ответа.
  * **Интервал** — интервал отправки проверочных запросов.
  * **Порог работоспособности** — количество последовательных успешных проверок, после которых эндпоинт считается работоспособным. Игнорируется в начале работы балансировщика: достаточно одной проверки.
  * **Порог неработоспособности** — количество последовательных неуспешных проверок, после которых эндпоинт считается неработоспособным. Игнорируется, если бэкенд один раз ответил HTTP-кодом состояния `503 Service Unavailable`: он сразу считается неработоспособным.
  * **Порт**.
  * **Тип** — протокол, по которому будет осуществляться проверка: `HTTP`, `gRPC` или `Stream`. Тип проверки может не совпадать с типом группы бэкендов. Дополнительно укажите:
    
    * Для типа `HTTP`:
      
      * **Путь** — путь в URI запроса к эндпоинту.
      * **Authority** — значение заголовка `Host` для HTTP/1.1 или псевдо-заголовка `:authority` для HTTP/2, которое будет передаваться эндпоинтам бэкенда при проверках состояния.
      * **HTTP/2** — опция использования протокола HTTP версии 2.
     
    * Для типа `gRPC`:
      
      * **Имя сервиса** — имя проверяемого gRPC-сервиса. Если сервис не указан, проверяется общее состояние бэкенда.
     
    * Для типа `Stream`:
      
      * **Отправка** — данные, которые отправляются на эндпоинт для проверки состояния.
      * **Получение** — данные, которые должны поступить с эндпоинта, чтобы он прошел проверку состояния.
      
  Подробнее см. в разделе [{#T}](../../application-load-balancer/concepts/backend-group.md#health-checks).

  Чтобы добавить проверку состояния, внизу блока бэкенда нажмите кнопку **Добавить проверку состояния** и задайте настройки проверки.

  Чтобы удалить проверку состояния, напротив заголовка **HTTP проверка состояния**, **gRPC проверка состояния** или **Stream проверка состояния** нажмите ![image](../../_assets/horizontal-ellipsis.svg) и выберите **Удалить**.
