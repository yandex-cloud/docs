* Для разового монтирования бакета:

    {% list tabs group=operating_system %}

    - Linux/macOS {#linux}

      1. Создайте папку для монтирования:

          ```bash
          mkdir <точка_монтирования>
          ```

      1. Смонтируйте бакет:

          ```bash
          geesefs <имя_бакета> <точка_монтирования>
          ```

          В качестве точки монтирования укажите существующую папку.

    - Windows {#windows}

      Смонтируйте бакет:

      ```bash
      geesefs <имя_бакета> <точка_монтирования>
      ```

      В качестве точки монтирования укажите имя новой папки, которая будет создана при монтировании бакета. Нельзя указывать имя существующей папки.

      Результат:

      ```text
      2025/10/06 21:14:27.488504 main.INFO File system has been successfully mounted.
      The service geesefs has been started.
      ```

    {% endlist %}

* Для автоматического монтирования бакета при запуске системы:

    {% list tabs group=operating_system %}

    - Linux {#linux}

      1. Создайте папку для автоматического монтирования:
      
          ```bash
          mkdir <точка_монтирования>
          ```

      1. Откройте файл `/etc/fuse.conf`:

          ```bash
          sudo nano /etc/fuse.conf
          ```

      1. Добавьте в него строку:

          ```text
          user_allow_other
          ```

      1. Откройте файл `/etc/fstab`:

          ```bash
          sudo nano /etc/fstab
          ```

      1. Добавьте в файл `/etc/fstab` строку вида:

          ```text
          <имя_бакета>    /home/<имя_пользователя>/<точка_монтирования>    fuse.geesefs    _netdev,allow_other,--file-mode=0666,--dir-mode=0777,--shared-config=/home/<имя_пользователя>/.aws/credentials    0   0
          ```

          Если вы создавали файл `.aws/credentials` для пользователя `root`, то указывать параметр `--shared-config` не требуется.

          {% note info %}

          Чтобы бакет монтировался корректно, указывайте полный абсолютный путь к точке монтирования и файлу с ключом без `~`. Например: `/home/user/`.

          {% endnote %}

      1. Перезагрузите компьютер и проверьте, что бакет смонтирован в указанную папку.

      Чтобы отключить автоматическое монтирование, удалите из файла `/etc/fstab` строку с именем бакета.

    - macOS {#macos}

      1. Создайте папку для автоматического монтирования:

          ```bash
          mkdir <точка_монтирования>
          ```

      1. Создайте файл `com.geesefs.automount.plist` с конфигурацией агента автозапуска:

          ```bash
          nano /Users/<имя_пользователя>/Library/LaunchAgents/com.geesefs.automount.plist
          ```

      1. Задайте конфигурацию агента, указав имя бакета и абсолютный путь к точке монтирования:

          ```xml
          <?xml version="1.0" encoding="UTF-8"?>
          <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
          <plist version="1.0">
          <dict>
              <key>Label</key>
              <string>com.geesefs.automount</string>
              <key>ProgramArguments</key>
              <array>
                  <string>/usr/local/bin/geesefs</string>
                  <string><имя_бакета></string>
                  <string><абсолютный_путь_к_точке_монтирования></string>
              </array>
              <key>RunAtLoad</key>
              <true/>
              <key>KeepAlive</key>
              <dict>
                  <key>NetworkState</key>
                  <true/>
              </dict>
          </dict>
          </plist>
          ```

          {% note info %}

          В качестве точки монтирования укажите существующую пустую папку.

          Чтобы бакет монтировался корректно, указывайте полный абсолютный путь к точке монтирования и файлу с ключом без `~`. Например: `/home/user/`.

          {% endnote %}

      1. Включите созданный агент:

          ```bash
          launchctl load /Users/<имя_пользователя>/Library/LaunchAgents/com.geesefs.automount.plist
          ```

      1. Перезагрузите компьютер и проверьте, что бакет смонтирован в указанную папку.

      Чтобы отключить автозапуск агента, используйте команду:

      ```bash
      launchctl unload /Users/<имя_пользователя>/Library/LaunchAgents/com.geesefs.automount.plist
      ```

    - Windows {#windows}

      Создайте службу Windows, которая будет запускаться вместе с ОС:

      1. Запустите командную строку `CMD` от имени администратора.
      1. Выполните команду:

          ```cmd
          sc create <имя_службы> ^
            binPath="<команда_для_монтирования>" ^
            DisplayName= "<имя_службы>" ^
            type=own ^
            start=auto
          ```

          Где `binPath` — путь к файлу `geesefs.exe` с необходимыми параметрами монтирования. Например: `C:\geesefs\geesefs.exe <имя_бакета> <точка_монтирования>`. В качестве точки монтирования укажите имя новой папки, которая будет создана при монтировании бакета. Нельзя указывать имя существующей папки.

          Результат:

          ```text
          [SC] CreateService: успех
          ```

      1. Нажмите кнопку **Пуск** и в строке поиска Windows введите `Службы`. Запустите от имени администратора приложение **Службы**.
      1. В открывшемся окне найдите созданную ранее службу, нажмите на нее правой кнопкой мыши и выберите **Свойства**.
      1. На вкладке **Вход в систему** выберите опцию **С учетной записью** и укажите имя и пароль от вашей учетной записи Windows.

          При необходимости нажмите кнопку **Обзор** → **Дополнительно** → **Поиск**, чтобы найти нужного пользователя на компьютере.

      1. Нажмите кнопку **OK**.

      Чтобы удалить созданную службу, запустите командную строку `CMD` от имени администратора и выполните команду:

      ```cmd
      sc delete <имя_службы>
      ```

      Результат:

      ```text
      [SC] DeleteService: успех
      ```

    {% endlist %}