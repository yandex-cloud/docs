#### Почему отстает реплика? {#replica-lagging}

1. Проверьте, установлено ли параметру `slave_rows_search_algorithms` значение `INDEX_SCAN,HASH_SCAN`.
1. Вместо выполнения операции `ALTER TABLE` над объемными таблицами рекомендуется использовать утилиту `pt-online-schema-change` из пакета Percona Toolkit — это обеспечит отсутствие блокировок.
1. Если отставание сохраняется, включите параллельную репликацию. Для этого настройте параметры:
   ```text
   slave_parallel_type=LOGICAL_CLOCK
   slave_parallel_workers=8
   ```
1. Выполните на реплике команду `SHOW SLAVE STATUS;`. Если значение параметра `Executed_Gtid_Set` долго не меняется, убедитесь, что во всех таблицах присутствуют индексы.
1. Если данные пишутся в БД непрерывно и при этом объем оперативной памяти на хосте 8 ГБ или больше, рекомендуется увеличить значение параметра `innodb_log_file_size` до 1-2 ГБ (изменение параметра происходит с рестартом сервера).
