Если хотя бы один хост в кластере {{ mmg-name }} исчерпает все доступное ему дисковое пространство, то инстанс {{ MG }} на этом хосте аварийно завершит работу и хост станет неработоспособным. Если хост был первичной репликой (`PRIMARY`), то эта роль перейдет на одну из вторичных реплик (`SECONDARY`). Возможна ситуация, когда в результате миграции роли `PRIMARY` с хоста на хост исчерпается дисковое пространство на всех хостах кластера, что приведет к неработоспособности кластера в целом.

Чтобы этого не произошло, сервис {{ mmg-name }} отслеживает расходование дискового пространства и автоматически переводит в режим read-only (с помощью [метода `db.fsyncLock`](https://docs.mongodb.com/manual/reference/method/db.fsyncLock/)) те хосты кластера, у которых:

* осталось менее 500 МБ свободного места (если размер хранилища хоста менее 600 ГБ);
* осталось менее 5 ГБ свободного места (если размер хранилища хоста 600 ГБ или более).
