- **Add HTTP CORS header**{#setting-add-http-cors-header} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает заголовок CORS в HTTP-ответы. 

  По умолчанию заголовок CORS не включается в HTTP-ответы.
 
- **Allow DDL**{#setting-allow-ddl} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Разрешает или запрещает выполнять DDL-запросы (например, `CREATE`, `ALTER`, `RENAME` и другие).

  По умолчанию выполнение DDL-запросов разрешено.

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/permissions-for-queries/#settings_allow_ddl).

  См. также: настройка [Readonly](#setting-readonly).

- **Compile**{#setting-compile} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает компиляцию запросов. Если вы выполняете большое количество структурно идентичных запросов, то при включенной компиляции такие запросы могут выполняться быстрее за счет использования скомпилированных частей запроса.

  Используется вместе с настройкой [Min count to compile](#setting-min-count-to-compile).

  По умолчанию компиляция выключена.

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#compile).

- **Compile expressions**{#setting-compile-expressions} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает компиляцию выражений. Если вы выполняете большое количество запросов, в которых используются идентичные выражения, то при включенной компиляции выражений такие запросы могут выполняться быстрее за счет использования скомпилированных выражений.

  Используется вместе с настройкой [Min count to compile expression](#setting-min-count-to-compile-expression).

  По умолчанию компиляция выражений выключена.

- **Connect timeout**{#setting-connect-timeout} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Задает время ожидания соединения в миллисекундах. 

  Значение должно быть больше нуля (по умолчанию — `10000`, 10 секунд). 

- **DISTINCT overflow mode**{#setting-distinct-overflow-mode} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет поведение {{ CH }} в ситуации, когда количество данных при выполнении запроса `SELECT DISTINCT` [превысило ограничения](https://clickhouse.tech/docs/ru/operations/settings/query-complexity/#ogranicheniia-na-slozhnost-zaprosa) — `throw` (прервать выполнение, вернуть ошибку) или `break` (вернуть неполный результат).

  Значение по умолчанию — не выбрано (эквивалентно `throw`).

- **Distributed aggregation memory efficient**{#setting-distributed-aggregation-memory-efficient} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает режим экономии памяти при распределенной агрегации. 

  При распределённой обработке запроса [внешняя агрегация](#setting-max-bytes-before-external-group-by) производится на удалённых серверах. Для того чтобы на сервере-инициаторе запроса использовалось немного оперативной памяти, нужно включить эту настройку.

  По умолчанию режим экономии памяти выключен.

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/sql-reference/statements/select/group-by/#select-group-by-in-external-memory).

- **Distributed product mode**{#setting-distributed-product-mode} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Изменяет поведение распределенных подзапросов, когда запрос содержит произведение распределённых таблиц:
  - `deny` — запрещает использование таких подзапросов.
  - `local` — заменяет базу данных и таблицу в подзапросе на локальные для конечного сервера (шарда), оставив обычный `IN/JOIN`.
  - `global` — заменяет запрос `IN/JOIN` на `GLOBAL IN/GLOBAL JOIN`.
  - `allow` — разрешает использование таких подзапросов.

  Значение по умолчанию — не выбрано (эквивалентно `deny`).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#distributed-product-mode).

- **Empty result for aggregation by empty set**{#setting-empty-result-for-aggregation-by-empty-set} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет формат возвращаемого результата при выполнении агрегации данных без ключей (без `GROUP BY`) для пустого множества (например, `SELECT count(*) FROM table WHERE 0`):
  - опция выключена (по умолчанию) — {{ CH }} вернет результат, состоящий из одной строки со значениями `NULL` для агрегатных функций, в соответствии со стандартом SQL.
  - опция включена — {{ CH }} вернет пустой результат. 

- **Enable HTTP compression**{#setting-enable-http-compression} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает сжатие данных в ответе на HTTP-запрос.

  По умолчанию {{ CH }} хранит данные в сжатом виде. При выполнении запроса его результат представлен в несжатом виде. С помощью этой настройки вы можете указать {{ CH }} сжимать результат запроса при отправке по HTTP. 

  Чтобы {{ CH }} сжал ответ при включенной настройке, добавьте в запрос заголовок `Accept-Encoding: <метод сжатия>`. 

  Поддерживаются следующие методы сжатия: `gzip`, `br` и `deflate`.

  По умолчанию сжатие данных в ответе на HTTP-запрос выключено.

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/interfaces/http/).

- **Fallback to stale replicas for distributed queries**{#setting-fallback-to-stale-replicas-for-distributed-queries} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает форсирование запроса в устаревшую реплику в случае, если актуальные данные недоступны. Из устаревших реплик таблицы {{ CH }} выбирает наиболее актуальную. Используется при выполнении `SELECT` из распределенной таблицы, которая указывает на реплицированные таблицы. 

  По умолчанию форсирование запроса включено. 

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-fallback_to_stale_replicas_for_distributed_queries).

  См. также настройку [Max replica delay for distributed queries](#setting-max-replica-delay-for-distributed-queries).

- **Force index by date**{#setting-force-index-by-date} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Запрещает выполнение запросов, если использовать индекс по дате невозможно. Работает с таблицами семейства MergeTree.

  По умолчанию опция выключена (выполнение запросов разрешено).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-force_index_by_date).

- **Force primary key**{#setting-force-primary-key} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Запрещает выполнение запросов, если использовать индекс по первичному ключу невозможно. Работает с таблицами семейства MergeTree.

  По умолчанию опция выключена (выполнение запросов разрешено).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-force_primary_key).

- **GROUP BY overflow mode**{#setting-group-by-overflow-mode} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет поведение {{ CH }} в ситуации, когда количество уникальных ключей при агрегации [превысило ограничение](https://clickhouse.tech/docs/ru/operations/settings/query-complexity/#ogranicheniia-na-slozhnost-zaprosa):
  - `throw` — прервать выполнение, вернуть ошибку.
  - `break` — вернуть неполный результат.
  - `any` — выполнить `GROUP BY` приближённо. Качество такого приближённого вычисления сильно зависит от статистических свойств данных.

  Значение по умолчанию — не выбрано (эквивалентно `throw`).

- **GROUP BY two level threshold**{#setting-group-by-two-level-threshold} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет порог количества ключей, при достижении которого начинается двухуровневая агрегация. 

  Значение `0` — порог не установлен (по умолчанию — `10000`).

- **GROUP BY two level threshold bytes**{#setting-group-by-two-level-threshold-bytes} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет порог количества байт в агрегате, при достижении которого начинается двухуровневая агрегация. 

  Значение `0` — порог не установлен (по умолчанию — `100000000`).

- **HTTP connection timeout**{#setting-http-connection-timeout} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Задает время ожидания установления HTTP-соединения в миллисекундах. 

  Значение должно быть больше нуля (по умолчанию — `1000`, 1 секунда). 

- **HTTP headers progress interval**{#setting-http-headers progress interval} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Задает минимальный интервал (в миллисекундах) между уведомлениями о ходе выполнения запроса с помощью HTTP-заголовка `X-ClickHouse-Progress`. 

  Значение должно быть больше нуля (по умолчанию — `100`). 

- **HTTP receive timeout**{#setting-http-receive-timeout} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Задает время ожидания приема данных через HTTP-соединение в миллисекундах. 

  Значение должно быть больше нуля (по умолчанию — `1800000`, 1800 секунд, 30 минут).

- **HTTP send timeout**{#setting-http-send-timeout} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Задает время ожидания отправки данных через HTTP-соединение в миллисекундах. 

  Значение должно быть больше нуля (по умолчанию — `1800000`, 1800 секунд, 30 минут).

- **Input format defaults for omitted fields**{#setting-input-format-defaults-for-omitted-fields} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает замену пропущенных полей значениями по умолчанию для типа данных столбца при вставке данных запросом `INSERT`. 

  По умолчанию замена включена. 

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#session_settings-input_format_defaults_for_omitted_fields).

- **Input format values interpret expressions**{#setting-input-format-values-interpret-expressions} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает парсер SQL, если потоковый парсер не может проанализировать данные. Используйте эту настройку, если значения, которые вы хотите вставить в таблицу, содержат в себе выражения SQL.

  Например, при вставке в таблицу значения, содержащего в себе выражение `now()`, потоковый парсер не сможет распознать это выражение , в то время как при включенном парсере SQL выражение будет распознано корректно и в качестве значения будет вставлен результат выполнения SQL-функции `now()` (текущая дата и время).

  Эта опция используется только для формата [Values](https://clickhouse.tech/docs/ru/interfaces/formats/#data-format-values) при вставке данных.

  По умолчанию парсер SQL включен. 

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-input_format_values_interpret_expressions).

- **Insert quorum**{#setting-insert-quorum} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает кворумную запись в кластере {{ CH }}:
  - Если значение меньше `2`, то кворумная запись выключена.
  - Если значение больше либо равно `2`, то кворумная запись включена.

  Кворумная запись позволяет гарантировать, что за время, не большее чем [Insert quorum timeout](#setting-insert-quorum-timeout), {{ CH }} смог без ошибок записать данные в кворум из Insert quorum реплик. Все реплики в кворуме консистентны, т.е. содержат данные всех более ранних запросов `INSERT`. Использование кворума при записи позволяет гарантировать, что данные не потеряются при выходе из строя одной или нескольких реплик.

  При чтении данных, записанных с помощью Insert quorum, можно использовать настройку [Select sequential consistency](#setting-select-sequential-consistency).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-insert_quorum).

- **Insert quorum timeout**{#setting-insert-quorum-timeout} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Задает время ожидания [кворумной записи](#setting-insert-quorum) в миллисекундах. Если время прошло, а запись так не состоялась, то {{ CH }} прервет выполнение `INSERT`-запроса, вернет ошибку, и клиент должен повторить запрос на запись того же блока на эту же или любую другую реплику. 

  Минимальное значение — `1000` (1 секунда), по умолчанию — `60000` (1 минута).

- **Join use nulls**{#setting-join-use-nulls} {{ tag-con }} {{ tag-cli }} {{ tag-sql }}

  Устанавливает тип поведения `JOIN`. При объединении таблиц могут появляться пустые ячейки. Если опция включена, то тип присоединяемого поля преобразуется в `Nullable`, а пустая ячейка заполняется значением `NULL`. В противном случае, пустая ячейка заполняется значением по умолчанию для данного типа поля.

  По умолчанию опция выключена.

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#join_use_nulls).

- **Joined subquery requires alias**{#setting-joined-subquery-requires-alias} {{ tag-con }} {{ tag-cli }} {{ tag-sql }}

  Требует наличия псевдонимов для подзапросов при выполнении операции `JOIN`.

  При включенной настройке подобный запрос не будет выполнен:

  ```sql
  SELECT col1, col2 FROM table1 JOIN (SELECT col3 FROM table2)
  ```

  При этом запрос с заданным псевдонимом будет выполнен успешно:

  ```sql
  SELECT col1, col2 FROM table1 JOIN (SELECT col3 FROM table2) AS MyQuery
  ```

  По умолчанию опция выключена.

- **Low cardinality allow in native format**{#setting-low-cardinality-allow-in-native-format} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет, использовать ли тип LowCardinality в native-формате: 
  - опция включена — да, использовать.
  - опция выключена — конвертировать столбцы LowCardinality в обычные столбцы для запроса `SELECT`, и конвертировать обычные столбцы в требуемый LowCardinality-столбец для запроса `INSERT`.

  Столбцы этого типа, также известные как «разреженные столбцы», позволяют более эффективно хранить данные в виде хэш-таблиц. Если данные это позволяют, {{ CH }} использует столбец типа LowCardinality.

  Если вы используете сторонний клиент для {{ CH }}, который не умеет работать со столбцами типа LowCardinality, то такой клиент не сможет правильно интерпретировать результат запроса, если в запросе будет присутствовать столбец типа LowCardinality. Выключите эту настройку, чтобы включать в результат столбец в обычном формате и позволить сторонним клиентам обработать результат.

  Официальный клиент {{ CH }} умеет работать со столбцами типа LowCardinality.
 
  По умолчанию опция включена.

- **Max AST depth**{#setting-max-ast-depth} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальную глубину вложенности синтаксического дерева. 

  Для больших и сложных запросов может быть построено синтаксическое дерево очень большой глубины. При помощи этой настройки вы можете запретить выполнение излишне больших или неоптимальных запросов для больших таблиц.

  Например, запрос `SELECT *` в большинстве случаев породит более сложное и глубокое синтаксическое дерево, чем запрос `SELECT ... WHERE ...` с ограничениями и условиями. Наложение ограничения с помощью настройки может побудить пользователя оптимизировать излишне сложные запросы.

  Значение должно быть больше нуля (по умолчанию — `1000`). Слишком маленькое значение может привести к невозможности выполнения большинства запросов.

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/query-complexity/#max-ast-depth). 

- **Max AST elements**{#setting-max-ast-elements} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество элементов синтаксического дерева запроса (количество узлов дерева). 

  Для больших и сложных запросов может быть построено синтаксическое дерево c очень большим количеством элементов. При помощи этой настройки вы можете запретить выполнение излишне больших или неоптимальных запросов для больших таблиц.

  Значение должно быть больше нуля (по умолчанию — `50000`). Слишком маленькое значение может привести к невозможности выполнения большинства запросов. 

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/query-complexity/#max-ast-elements).

- **Max block size**{#setting-max-block-size} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Данные в {{ CH }} обрабатываются по блокам (наборам кусочков столбцов). Внутренние циклы обработки для одного блока достаточно эффективны, но есть заметные издержки на каждый блок. Эта настройка — рекомендация, какой размер блока (в количестве строк) загружать из таблиц. 

  Значение должно быть больше нуля (по умолчанию — `65536`).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#setting-max_block_size).

- **Max bytes before external `GROUP BY`**{#setting-max-bytes-before-external-group-by} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Задает порог потребления оперативной памяти (в байтах), по достижении которого временные данные, накопленные при выполнении операции агрегации `GROUP BY`, сбрасываются на диск для экономии оперативной памяти.

  По умолчанию агрегирование выполняется в памяти с помощью хэш-таблицы. Если запрос приводит к необходимости агрегации больших объемов данных, которые могут не поместиться в оперативную память и вызвать ошибку при выполнении запроса (см. настройку [Max memory usage](#setting-max-memory-usage)) — используйте эту настройку, чтобы {{ CH }} сбрасывал данные на диск и успешно выполнял агрегацию.
 
  Минимальное значение и значение по умолчанию — `0` (`GROUP BY` во внешней памяти отключен).

  При использовании агрегации во внешней памяти рекомендуется задать значение этой настройки в два раза меньше значения настройки [Max memory usage](#setting-max-memory-usage) (по умолчанию максимальное использование памяти ограничено десятью гигабайтами).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/sql-reference/statements/select/group-by/#select-group-by-in-external-memory).

  См. также настройку [Distributed aggregation memory efficient](#setting-distributed-aggregation-memory-efficient).

- **Max bytes before external sort**{#setting-max-bytes-before-external-sort} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Настройка аналогична [предыдущей](#setting-max-bytes-before-external-group-by), за исключением того, что она применяется для операции сортировки (`ORDER BY`).
 
- **Max bytes in DISTINCT**{#setting-max-bytes-in-distinct} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество байт (несжатых данных), занимаемых хэш-таблицей, при использовании `DISTINCT`. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max bytes to read**{#setting-max-bytes-to-read} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество байт (несжатых данных), которое можно прочитать из таблицы при выполнении запроса. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max bytes to sort**{#setting-max-bytes-to-sort} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество байт (несжатых данных), которое можно прочитать из таблицы до сортировки. Позволяет ограничить потребление оперативной памяти при сортировке.

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max bytes to transfer**{#setting-max-bytes-to-transfer} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество байт (несжатых данных), которых можно передать на удалённый сервер или сохранить во временную таблицу, при использовании `GLOBAL IN`. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max columns to read**{#setting-max-columns-to-read} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество столбцов, которое можно читать из таблицы в одном запросе. Если запрос требует чтения большего количества столбцов — он будет завершен с ошибкой.

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max execution time**{#setting-max-execution-time} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное время выполнения запроса в миллисекундах. На данный момент не проверяется при одной из стадий сортировки а также при слиянии и финализации агрегатных функций. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения). 

- **Max expanded AST elements**{#setting-max-expanded-ast-elements} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество элементов синтаксического дерева запроса (количество узлов дерева) после раскрытия псевдонимов и звездочки. 

  Для больших и сложных запросов может быть построено синтаксическое дерево c очень большим количеством элементов. При помощи этой настройки вы можете запретить выполнение излишне больших или неоптимальных запросов для больших таблиц.

  Значение должно быть больше нуля (по умолчанию — `500000`). Слишком маленькое значение может привести к невозможности выполнения большинства запросов.

- **Max INSERT block size**{#setting-max-insert-block-size} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Позволяет формировать блоки указанного размера (в байтах) при вставке в таблицу. Эта настройка действует только в тех случаях, когда сервер сам формирует такие блоки. 

  Значение должно быть больше нуля (по умолчанию — `1048576`).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-max_insert_block_size).

- **Max memory usage**{#setting-max-memory-usage} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимально возможный объём оперативной памяти (в байтах) для выполнения запроса на одном сервере. Настройка не учитывает объём свободной памяти или общий объём памяти на машине. Ограничение действует на один запрос, в пределах одного сервера. 

  Минимальное значение — `0` (нет ограничения). В конфигурационном файле по умолчанию ограничение равно `10737418240` (10 ГБ).

  Если вы также используете настройки [Max bytes before external `GROUP BY`](#setting-max-bytes-before-external-group-by) или [Max bytes before external sort](#setting-max-bytes-before-external-sort), рекомендуется, чтобы их значения были в два раза меньше значения Max memory usage.

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/query-complexity/#settings_max_memory_usage).

- **Max memory usage for user**{#setting-max-memory-usage-for-user} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимально возможный объём оперативной памяти (в байтах) для выполнения запросов пользователя на одном сервере. Настройка не учитывает объём свободной памяти или общий объём памяти на машине. Ограничение действует на все запросы пользователя, которые выполняются одновременно в пределах одного сервера. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max network bandwidth**{#setting-max-network-bandwidth} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает скорость обмена данными по сети (байт в секунду) при выполнении одного запроса. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max network bandwidth for user**{#setting-max-network-bandwidth-for-user} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает скорость обмена данными по сети (байт в секунду). Эта настройка, в отличие от предыдущей, влияет на все одновременно выполняющиеся запросы пользователя. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max query size**{#setting-max-query-size} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает размер наибольшей части запроса (в байтах), которая может быть передана в оперативную память для разбора с помощью парсера SQL. 

  Значение должно быть больше нуля (по умолчанию — `262144`).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-max_query_size).

- **Max replica delay for distributed queries**{#setting-max-replica-delay-for-distributed-queries} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальную задержку реплики в миллисекундах. Если реплика отстает на значение больше установленного, реплика перестает использоваться. 

  Минимальное значение — `1000` (1 секунда). Значение по умолчанию — `300000` (300 секунд или 5 минут).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-max_replica_delay_for_distributed_queries).

  См. также описание настройки [Fallback to stale replicas for distributed queries](#setting-fallback-to-stale-replicas-for-distributed-queries).

- **Max result bytes**{#setting-max-result-bytes} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает количество несжатых байт результата. Это ограничение проверяется также для подзапросов и на удалённых серверах при выполнении части распределённого запроса. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max result rows**{#setting-max-result-rows} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает количество строк результата. Это ограничение проверяется также для подзапросов и на удалённых серверах при выполнении части распределённого запроса. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения). 

- **Max rows in DISTINCT**{#setting-max-rows-in-distinct} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество различных строк при использовании `DISTINCT`. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения). 

- **Max rows to group by**{#setting-max-rows-to-group-by} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество уникальных ключей, получаемых в процессе агрегации. Позволяет ограничить потребление оперативной памяти при агрегации. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max rows to read**{#setting-max-rows-to-read} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество строк, которое можно прочитать из таблицы при выполнении запроса.

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/query-complexity/#max-rows-to-read).

- **Max rows to sort**{#setting-max-rows-to-sort} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество строк для сортировки. Позволяет ограничить потребление оперативной памяти при сортировке. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max rows to transfer**{#setting-max-rows-to-transfer} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество строк, которое можно передать на удалённый сервер или сохранить во временную таблицу, при использовании `GLOBAL IN`. 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max temporary columns**{#setting-max-temporary-columns} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество временных столбцов, которое должно храниться в оперативной памяти одновременно при выполнении запроса (с учетом постоянных столбцов). 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения). 

- **Max temporary non const columns**{#setting-max-temporary-non-const-columns} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество временных столбцов, которое должно храниться в оперативной памяти одновременно при выполнении запроса (без учета постоянных столбцов). 

  Минимальное значение и значение по умолчанию — `0` (нет ограничения).

- **Max threads**{#setting-max-threads} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальное количество потоков обработки запроса (без учёта потоков для чтения данных с удалённых серверов). Этот параметр относится к потокам, которые выполняют параллельно одни стадии конвейера выполнения запроса. 

  Минимальное значение и значение по умолчанию — `0` (значение вычисляется автоматически — это количество процессорных ядер без учёта Hyper-Threading).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-max_threads).

- **Merge tree max bytes to use cache**{#setting-merge-tree-max-bytes-to-use-cache} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальный размер запроса в байтах для использования кэша несжатых данных. Кэш не используется для запросов, превышающих указанный размер. 

  Эта настройка используется совместно с [Use uncompressed cache](#setting-use-uncompressed-cache).

  Значение должно быть больше нуля (по умолчанию: 192x10x1024x1024). 

- **Merge tree max rows to use cache**{#setting-merge-tree-max-rows-to-use-cache} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает максимальный размер запроса в строках для использования кэша несжатых данных. Кэш не используется для запросов, превышающих указанный размер. 

  Эта настройка используется совместно с [Use uncompressed cache](#setting-use-uncompressed-cache).

  Значение должно быть больше нуля (по умолчанию: 128x8192). 

- **Merge tree min bytes for concurrent read**{#setting-merge-tree-min-bytes-for-concurrent-read} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает минимальное количество байт, которое надо прочитать из файла, чтобы использовать одновременное чтение. Если количество байт, прочитанных из файла, превышает заданное значение, то {{ CH }} пытается выполнить одновременное чтение из этого файла в несколько потоков. 

  Значение должно быть больше нуля (по умолчанию: 24x10x1024x1024). 

- **Merge tree min rows for concurrent read**{#setting-merge-tree-min-rows-for-concurrent-read} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает минимальное количество строк, которое надо прочитать из файла, чтобы использовать одновременное чтение. Если количество строк, прочитанных из файла, превышает заданное значение, то {{ CH }} пытается выполнить одновременное чтение из этого файла в несколько потоков. 

  Значение должно быть больше нуля (по умолчанию: 20x8192). 

- **Min bytes to use Direct I/O**{#setting-merge-tree-min-bytes-to-use-direct-io} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает минимальный объём данных в байтах, необходимый для прямого (небуферизованного) чтения (Direct I/O) на диск. {{ CH }} использует этот параметр при чтении данных из таблиц. 

  По умолчанию {{ CH }} читает данные не напрямую с диска, а полагается на файловую систему и её кэш. Такое чтение эффективно при небольших объемах данных. Если данные читаются в больших объемах, эффективнее читать их с диска напрямую, минуя кэш файловой системы. 

  Если общий объём хранения всех данных для чтения превышает заданное значение настройки, тогда {{ CH }} читает данные с диска напрямую. 

  Минимальное значение и значение по умолчанию — `0` (прямой ввод/вывод отключен). 

- **Min count to compile**{#setting-min-count-to-compile} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }} 

  Определяет, после какого количества структурно идентичных запросов начать [компиляцию](#setting-compile).

  Минимальное значение — `0`. Значение по умолчанию — `3`.

  Для значения `0` компиляция выполняется синхронно: запрос ожидает окончания процесса компиляции перед продолжением выполнения. Рекомендуется использовать это значение только в целях тестирования.

  Для всех других значений компиляция выполняется асинхронно, в отдельном потоке: когда результат будет готов, он сразу же будет использован, в том числе уже выполняющимися в данный момент запросами. 

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#min-count-to-compile). 

- **Min count to compile expression**{#setting-min-count-to-compile-expression} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет, после какого количества идентичных выражений начать [компиляцию выражений](#setting-compile-expressions).

  Минимальное значение — `0`. Значение по умолчанию — `3`.

  Для значения `0` компиляция выполняется синхронно: выражение ожидает окончания процесса компиляции перед продолжением выполнения запроса. Рекомендуется использовать это значение только в целях тестирования.

  Для всех других значений компиляция выполняется асинхронно, в отдельном потоке: когда результат будет готов, он сразу же будет использован, в том числе уже выполняющимися в данный момент запросами. 

- **Min INSERT block size bytes**{#setting-min-insert-block-size-bytes} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает минимальное количество байтов в блоке, который может быть вставлен в таблицу запросом `INSERT`. Блоки меньшего размера склеиваются в блоки большего размера. 

  Минимальное значение — `0` (склейка блоков выключена). Значение по умолчанию — `‭268435456‬‬` (256 МБ).

- **Min INSERT block size rows**{#setting-min-insert-block-size-rows} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает минимальное количество строк в блоке, который может быть вставлен в таблицу запросом `INSERT`. Блоки меньшего размера склеиваются в блоки большего размера. 

Минимальное значение — `0` (склейка блоков выключена). Значение по умолчанию — `1048576`.

- **Output format JSON quote denormals**{#setting-output-format-json-quote-denormals} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает вывод специальных значений для чисел с плавающей запятой (`+nan`, `-nan`, `+inf` и `-inf`) при выводе в JSON. 

  По умолчанию специальные значения не выводятся.

- **Output format JSON quote_64bit integers**{#setting-output-format-json-quote-64bit-integers} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет формат чисел в JSON-выводе. Если опция включена, то при выводе в JSON 64-битные числа (`UInt64` и `Int64`) выводятся в кавычках (из соображений совместимости с большинством реализаций JavaScript), иначе — без кавычек. 

  По умолчанию вывод 64-битных целых чисел в кавычках выключен.

- **Priority**{#setting-priority} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет приоритет запроса:
  - `0` — приоритет не используется.
  - `1` — наивысший приоритет.
  - далее — чем выше число, тем ниже приоритет.

  Эта настройка выставляется для каждого запроса по отдельности. 

  Если {{ CH }} в текущий момент времени выполняет запросы с более высокими приоритетами, чем приоритет поступившего запроса, то выполнение такого запроса приостанавливается до завершения выполнения более приоритетных запросов.

  Минимальное значение и значение по умолчанию — `0`.

- **Quota mode**{#setting-quota-mode} {{ tag-con }} {{ tag-cli }} {{ tag-sql }}

  Задает режим учёта потребляемых ресурсов при включенных квотах:
  - `default` — режим по умолчанию, ключи не используются.
  - `keyed` — в параметре пользовательского запроса передаётся ключ `quota_key`, и квота считается по отдельности для каждого значения ключа.
  - `keyed_by_ip` — аналогично предыдущему, только в качестве ключа выступает IP-адрес пользователя (стоит учесть, что пользователь может достаточно легко менять IPv6-адрес).

  Значение по умолчанию — не выбрано (эквивалентно `default`).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/quotas/).

- **Read overflow mode**{#setting-read-overflow-mode} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет поведение {{ CH }} в ситуации, когда количество прочитанных данных [превысило одно из ограничений](https://clickhouse.tech/docs/ru/operations/settings/query-complexity/#ogranicheniia-na-slozhnost-zaprosa) — `throw` (прервать выполнение, вернуть ошибку) или `break` (вернуть неполный результат). 

  Значение по умолчанию — не выбрано (эквивалентно `throw`).

- **Readonly**{#setting-readonly} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Ограничивает разрешения для выполнения запросов на чтение данных, запись данных и изменение параметров:
  - `0` — разрешено выполнять все типы запросов, нет ограничений (значение по умолчанию).
  - `1` — разрешено выполнять только запросы на чтение данных.
  - `2` — разрешено выполнять запросы на чтение данных и изменение настроек.

  Настройка не влияет на возможность выполнения DDL-запросов. Чтобы разрешить или запретить выполнение DDL-запросов, используйте настройку [Allow DDL](#setting-allow-ddl). 

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/permissions-for-queries/#settings_readonly).

  См. также: [пример создания пользователя с правами «только чтение»](../../managed-clickhouse/operations/cluster-users.md#example-create-readonly-user).

- **Receive timeout**{#setting-receive-timeout} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Задает время ожидания приема данных в миллисекундах. 

  Значение должно быть больше нуля (по умолчанию — `300000`, 300 секунд, 5 минут).

- **Replication ALTER partitions sync**{#setting-replication-alter-partitions-sync} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Задает условия ожидания завершения асинхронных действий на репликах для запросов `ALTER ... ATTACH DETACH DROP`:
  - `0` — не ждать.
  - `1` — ждать выполнения только у себя (значение по умолчанию).
  - `2` — ждать всех.
 
  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/sql-reference/statements/alter/#sinkhronnost-zaprosov-alter).
 
- **Result overflow mode**{#setting-result-overflow-mode} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет поведение {{ CH }} в ситуации, когда объём результата превысил одно из ограничений — `throw` (прервать выполнение, вернуть ошибку) или `break` (вернуть неполный результат). 

  Значение по умолчанию — не выбрано (эквивалентно `throw`).

- **SELECT sequential consistency**{#setting-select-sequential-consistency} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает последовательную консистентность для запросов `SELECT`. 

  По умолчанию последовательная консистентность выключена.

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-select_sequential_consistency).

- **Send progress in HTTP headers**{#setting-send-progress-in-http-headers} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает отсылку уведомления о ходе выполнения с использованием заголовков `X-ClickHouse-Progress`. 

  По умолчанию отсылка уведомлений выключена.

- **Send timeout**{#setting-send-timeout} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Задает время ожидания отправки данных в миллисекундах. 

  Значение должно быть больше нуля (по умолчанию — `300000`, 300 секунд, 5 минут).

- **Skip unavailable shards**{#setting-skip-unavailable-shards} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Включает или выключает тихий пропуск недоступных шардов (шард считается недоступным, если все его реплики недоступны).

  По умолчанию тихий пропуск недоступных шардов выключен.

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#settings-skip_unavailable_shards).

- **Sort overflow mode**{#setting-sort-overflow-mode} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет поведение {{ CH }} в ситуации, когда количество строк, полученных перед сортировкой, [превысило одно из ограничений](https://clickhouse.tech/docs/ru/operations/settings/query-complexity/#ogranicheniia-na-slozhnost-zaprosa) — `throw` (прервать выполнение, вернуть ошибку) или `break` (вернуть неполный результат).

  Значение по умолчанию — не выбрано (эквивалентно `throw`).

- **Timeout overflow mode**{#setting-timeout-overflow-mode} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет поведение {{ CH }} в ситуации, когда запрос выполняется дольше `max_execution_time` — `throw` (прервать выполнение, вернуть ошибку) или `break` (вернуть неполный результат).

  Значение по умолчанию — не выбрано (эквивалентно `throw`).

- **Transfer overflow mode**{#setting-transfer-overflow-mode} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет поведение {{ CH }} в ситуации, когда количество данных для передачи на другой сервер [превысило одно из ограничений](https://clickhouse.tech/docs/ru/operations/settings/query-complexity/#ogranicheniia-na-slozhnost-zaprosa) — `throw` (прервать выполнение, вернуть ошибку) или `break` (вернуть неполный результат).

  Значение по умолчанию — не выбрано (эквивалентно `throw`).

- **Transform null in**{#setting-transform-null-in} {{ tag-con }} {{ tag-cli }} {{ tag-sql }}

  При включенной опции сравнение `NULL = NULL` вернет `true` в операторе `IN`.

  По умолчанию опция выключена (это сравнение вернет `false` в операторе `IN`).

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#transform_null_in).

- **Use uncompressed cache**{#setting-use-uncompressed-cache} {{ tag-con }} {{ tag-cli }} {{ tag-api }} {{ tag-sql }}

  Определяет, использовать ли кэш разжатых блоков. Использование кэша несжатых блоков (только для таблиц семейства MergeTree) может существенно сократить задержку и увеличить пропускную способность при работе с большим количеством коротких запросов. Включите эту настройку для пользователей, от которых идут частые короткие запросы.

  По умолчанию кэш не используется.

  Подробнее см. [в документации {{ CH }}](https://clickhouse.tech/docs/ru/operations/settings/settings/#setting-use_uncompressed_cache).

  См. также настройки [Merge tree max bytes to use cache](#setting-merge-tree-max-bytes-to-use-cache) и [Merge tree max rows to use cache](#setting-merge-tree-max-rows-to-use-cache).