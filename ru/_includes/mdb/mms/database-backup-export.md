{% list tabs %}

* Консоль управления

    1. Перейдите на [страницу каталога]({{ link-console-main }}) и выберите сервис **{{ mms-name }}**.
    1. Нажмите на имя нужного кластера и выберите вкладку **Базы данных**.
    1. Нажмите на значок ![image](../../../_assets/horizontal-ellipsis.svg) для нужной базы данных и нажмите **Экспортировать**.
    1. Укажите параметры экспорта:

        * **Имя бакета** — имя бакета в {{ objstorage-name }}, в котором будут сохранены файлы базы данных.
        * **Директория в бакете** — путь к папке в бакете. Путь должен быть полным и начинаться с `/`, папка должна быть пустой.
        * **Префикс для имени бэкапа** — префикс имен файлов, задается произвольно. Для большой базы данных в папке будет создано несколько файлов с именами `<префикс>_000.bak`, `<префикс>_001.bak` и т. д.

    1. Нажмите кнопку **Экспортировать**.

* CLI

    {% include [cli-install](../../cli-install.md) %}

    {% include [default-catalogue](../../default-catalogue.md) %}

    Выполните команду:

    ```bash
    {{ yc-mdb-ms }} database backup-export \
       --cluster-name=<имя кластера> \
       --bucket=<имя бакета> \
       --path=<путь к папке> \
       --prefix=<префикс имен файлов> \
       <имя базы данных>
    ```

    Где:

    * `--cluster-name` — имя кластера {{ mms-name }}, из которого экспортируется база данных.
    * `--bucket` — имя бакета в {{ objstorage-name }}, в котором будут сохранены файлы базы данных.
    * `--path` — путь к папке в бакете. Путь должен быть полным и начинаться с `/`, папка должна быть пустой.
    * `--prefix` — префикс имен файлов, задается произвольно. Для большой базы данных в папке будет создано несколько файлов с именами `<префикс>_000.bak`, `<префикс>_001.bak` и т. д.
    * `<имя базы данных>` — имя базы данных, резервная копия которой будет экспортирована. Чтобы узнать имя, [получите список баз данных в кластере](../../../managed-sqlserver/operations/databases.md#list-db).

* API

    Воспользуйтесь методом API [exportBackup](../../../managed-sqlserver/api-ref/Database/exportBackup.md) и передайте в запросе:

    * Идентификатор кластера в параметре `clusterId`. Чтобы узнать идентификатор, [получите список кластеров в каталоге](../../../managed-sqlserver/operations/cluster-list.md#list-clusters).
    * Имя экспортируемой базы данных в параметре `databaseName`. Чтобы узнать имя, [получите список баз данных в кластере](../../../managed-sqlserver/operations/databases.md#list-db).
    * Имя бакета в {{ objstorage-name }}, в который будет экспортирована резервная копия базы данных, в параметре `s3Bucket`.
    * Путь к папке, в которую будут сохранены файлы резервной копии, в параметре `s3Path`. Путь должен быть полным и начинаться с `/`, папка должна быть пустой.
    * Префикс для имен файлов резервной копии в параметре `prefix`. Для большой базы данных в папке будет создано несколько файлов с именами `<префикс>_000.bak`, `<префикс>_001.bak` и т. д.

{% endlist %}
