* **Client output buffer limit normal**{#settings-limit-normal}{{ tag-all }}

    Ограничение объема выходного буфера для обычных клиентов.

    {{ VLK }} использует выходной буфер для временного хранения данных, сгенерированных запросом, перед отправкой в клиент. Если клиент отправляет новые запросы быстрее, чем {{ VLK }} успевает обрабатывать текущие, это приводит к увеличению размера буфера.

    Настройка включает в себя следующие параметры:

    * **Hard limit** — жесткое ограничение объема буфера (в байтах). При превышении указанного значения соединение с клиентом будет немедленно прервано. Минимальное значение — `0` (ограничение отсутствует). Значение по умолчанию — `0`. В консоли управления единицы измерения задаются параметром **Hard limit unit**.
    * **Soft limit** — мягкое ограничение объема буфера (в байтах). Соединение с клиентом будет прервано только если превышение указанного значения сохранялось в течение времени, заданного параметром **Soft seconds**. Минимальное значение — `0` (ограничение отсутствует). Значение по умолчанию — `0`. В консоли управления единицы измерения задаются параметром **Soft limit unit**.
    * **Soft seconds** — время (в секундах), в течение которого допустимо превышение мягкого ограничения объема буфера. Минимальное значение — `0`. Значение по умолчанию — `0`.

    Подробную информацию о настройке см. в [документации {{ VLK }}](https://redis.io/docs/reference/clients/#output-buffer-limits).

* **Client output buffer limit pubsub**{#settings-limit-pubsub}{{ tag-all }}

    Ограничение объема выходного буфера для клиентов, работающих в парадигме [Pub/Sub](https://redis.io/docs/manual/pubsub/).

    {{ VLK }} использует выходной буфер для временного хранения данных, сгенерированных запросом, перед отправкой в клиент. Если клиент отправляет новые запросы быстрее, чем {{ VLK }} успевает обрабатывать текущие, это приводит к увеличению размера буфера.

    Настройка включает в себя следующие параметры:

    * **Hard limit** — жесткое ограничение объема буфера (в байтах). При превышении указанного значения соединение с клиентом будет немедленно прервано. Минимальное значение — `0` (ограничение отсутствует). Значение по умолчанию — `33554432` (32 МБ). В консоли управления единицы измерения задаются параметром **Hard limit unit**.
    * **Soft limit** — мягкое ограничение объема буфера (в байтах). Соединение с клиентом будет прервано только если превышение указанного значения сохранялось в течение времени, заданного параметром **Soft seconds**. Минимальное значение — `0` (ограничение отсутствует). Значение по умолчанию — `8388608` (8 МБ). В консоли управления единицы измерения задаются параметром **Soft limit unit**.
    * **Soft seconds** — время (в секундах), в течение которого допустимо превышение мягкого ограничения объема буфера. Минимальное значение — `0`, значение по умолчанию — `60`.

    Подробную информацию о настройке см. в [документации {{ VLK }}](https://redis.io/docs/reference/clients/#output-buffer-limits).

* **Databases**{#settings-databases} {{ tag-all }}

    Количество баз данных.

    {{ VLK }} использует концепцию логических баз данных, которые изолированы друг от друга. Операции с ключами и значениями в одной базе не влияют на данные в других базах. Каждая база идентифицируется своим номером (от `0` до `Databases − 1`).

    Минимальное значение — `1`, максимальное значение — `2147483647`, значение по умолчанию — `16`.

    Подробнее см. в [документации {{ VLK }}](https://github.com/redis/redis/blob/6.0/redis.conf#L275).

    {% note warning %}

    Изменение этого параметра приведет к перезапуску всех запущенных нод {{ VLK }}.

    {% endnote %}

* **Lua time limit**{#settings-lua-time-limit} {{ tag-con }} {{ tag-cli }} {{ tag-api }}

    Максимальное время выполнения Lua-скрипта (в миллисекундах).

    Допустимые значения — от `0` до `5000`. Значение по умолчанию — `5000`. `0` — время выполнения не ограничено.

    При изменении не влияет на работу уже запущенного скрипта.

    Подробнее см. в [документации {{ RD }}](https://github.com/redis/redis/blob/6.0/redis.conf#L1203).    

* **Maxmemory percent**{#settings-maxmemory-percent} {{ tag-all }}

    Максимальный процент оперативной памяти, который будет выделен для пользовательских данных на хостах кластера {{ mrd-name }}.

    Минимальное значение — 1, максимальное значение — 75, значение по умолчанию — 75.

    {% note info %}

    Понижение максимального процента понизит вместимость базы данных. Это может быть полезно, если в базе наблюдаются проблемы с OOM Killer (Out of Memory Killer).

    {% endnote %}

* **Maxmemory policy**{#settings-maxmemory-policy} {{ tag-all }}

    Режим управления памятью при ее дефиците.

    * `volatile-lru` — удалять ключи с истекшим (expired) сроком жизни (Time-To-Live, TTL), начиная с наиболее давно использованного (least recently used, LRU);
    * `volatile-lfu` — удалять ключи с истекшим сроком жизни, начиная с наиболее редко используемого (least frequently used, LFU);
    * `volatile-ttl` — удалять ключи с истекшим сроком жизни, начиная с ключа с наименьшим сроком жизни;
    * `volatile-random` — удалять ключи с истекшим сроком жизни в произвольном порядке;
    * `allkeys-lru` — удалять ключи вне зависимости от их срока жизни, начиная с наиболее давно использованного;
    * `allkeys-lfu` — удалять ключи вне зависимости от их срока жизни, начиная с наиболее редко используемого;
    * `allkeys-random` — удалять ключи вне зависимости от их срока жизни в произвольном порядке;
    * `noeviction` (по умолчанию) — не удалять ключи. Вернуть ошибку, если для вставки данных недостаточно памяти.

    Подробнее см. в [документации {{ VLK }}](https://docs.redislabs.com/latest/rs/administering/database-operations/eviction-policy/).

* **Notify keyspace events**{#settings-notify-keyspace-events} {{ tag-all }}

    Настройка уведомлений о событиях, происходящих в пространстве ключей.

    Значение — строка с модификаторами, которые управляют выводом уведомлений. Значение по умолчанию — пустая строка (вывод уведомлений отключен).

    Полный список модификаторов см. в [документации {{ VLK }}](http://redis.io/topics/notifications).

* **Slowlog log slower than**{#settings-slowlog-slower-than} {{ tag-all }}

    Запросы, выполняющиеся дольше указанного времени (в микросекундах), считаются длительными. Такие запросы попадают в лог медленных запросов (slow log). При значении `0` в этот лог будут попадать все выполняемые запросы.

    Минимальное значение — `-1` (лог медленных запросов не ведется), максимальное значение — `9223372036854775807`, значение по умолчанию: `10000`.

    Подробнее см. в [документации {{ VLK }}](https://redis.io/commands/slowlog).

* **Slowlog max len**{#settings-slowlog-max-len} {{ tag-all }}

    Максимальное количество записей в логе медленных запросов. При заполнении лога перед вставкой новых записей будут удалены самые старые.

    Минимальное значение — `0` (лог медленных запросов не ведется), максимальное значение — `9223372036854775807`, значение по умолчанию — `1000`.

    Подробнее см. в [документации {{ VLK }}](https://redis.io/commands/slowlog).

* **Timeout**{#settings-timeout} {{ tag-all }}

    Время в секундах, в течение которого будет поддерживаться соединение с неактивными клиентами.

    Минимальное значение и значение по умолчанию — `0` (соединения не закрываются), максимальное значение — `2147483647`.

    Подробнее см. в [документации {{ VLK }}](https://redis.io/topics/clients).
