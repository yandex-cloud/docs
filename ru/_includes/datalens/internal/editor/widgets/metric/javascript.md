## JavaScript {#javascript}

### Общая информация {#common}

В результате выполнения вкладки JavaScript должны быть экспортированы данные для отрисовки показателя.

### Доступные методы {#available-methods}

* **`ChartEditor.getParams()`** - возвращает объект с нормализованными параметрами.

* **`ChartEditor.getLoadedData()`** - возвращает объект с данными, запрошенными на вкладке Urls.

### Пример {#example}

```js
module.exports = {
    // заголовок (по умолчанию: null)
    title: 'Заголовок',
    content: {
        //текущие данные (обязательно)
        current: {
            // значение
            // (по умолчанию: null)
            value: 50.15,
            // единица измерения
            // (по умолчанию: null)
            unit: 'км',
            // цвет текста
            // (по умолчанию: 'black')
            color: 'darkcyan',
            // заголовок
            text: 'Сейчас',
            // использование внутреннего форматтера
            // (преобразует большие значения в короткие)
            // (по умолчанию: false)
            formatted: true
        },
        // предыдущие данные
        last: {
            value: 43.15,
            unit: 'км',
            color: '#ee11aa',
            text: 'Вчера',
            formatted: false
        },
        // разница
        // (по умолчанию: null)
        // (если diff: {} - разница будет посчитана автоматически)
        diff: {
            value: 7,
            unit: 'км',
            formatted: false,
            // знак разницы
            sign: '+',
            // цвет текста
            // (по умолчанию: 'black', если знак разницы '+' - 'green', если знак разницы '-' - 'darkred')
            color: 'green',
        },
        // разница в процентах
        // (по умолчанию: null)
        // (если diffPercent: {} - разница в процентах будет посчитана автоматически)
        diffPercent: { // отображаемая разница в процентах (задается вручную или автоматически, если задана опция formatted)
            value: 16.2,
            unit: '%',
            formatted: false,
            sign: '+',
            color: 'green'
        }
    },
    chart: {
        graphs: [
            {
                // значения точек
                data: [50.15, 50.03, 49.93, 49.91, 49.84, 50.16, 50.33, 50.29, 50.26, 43.15],
                // цвет линии
                // (по умолчанию: 'black')
                color: '#008800',
                // тип линии
                // (line, spline, column, area)
                // (по умолчанию: 'line')
                type: 'spline'
            }
        ]
    },
    // цвет фона (по умолчанию: 'white')
    background: '#ffdb4d',
    // цвет фона в зависимости от разницы
    // * 'more-green' - значения cо знаком '+' будут отображаться зеленым цветом, со знаком '-' - красным
    // * 'less-green' - наоборот
    // (по умолчанию: null)
    colorize: 'more-green'
}
```
