## JavaScript {#javascript}

### Общая информация {#common}

В результате выполнения вкладки JavaScript должны быть экспортированы данные для отрисовки таблицы.

### Доступные методы {#available-methods}

* **`ChartEditor.getParams()`** — возвращает объект с нормализованными параметрами.

* **`ChartEditor.getLoadedData()`** — возвращает объект с данными, запрошенными на вкладке Urls.

* **`ChartEditor.updateConfig(config)`** — доопределяет результат вкладки [Config](#config) аргументом `config`.

### Пример {#example}

```js
// описываем шапку таблицы
const head = [
    {
        // идентификатор
        id: 'uid',
        // заголовок
        name: 'Текст',
        // тип: текст
        type: 'text',
        // группировать в одну ячейку идущие подряд одинаковые ячейки в колонке
        group: false,
    },
    {
        id: 'date',
        name: 'Дата',
        // тип: дата (в миллисекундах)
        type: 'date',
        // формат вывода даты
        // (время будет в часовом поясе браузера)
        format: 'DD/MM/YY HH:mm:ss',
        // группировать в одну ячейку идущие подряд одинаковые ячейки в колонке
        group: true,
    },
    // колонка с двухуровневой шапкой
    {
        name: 'Двухуровневая шапка',
        // подразделы
        sub: [
            {
                id: 'number',
                name: 'Число',
                // тип: число
                type: 'number',
                // форматирование
                formatter: {
                    // суффикс
                    suffix: '%',
                    // префикс
                    prefix: '#',
                    // множитель
                    multiplier: 100,
                    // точность
                    precision: 0
                },
                // точность, короткая запись
                // precision: 2,
                // группировать в одну ячейку идущие подряд одинаковые ячейки в колонке
                group: false,
            },
            {
                id: 'diff',
                name: 'Разница',
                // тип: разница
                type: 'diff_only',
                // форматирование
                diff_formatter: {
                    // суффикс
                    suffix: '@',
                    // префикс
                    prefix: '№',
                    // множитель
                    multiplier: 0.1,
                    // точность
                    precision: 2
                },
                // точность, короткая запись
                // precision: 2
                // группировать в одну ячейку идущие подряд одинаковые ячейки в колонке
                group: false,
            }
        ]
    },
    {
        id: 'number-diff',
        name: 'Число и разница',
        // тип: число и разница
        type: 'diff',
        // форматирование числа
        formatter: {multiplier: 100},
        // форматирование разницы
        diff_formatter: {multiplier: 100},
        // точность, короткая запись
        // precision: 2
        // группировать в одну ячейку идущие подряд одинаковые ячейки в колонке
        group: false,
    }
];

// описываем строки таблици
const rows = [
    // короткая запись, только значения соответствующих колонкам типов
    {
        values: ['Google', 1524260756186, 0.01, 16, [-2, -4]]
    },
    // подробная запись
    {
        cells: [
            {
                // значение соответствующее типу колонки
                value: 'Yandex',
                // ссылка (для колонок с "type: 'text'")
                link: {
                    // url
                    href: 'https://yandex.ru',
                    // открывать в новом окне
                    newWindow: true
                },
                // CSS-стили ячейки
                css: {'font-size': '16px'}
            },
            {
                value: 1524260756186,
                // действие по клику на ячейку
                onClick: {
                    // тип действия
                    // возможные значения: setParams
                    action: 'setParams',
                    // статические аргументы
                    args: {
                        min: 1524260578346
                    }
                },
            },
            {
                value: 0.2,
                css: {color: 'blue'}
            },
            {
                value: -128
            },
            {
                value: [32, 16],
                css: {'background-color': '#999' }
            }
        ]
    }
];

// аналогично строкам описываем футер таблицы
const footer = [
    // которая запись, только значения соответствующих колонкам типов
    {
        values: ['Всего', null, 0.21, -112, [30, 12]]
    },
    // подробная запись
    {
        cells: [
            {
                // значение соответствующее типу колонки
                value: 'Всего',
                // ссылка (для колонок с "type: 'text'")
                link: {
                    // url
                    href: 'https://yandex.ru',
                    // открывать в новом окне
                    newWindow: true
                },
                // CSS-стили ячейки
                css: {'font-size': '16px'}
            },
            {
                value: ''
            },
            {
                value: 0.21,
                css: {color: 'blue'}
            },
            {
                value: -112
            },
            {
                value: [30, 12],
                css: {'background-color': '#999' }
            }
        ]
    }
];

module.exports = {
    head: head,
    rows: rows,
    footer: footer
};
```
