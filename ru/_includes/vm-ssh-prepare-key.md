Чтобы подключаться к виртуальной машине по {% if lang == "ru" and audience != internal %}[SSH](../glossary/ssh-keygen.md){% else %}SSH{% endif %}, нужна пара ключей: открытый ключ размещается на виртуальной машине, а закрытый ключ хранится у пользователя. Такой способ более безопасен, чем подключение по логину и паролю.

{% include [vm-connect-ssh-linux-note](vm-connect-ssh-linux-note.md) %}

Чтобы создать пару ключей:

{% list tabs %}

- Linux/MacOS
  
  1. Откройте терминал.
  1. Создайте новый ключ с помощью команды `ssh-keygen`:

     ```
     ssh-keygen -t ed25519
     ```

     После выполнения команды вам будет предложено указать имена файлов, в которые будут сохранены ключи, и ввести пароль для закрытого ключа. Нажмите **Enter**, чтобы использовать имя по умолчанию `id_ed25519`. Пара ключей будет создана в директории `~/.ssh`.

     Открытый ключ будет сохранен в файле `<имя_ключа>.pub`.
  
- Windows 10

  1. Запустите `cmd.exe` или `powershell.exe`.
  1. Создайте новый ключ с помощью команды `ssh-keygen`. Выполните команду:

     ```
     ssh-keygen -t ed25519
     ```

     После выполнения команды вам будет предложено указать имена файлов, в которые будут сохранены ключи, и ввести пароль для закрытого ключа. Нажмите **Enter**, чтобы использовать имя по умолчанию `id_ed25519`.

     Пара ключей будет создана в директории `C:\Users\<имя_пользователя>\.ssh\` или `C:\Users\<имя_пользователя>\` в зависимости от интерфейса командной строки.

     Открытый ключ будет сохранен в файле с названием `<имя_ключа>.pub`.

- Windows 7/8

  Создание ключей для Windows будет выполняться с помощью приложения PuTTY.

  1. [Скачайте](https://www.putty.org) и установите PuTTY.
  1. Убедитесь, что директория, куда вы установили PuTTY, присутствует в `PATH`:
     1. Нажмите правой кнопкой на **Мой компьютер**. Выберите пункт **Свойства**.
     1. В открывшемся окне выберите **Дополнительные параметры системы**, затем **Переменные среды** (находится в нижней части окна).
     1. В разделе **Системные переменные** найдите `PATH` и нажмите **Изменить**.
     1. В поле **Значение переменной** допишите путь к директории, куда вы установили PuTTY.
  1. Запустите приложение PuTTYgen.
  1. В качестве типа генерируемой пары выберите **Ed25519**. Нажмите **Generate** и поводите курсором в поле выше до тех пор, пока не закончится создание ключа.

     ![ssh_generate_key](../_assets/compute/ssh-putty/ssh_generate_key.png)

  1. В поле **Key passphrase** введите надежный пароль. Повторно введите его в поле ниже.
  1. Нажмите кнопку **Save private key** и сохраните закрытый ключ. Никогда его никому не передавайте и не говорите никому ключевую фразу от него.
  1. Сохраните ключ в текстовом файле. Для этого скопируйте открытый ключ **одной строкой** из текстового поля в текстовый файл с названием `id_ed25519.pub`.

{% endlist %}
