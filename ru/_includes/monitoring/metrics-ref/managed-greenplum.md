## Сервис {{ mgp-full-name }} {#managed-greenplum}

Общие метки для всех метрик сервиса {{ mgp-full-name }}: 

Метка | Значение
----|----
service | Идентификатор сервиса: `managed-greenplum`
resource_type | Тип ресурса: `cluster`
resource_id | Имя кластера 
cid | Bдентификатор кластера
host | FQDN хоста
fqdn | FQDN хоста

### Метрики CPU {#managed-greenplum-cpu-metrics}
Загрузка процессорных ядер.

| Имя<br/>Тип, единицы измерения | Описание |
| ----- | ----- |
| `cpu.fraction`<br/>`DGAUGE`, % | Гарантированная доля vCPU. | 
| `cpu.guarantee`<br/>`DGAUGE`, штуки | Гаратированное число ядер. | 
| `cpu.limit`<br/>`DGAUGE`, штуки | Предельное число используемых ядер. | 
| `cpu.guest`<br/>`DGAUGE`, % | Использование процессорных ядер, тип потребления `guest`. | 
| `cpu.idle`<br/>`DGAUGE`, % | Использование процессорных ядер, тип потребления `idle`. | 
| `cpu.iowait`<br/>`DGAUGE`, % | Использование процессорных ядер, тип потребления `iowait`. | 
| `cpu.irq`<br/>`DGAUGE`, % | Использование процессорных ядер, тип потребления `irq`. | 
| `cpu.nice`<br/>`DGAUGE`, % | Использование процессорных ядер, тип потребления `nice`. | 
| `cpu.softirq`<br/>`DGAUGE`, % | Использование процессорных ядер, тип потребления `softirq`. | 
| `cpu.steal`<br/>`DGAUGE`, % | Использование процессорных ядер, тип потребления `steal`. | 
| `cpu.system`<br/>`DGAUGE`, % | Использование процессорных ядер, тип потребления `system`. | 
| `cpu.user`<br/>`DGAUGE`, % | Использование процессорных ядер, тип потребления `user`. |

### Метрики диска {#managed-greenplum-disk-metrics}
Дополнительные метки: `device` - идентификатор диска в системе.

| Имя<br/>Тип, единицы измерения | Описание |
| ----- | ----- |
| `disk.free`<br/>`DGAUGE`, байты | Свободное место. | 
| `disk.inodes_free`<br/>`DGAUGE`, штуки | Свободное количество inodes. | 
| `disk.inodes_total`<br/>`DGAUGE`, штуки | Доступное количество inodes. | 
| `disk.inodes_used`<br/>`DGAUGE`, штуки | Использованное количество inodes. | 
| `disk.total`<br/>`DGAUGE`, байты | Доступное место. | 
| `disk.used`<br/>`DGAUGE`, байты | Использованное место. | 
| `disk.used_percent`<br/>`DGAUGE`, % | Процент использованного места. |

### Метрики дисковых операций {#managed-greenplum-diskio-metrics}
Дополнительные метки: `dev` - идентификатор диска в системе.

| Имя<br/>Тип, единицы измерения | Описание |
| ----- | ----- |
| `diskio.io_time`<br/>`DGAUGE`, миллисекунды | Длительность дисковых операций. | 
| `diskio.iops_in_progress`<br/>`DGAUGE`, штуки | Количество незавершенных дисковых операций. | 
| `diskio.merged_reads`<br/>`DGAUGE`, штуки | Количество слитых операций чтения с диска. | 
| `diskio.merged_writes`<br/>`DGAUGE`, штуки | Количество слитых операций записи на диск. | 
| `diskio.read_bytes`<br/>`DGAUGE`, байты | Объем чтения с диска. | 
| `diskio.read_time`<br/>`DGAUGE`, миллисекунды | Длительность чтения с диска. | 
| `diskio.reads`<br/>`DGAUGE`, штуки | Количество операций чтения с диска. | 
| `diskio.weighted_io_time`<br/>`DGAUGE`, миллисекунды | Длительность ожидания операций ввода/вывода. | 
| `diskio.write_bytes`<br/>`DGAUGE`, байты | Объем записи на диск.  | 
| `diskio.write_time`<br/>`DGAUGE`, миллисекунды | Длительность записи на диск. | 
| `diskio.writes`<br/>`DGAUGE`, штуки | Количество операций записи на диск. | 

### Метрики RAM {#managed-greenplum-ram-metrics}
| Имя<br/>Тип, единицы измерения | Описание |
| ----- | ----- |
| `mem.active`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `active`. | 
| `mem.available`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `available`. | 
| `mem.available_percent`<br/>`DGAUGE`, % | Процент доступной оперативной памяти. | 
| `mem.buffered`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `buffered`. | 
| `mem.cached`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `cached`. | 
| `mem.commit_limit`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `commit_limit`. | 
| `mem.committed_as`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `committed_as`. | 
| `mem.dirty`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `dirty`. | 
| `mem.free`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `free`. | 
| `mem.high_free`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `high_free`. | 
| `mem.high_total`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `high_total`. | 
| `mem.huge_page_size`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `huge_page_size`. | 
| `mem.huge_pages_free`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `huge_pages_free`. | 
| `mem.huge_pages_total`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `huge_pages_total`. | 
| `mem.inactive`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `inactive`. | 
| `mem.low_free`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `low_free`. | 
| `mem.low_total`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `low_total`. | 
| `mem.mapped`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `mapped`. | 
| `mem.page_tables`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `page_tables`. | 
| `mem.shared`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `shared`. | 
| `mem.slab`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `slab`. | 
| `mem.sreclaimable`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `sreclaimable`. | 
| `mem.sunreclaim`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `sunreclaim`. | 
| `mem.swap_cached`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `swap_cached`. | 
| `mem.swap_free`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `swap_free`. | 
| `mem.swap_total`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `swap_total`. | 
| `mem.total`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `total`. | 
| `mem.used`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `used`. | 
| `mem.used_percent`<br/>`DGAUGE`, % | Процент использованной оперативной памяти. | 
| `mem.vmalloc_chunk`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `vmalloc_chunk`. | 
| `mem.vmalloc_total`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `vmalloc_total`. | 
| `mem.vmalloc_used`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `vmalloc_used`. | 
| `mem.write_back`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `write_back`. | 
| `mem.write_back_tmp`<br/>`DGAUGE`, байты | Использование оперативной памяти, тип потребления `write_back_tmp`. |

### Метрики сети {#managed-greenplum-net-metrics}
| Имя<br/>Тип, единицы измерения | Описание |
| ----- | ----- |
| `net.bytes_recv`<br/>`DGAUGE`, байт/с | Скорость получения данных по сети. | 
| `net.bytes_sent`<br/>`DGAUGE`, байт/с | Скорость отправки данных по сети. | 
| `net.drop_in`<br/>`DGAUGE`, штуки | Количество пакетов, отброшенных при получении. | 
| `net.drop_out`<br/>`DGAUGE`, штуки | Количество пакетов, отброшенных при отправке. | 
| `net.err_in`<br/>`DGAUGE`, штуки | Количество ошибок при получении. | 
| `net.err_out`<br/>`DGAUGE`, штуки | Количество ошибок при отправке. | 
| `net.packets_recv`<br/>`DGAUGE`, пакетов/с | Интенсивность получения данных по сети. | 
| `net.packets_sent`<br/>`DGAUGE`, пакетов/с | Интенсивность отправки данных по сети. | 

### Метрики сервиса {#managed-greenplum-metrics}
| Имя<br/>Тип, единицы измерения | Описание |
| ----- | ----- |
| `gp.conn_aborted`<br/>`DGAUGE`, штуки | Количество прерванных подключений к БД. | 
| `gp.conn_active`<br/>`DGAUGE`, штуки | Количество активных подключений к БД. | 
| `gp.conn_count`<br/>`DGAUGE`, штуки | Количество подключений к БД. | 
| `gp.conn_idle`<br/>`DGAUGE`, штуки | Количество простаивающих подключений к БД. | 
| `gp.conn_idle_in_transaction`<br/>`DGAUGE`, штуки | Количество простаивающих в состоянии незавершенной транзакции подключений к БД. | 
| `gp.conn_waiting`<br/>`DGAUGE`, штуки | Количество ожидающих в очереди подключений к БД. | 
| `gp.connect_percent`<br/>`DGAUGE`, % | Процент соединений. | 
| `gp.is_alive`<br/>`DGAUGE` | Показатель работоспособности хоста.<br/>Принимает значение `1`, если хост БД работает, `0`, если нет. | 
| `gp.is_alive_segment`<br/>`DGAUGE` | Показатель работоспособности хоста-сегмента.<br/>Принимает значение `1`, если хост БД работает, `0`, если нет. | 
| `gp.is_dead`<br/>`DGAUGE` | Показатель работоспособности хоста.<br/>Принимает значение `0`, если хост БД работает, `1`, если нет. | 
| `gp.is_master`<br/>`DGAUGE` | Показатель типа хоста.<br/>Принимает значение `1`, если хост является мастер-хостом БД, `0`, если нет. | 
| `gp.master_replication_state`<br/>`DGAUGE` | Состояние репликации мастера. | 
| `gp.percent_xid_wraparound`<br/>`DGAUGE`, % | Использование последовательности идентификаторов транзакций.<br/>Дополнительные метки: `db_name` | 
| `gp.ping`<br/>`DGAUGE` | <br/>Дополнительные метки: `can_read`, `is_master`, `can_write`| 
| `gp.pxf_is_alive`<br/>`DGAUGE` | Показатель доступности расширения PXF. | 
| `gp.rg_cpu_used`<br/>`DGAUGE` | Распределение CPU по ресурсным группам.<br/>Дополнительные метки: `resgroup` | 
| `gp.rg_mem_available`<br/>`DGAUGE` | Распределение доступной памяти по ресурсным группам.<br/>Дополнительные метки: `resgroup` | 
| `gp.rg_mem_used`<br/>`DGAUGE` | Распределение использованной памяти по ресурсным группам.<br/>Дополнительные метки: `resgroup` | 
| `gp.seg_count`<br/>`DGAUGE`, штуки | Количество сегментов в кластере. | 
| `gp.seg_down`<br/>`DGAUGE` | Недоступные сегменты. |
| `gp.seg_not_synch`<br/>`DGAUGE` | Несинхронизированные сегменты. | 
| `gp.spill_files_num_per_seghost`<br/>`DGAUGE`, штуки | Число временных файлов на хост. | 
| `gp.spill_files_size_per_seghost`<br/>`DGAUGE`, байты | Размер временных файлов на хост. |

Подробнее о сервисе в документации [{{ mgp-full-name }}](../../../managed-greenplum/).
