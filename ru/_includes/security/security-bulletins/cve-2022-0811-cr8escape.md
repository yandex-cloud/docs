## 18.03.2022 — CVE-2022-0811 — cr8escape {#CVE-2022-0811}

### Описание

Исследователи компании CrowdStrike обнаружили уязвимость в контейнерном движке CRI-O, который может использоваться в Kubernetes. Уязвимость позволяет злоумышленнику, который имеет возможность запускать поды, выбраться из контейнера, получить привилегии пользователя root и развить атаку на остальной кластер.

Уязвимость заключается в том, что начиная с версии CRI-O 1.19 можно переопределить системные параметры sysctl и, в частности, использовать kernel.core_pattern для выхода из контейнера.

Исходный отчет: [статья](https://www.crowdstrike.com/blog/cr8escape-new-vulnerability-discovered-in-cri-o-container-engine-cve-2022-0811/).

Описание уязвимости: [CVE-2022-0811](https://nvd.nist.gov/vuln/detail/CVE-2022-0811).

### Влияние на сервисы {{ yandex-cloud }}

Влияние отсутствует, так как в сервисе {{ managed-k8s-name }} движок CRI-O не доступен для использования.

### Компенсационные меры

Если вы используете Kubernetes не в составе сервиса {{ managed-k8s-name }}, а в виде собственной «bare metal» инсталляции:

* обновите CRI-O до версии 1.23.2;
* если для вашей операционной системы отсутствует патч с обновлением, откатите CRI-O до версии 1.18 или ниже;
* если в настоящее время вы не можете изменить версию CRI-O:

    1. примените политику, которая блокирует "+" или "=" в значениях sysctl;
    2. PodSecurityPolicy [forbiddenSysctls](https://kubernetes.io/docs/concepts/policy/pod-security-policy/#sysctl) чтобы заблокировать все sysctl.
