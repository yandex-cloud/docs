
* **Правила трансформации**

    Правила, по которым входящий поток обрабатывается с помощью Cloud Function:

    * **Функция обработки** — выберите одну из функций, созданных в сервисе [{{ sf-full-name }}](../../functions/).

        
        * **Сервисный аккаунт** — выберите или [создайте](../../iam/operations/sa/create.md) сервисный аккаунт, от имени которого будет запускаться функция обработки.


    * **Количество попыток** — укажите количество попыток вызова функции обработки.
    * **Размер буфера для отправки** — укажите размер буфера (в байтах), при заполнении которого данные будут переданы функции обработки.

        Максимальный размер буфера — 3,5 МБ. Подробнее об ограничениях, действующих при работе с функциями в сервисе {{ sf-name }}, читайте в [соответствующем разделе](../../functions/concepts/limits.md).

    * **Интервал отправки** — укажите длительность интервала (в секундах), по истечении которого данные из потока должны быть переданы функции обработки.

        {% note info %}

        Если буфер заполнится или истечет интервал отправки, данные будут переданы функции обработки.

        {% endnote %}

    * **Таймаут вызова** — укажите допустимое время ожидания ответа от функции обработки (в секундах).

    {% note warning %}

    Значения в полях **Интервал отправки** и **Таймаут вызова** указываются с постфиксом `s`, например, `10s`.

    {% endnote %}


* **Правила конвертации**:

    * **Формат данных** — выберите один из доступных форматов:
        * `JSON`
        * `CSV`

    * **Схема данных** — задайте схему в виде списка полей или загрузите файл с описанием схемы в формате JSON.
    * **Добавить неразмеченные столбцы** — выберите эту опцию, чтобы поля, отсутствующие в схеме, попадали в колонку `_rest`.
    * **Разрешить null в ключевых колонках** — выберите эту опцию, чтобы разрешить значение `null` в ключевых колонках.
