# Создать L7-балансировщик

Чтобы создать L7-балансировщик:

{% list tabs %}

- Консоль управления
  
  1. В [консоли управления]({{ link-console-main }}) выберите каталог, в котором будет создаваться балансировщик.
  1. В списке сервисов выберите **{{ alb-name }}**.
  1. В меню слева выберите **Балансировщики**.
  1. Нажмите кнопку **Создать балансировщик**.
  1. Введите имя роутера: `test-load-balancer`.
  1. В блоке **Сетевые настройки** выберите сеть, в подсетях которой будут размещаться узлы балансировщика. 
  1. В блоке **Размещение** выберите три подсети для узлов балансировщика и включите передачу трафика в эти подсети.
  1. В блоке **Обработчики** нажмите кнопку **Добавить обработчик**. Задайте настройки обработчика:
     1. Введите имя обработчика: `test-listener`.
     1. В блоке **Настройки публичного IP-адреса** включите передачу трафика.
     1. Укажите порт `80`.
     1. В поле **Назначить IP-адрес** выберите **Автоматически**.
  1. В поле **HTTP-роутер** выберите [HTTP-роутер](http-router-create.md). 
  1. Нажмите кнопку **Создать**.

- CLI

  {% include [cli-install](../../_includes/cli-install.md) %}

  {% include [default-catalogue](../../_includes/default-catalogue.md) %}
  
  1. Посмотрите описание команды CLI для создания L7-балансировщика:

     ```
     yc alb load-balancer create --help
     ```

  1. Выполните команду, указав сеть и подсети, в которых будут размещаться узлы балансировщика:

     ```
     yc alb load-balancer create test-load-balancer \
     --network-name <имя сети> \
     --location subnet-name=<имя первой подсети>,zone=ru-central1-a
     --location subnet-name=<имя первой подсети>,zone=ru-central1-b
     --location subnet-name=<имя первой подсети>,zone=ru-central1-c
     ```

  1. Добавьте обработчик:

     ```
     yc alb load-balancer add-listener test-load-balancer \
     --listener-name test-listener \
     --http-router-id a5dcsselagj4o2v4a6e7 \
     --external-ipv4-endpoint port=80
     ```

{% endlist %}