# Безопасная работа с секретными данными

{% include [need-updates](../../_includes/datasphere/migration/need-updates.md) %}

## Создание секрета {#create}

1. Откройте проект, в котором нужно создать [секрет](../concepts/secrets.md).
2. Чтобы создать секрет, перейдите на вкладку ![Secrets](../../_assets/datasphere/jupyterlab/secret.svg) и нажмите значок ![plus](../../_assets/datasphere/jupyterlab/add.svg).
3. В диалоговом окне заполните поля:
   * **Name** — задайте имя секрета.
     Имя может содержать только латинские символы в любом регистре, цифры и нижнее подчеркивание и не должно начинаться с цифры;
   * **Content** — введите значение, которое будет храниться в зашифрованном виде;
   * **Scope** — выберите область видимости секрета.
4. Чтобы сохранить секрет, нажмите кнопку **Save**. Новый секрет появится в списке доступных.
5. Чтобы секрет был доступен для использования, перезапустите ядро системы. Для этого выберите **Kernel ⟶ Restart kernel** в меню интерфейса {{ ml-platform-name }}.

## Вызов секрета {#call}

Созданный секрет можно использовать в коде как переменные окружения.

{% list tabs %}

- Python

   ```python
   import os
   os.environ # список всех переменных окружения
   os.environ['SECRET_NAME'] # секрет SECRET_NAME из переменных окружения
   ```

- bash

   ```bash
   #!:bash
   printenv SECRET_NAME
   ```

{% endlist %}

## Копирование секрета {#copy}

1. В списке видимых секретов выберите тот, который вы хотите скопировать в свой проект, и нажмите значок ![copy](../../_assets/copy.svg).
1. В диалоговом окне выберите область видимости нового секрета и нажмите **Clone**. Область видимости копии должна отличаться от области видимости оригинального секрета.

## Изменение секрета {#change}

1. В списке видимых секретов выберите тот, который вы хотите изменить, и нажмите значок ![pencil](../../_assets/pencil.svg).
1. В диалоговом окне задайте новое значение необходимого поля.
   * Чтобы изменить значение секрета, впишите новое вместо `***`.
   * Чтобы переименовать секрет, введите новое имя в поле **Name**.
   * Чтобы изменить область видимости, выберите нужное значение из списка.
     Вводить значение секрета заново не нужно, если его не требуется изменить.
1. Чтобы сохранить изменения, нажмите кнопку **Save**.

## Удаление секрета {#delete}

1. В списке видимых секретов выберите тот, который вы хотите удалить, и нажмите значок ![pencil](../../_assets/pencil.svg).
1. В диалоговом окне нажмите кнопку **Delete**. Секрет удален. 