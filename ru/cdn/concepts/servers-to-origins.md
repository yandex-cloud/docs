# Настройки обмена данными между CDN-серверами и источниками

Для коммуникаций между CDN-серверами и источниками можно выбрать протокол: всегда HTTP, всегда HTTPS или тот протокол, по которому [CDN обменивается данными с клиентом](clients-to-servers.md).

Чтобы CDN-серверы могли устанавливать HTTPS-соединения с источниками, вам нужно самостоятельно настроить доменные имена источников, в том числе выпустить для них TLS-сертификаты. Например, вы можете использовать {{ certificate-manager-full-name}}: [выпустить сертификат от Let's Encrypt<sup>®</sup>](../../certificate-manager/operations/managed/cert-create.md) и [получить его содержимое](../../certificate-manager/operations/managed/cert-get-content.md).

Также для ресурса вы можете настроить:

* значение HTTP-заголовка `Host` в запросах CDN-серверов к источникам: основное [доменное имя для раздачи контента](resource.md#hostnames), повтор значения из запроса клиента или произвольное значение;
* другие HTTP-заголовки в запросах CDN-серверов к источникам (см. [инструкцию](../operations/resources/configure-headers.md));
* получение CDN-серверами файлов от источников по частям — [сегментацию контента](slicing.md).

Ресурс и источники должны быть настроены так, чтобы запросы от CDN-серверов были разрешены, обрабатывались корректно и не перенаправлялись.

> Например, если источники перенаправляют запросы с URI со схемой `http` на URI со схемой `https`, для ресурса нужно выбрать протокол HTTPS, и наоборот.