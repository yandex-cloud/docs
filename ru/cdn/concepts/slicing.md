---

__system: {"dislikeVariants":["Нет ответа на мой вопрос","Рекомендации не помогли","Содержание не соответсвует заголовку","Другое"]}
---
# Сегментация контента

Контент в CDN можно _сегментировать_ — запрашивать у источников и хранить на серверах по частям. Сегментация включается в настройках ресурса.

Если настройка включена:

* Файлы размером от 10 МБ запрашиваются у источников по частям. Размер каждой части — не больше 10 МБ. 

  > Например, файл размером 42 МБ будет разбит на четыре части по 10 МБ и одну часть размером 2 МБ. 
                                                  
  Все части запрашиваются параллельно, каждая в своем потоке. Это позволяет быстрее скачать весь файл и начать отправлять его клиенту.

  {% note warning %}
  
  Чтобы сегментация работала корректно, источники должны поддерживать частичные GET-запросы, с заголовком `Range`. Вне зависимости от того, у какого источника из группы запрашивается часть файла, ответы с этой частью должны содержать одни и те же значения заголовков `Content-Length` и `ETag`.
  
  {% endnote %}
  
* Клиенту файл отправляется целиком. Для этого перед отправкой все части обратно соединяются в один файл. 

* Если включено [кеширование на CDN-серверах](caching.md#server-side), файл продолжит храниться на сервере по частям.