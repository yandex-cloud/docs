# Проблемы с чтением/записью в кластер

#### Почему не работает запись в кластер? {#write-failure}

1. Если хранилище баз данных заполнится на 95%, кластер перейдет в режим **Только чтение**. Проверьте свободное место в хранилище и при необходимости увеличьте его размер. Чтобы проверить свободное место:
   1. Перейдите на страницу каталога и выберите сервис **{{ ui-key.yacloud.iam.folder.dashboard.label_managed-mysql }}**.
   1. Нажмите на имя нужного кластера и перейдите на вкладку **{{ ui-key.yacloud.mysql.cluster.switch_monitoring }}**.
   1. Проверьте график **Disk usage**.
1. Убедитесь, что запись производится в хост, который является мастером, а не [репликой](mysql.md#read-only-instance).

{% include [qa-replica-lagging](../../_includes/mdb/mmy/qa-replica-lagging.md) %}

#### Почему размер кластера значительно больше объема данных в нем? {#cluster-greater-data}

Это происходит в силу особенностей хранения данных самой СУБД {{ MY }}, а не сервиса {{ mmy-short-name }} в {{ yandex-cloud }}. Факторы, влияющие на занимаемое место в хранилище:
* фрагментация;
* коэффициент заполнения индекса (fill factor);
* хранение старых версий строк (rollback segment);
* упаковка типов.

Чтобы узнать фактический объем таблиц в базе, обратитесь к системной таблице `INNODB_SYS_TABLESPACES`. Подробнее см. в статье [Finding MySQL Table Size on Disk](https://www.percona.com/blog/2016/01/26/finding_mysql_table_size_on_disk).

#### Что делать при возникновении любой ошибки приложения? {#application-error}

1. Проверьте, есть ли свободное место на диске, где располагается кластер:
   1. Перейдите на страницу каталога и выберите сервис **{{ ui-key.yacloud.iam.folder.dashboard.label_managed-mysql }}**.
   1. Нажмите на имя нужного кластера и перейдите на вкладку **{{ ui-key.yacloud.mysql.cluster.switch_monitoring }}**.
   1. Проверьте график **Disk usage**.
1. Проверьте графики мониторинга хостов:
   1. Перейдите на страницу каталога и выберите сервис **{{ ui-key.yacloud.iam.folder.dashboard.label_managed-mysql }}**.
   1. Нажмите на имя нужного кластера, затем выберите вкладку **{{ ui-key.yacloud.mysql.cluster.switch_hosts }}**.
   1. Перейдите на страницу **{{ ui-key.yacloud.mdb.cluster.hosts.switch_monitoring }}**.
   1. Найдите проблемный ресурс: график будет приближаться к границе или выйдет за нее.
   1. Выберите другие хосты из выпадающего списка и проверьте их тоже.
1. Проверьте наличие свободных ресурсов на виртуальной машине или сервере, где запущено приложение, подключаемое к БД.
