---
title: Модели векторизации текста
description: Из статьи вы узнаете о моделях векторизации текста, доступных в сервисе {{ foundation-models-name }}.
---

# Векторизация текста

Компьютеры обрабатывают любую информацию в виде чисел. Чтобы эффективно работать с текстами на естественных языках, модели искусственного интеллекта преобразовывают слова, фразы и предложения в числовые векторы фиксированного размера, которые сохраняют характеристики слов и связи между ними.

Процесс преобразования текста в такие векторы называется _векторизацией_, а результирующий вектор — _эмбеддингом_. Эмбеддинги хранят информацию о тексте и позволяют применять математические методы для обработки текстов. Так, с помощью эмбеддингов можно классифицировать информацию, сравнивать и сопоставлять тексты или организовать поиск по собственной базе знаний.

Если базовая модель эмбеддингов вам не подходит, вы можете [дообучить](./tuning/index.md) ее.

## Модели векторного представления текста {#yandexgpt-embeddings}

Сервис {{ foundation-models-full-name }} предоставляет две модели векторизации текста.

| **Назначение** | **URI** | **Размерность выходного вектора**                        | **[Режимы работы](./index.md#working-mode)** |
|---|---|----------------------------------------------------------|---|
| Векторизация больших текстов исходных данных, например статей документации. | `emb://<идентификатор_каталога>/text-search-doc/latest` | {{ emb-vector }}                                         | Синхронный |
| Векторизация коротких текстов: поисковых запросов, обращений и т.п. | `emb://<идентификатор_каталога>/text-search-query/latest` | {{ emb-vector }}                                         | Синхронный |
| Дообученные модели эмбеддингов | `gpt://<идентификатор_каталога>/text-embeddings/<версия>@<суффикс_дообучения>` | Зависит от параметров дообучения</br> По умолчанию — 256 | Синхронный |

Чтобы использовать модели векторного представления текста {{ foundation-models-full-name }}, необходима [роль](../security/index.md#languageModels-user) `ai.languageModels.user` или выше на [каталог](../../resource-manager/concepts/resources-hierarchy.md#folder).

## Обращение к моделям {#addressing-models}

Вы можете обращаться к моделям векторного представления текста несколькими способами.

{% list tabs group=programming_language %}

- SDK {#sdk}

  При работе с моделями векторного представления текста через [{{ ml-sdk-full-name }}](../sdk/index.md) используйте один из следующих форматов:

  * **Название модели**, передается в виде строки.

      ```python
      model = (
        sdk.models.text_embeddings("text-search-doc")
      )
      ```

  * **Название и версия модели**, передаются в виде строк в полях `model_name` и `model_version` соответственно.

      ```python
      model = (
        sdk.models.text_embeddings(model_name="text-search-query", model_version="latest")
      )
      ```

  * **URI модели**, передается в виде строки, содержащей полный [URI](#yandexgpt-embeddings) модели.

      ```python
      model = (
        sdk.models.text_embeddings("emb://b1gt6g8ht345********/text-search-query/latest")
      )
      ```

- API {#curl}

  Чтобы [обратиться](../operations/embeddings/search.md) к модели через [REST API](../embeddings/api-ref/index.md) или [gRPC API](../embeddings/api-ref/grpc/index.md), в поле `modelUri` тела запроса укажите [URI](#yandexgpt-embeddings) модели, содержащий [идентификатор каталога](../../resource-manager/operations/folder/get-id.md). Сегмент `/latest` указывает на версию модели и является необязательным.

  **Пример:**

  ```json
  {
    "modelUri":
      emb://b1gt6g8ht345********/text-search-doc/latest
    ...
  }
  ```

  Для обращения к `Latest` версии необязательно задавать версию модели явно, поскольку версия `Latest` используется по умолчанию.

{% endlist %}

## Пример использования эмбеддингов {#example}

Примитивный пример показывает, как с помощью эмбеддингов можно найти наиболее близкий ответ на вопрос по базе знаний. В массиве `doc_texts` собраны исходные данные для векторизации (база знаний), переменная `query_text` содержит поисковый запрос. После получения эмбеддингов можно вычислить расстояние между каждым вектором в базе знаний и вектором запроса и найти наиболее близкий текст.

{% list tabs group=programming_language %}

- SDK {#sdk}

  {% include [search-embedding-sdk](../../_includes/foundation-models/examples/search-embedding-sdk.md) %}

  Где:

  * `<идентификатор_каталога>` — идентификатор [каталога](../../resource-manager/concepts/resources-hierarchy.md#folder), в котором создан [сервисный аккаунт](../../iam/concepts/users/service-accounts.md).
  * `<API-ключ>` — [API-ключ](../../iam/concepts/authorization/api-key.md) сервисного аккаунта для [аутентификации в API](../api-ref/authentication.md).

  Результат выполнения:

  ```text
  Александр Сергеевич Пушкин (26 мая [6 июня] 1799, Москва — 29 января [10 февраля] 1837, Санкт-Петербург)
    — русский поэт, драматург и прозаик, заложивший основы русского реалистического направления,
    литературный критик и теоретик литературы, историк, публицист, журналист.
  ```

- Python 3 {#python}

  {% include [search-embedding-py](../../_includes/foundation-models/examples/search-embedding-py.md) %}

  Где:

  * `<идентификатор_каталога>` — идентификатор [каталога](../../resource-manager/concepts/resources-hierarchy.md#folder) {{ yandex-cloud }}.
  * `<IAM-токен>` — [IAM-токен](../../iam/concepts/authorization/iam-token.md) аккаунта для [аутентификации в API](../api-ref/authentication.md).

  Результат выполнения:

  ```text
  Александр Сергеевич Пушкин (26 мая [6 июня] 1799, Москва — 29 января [10 февраля] 1837, Санкт-Петербург) — русский поэт, драматург и прозаик, заложивший основы русского реалистического направления, литературный критик и теоретик литературы, историк, публицист, журналист.
  ```

{% endlist %}

## Примеры использования {#examples}

* [{#T}](../operations/embeddings/search.md)
* [{#T}](../operations/tuning/create-embeddings.md)

#### См. также {#see-also}

* Примеры работы с {{ ml-sdk-name }} на [GitHub](https://github.com/yandex-cloud/yandex-cloud-ml-sdk/tree/master/examples/sync/text_embeddings)
* [{#T}](./tuning/index.md)