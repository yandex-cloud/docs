# Изменить группу безопасности и правила

Функция находится на [стадии Preview](../../overview/concepts/launch-stages.md).

После создания облачной сети вы можете изменить ее имя и описание, а также добавить или удалить правила.

Если вы добавили или удалили правила, не нужно перезагружать ВМ. Правила применятся сразу ко всем ресурсам, которым назначена группа.

## Изменить имя и описание {#update-name-and-description}

{% list tabs %}

- Консоль управления

  1. В [консоли управления]({{ link-console-main }}) перейдите в каталог, где требуется изменить группу безопасности.
  1. В списке сервисов выберите **{{ vpc-name }}**.
  1. На панели слева выберите ![image](../../_assets/vpc/security-group.svg) **Группы безопасности**. 
  1. Нажмите значок ![image](../../_assets/options.svg) в строке группы, которую требуется изменить.
  1. В открывшемся меню нажмите кнопку **Редактировать**.
  1. Внесите изменения в имя и описание группы и нажмите кнопку **Сохранить**.

- СLI
  
  Чтобы изменить группу безопасности, выполните команду:

  ```
  yc vpc security-group update <идентификатор группы> --new-name test-sg-renamed
  ```

{% endlist %}

## Добавить новое правило {#add-rule}

{% list tabs %}

- Консоль управления

  1. В [консоли управления]({{ link-console-main }}) перейдите в каталог, где требуется изменить группу безопасности.
  1. В списке сервисов выберите **{{ vpc-name }}**.
  1. На панели слева выберите ![image](../../_assets/vpc/security-group.svg) **Группы безопасности**. 
  1. Выберите группу, которую требуется изменить.
  1. Нажмите значок ![image](../../_assets/options.svg) в строке группы.
  1. В открывшемся меню нажмите кнопку **Редактировать**.
  1. В блоке **Правила** создайте правила для управления трафиком: 
     1. Выберите вкладку **Исходящий трафик** или **Входящий трафик**.
     1. Нажмите кнопку **Добавить правило**.
     1. В открывшемся окне в поле **Диапазон портов** укажите один порт или диапазон портов, куда или откуда будет поступать трафик.
     1. В поле **Протокол** укажите нужный протокол или оставьте **Любой**, чтобы разрешить передачу трафика по всем протоколам.
     1. В поле **Назначение** или **Источник** выберите назначение правила:
        1. **CIDR** — правило будет применено к диапазону IP-адресов. В поле **CIDR блоки** укажите CIDR и маски подсетей, в которые или из которых будет поступать трафик. Чтобы добавить несколько CIDR, нажимайте кнопку **Добавить CIDR**.
        1. **Группа безопасности** — правило будет применено к ВМ из текущей группы или из выбранной группы безопасности. 
  1. Нажмите кнопку **Сохранить**. 

- СLI

  Чтобы добавить новое правило в существующую группу, укажите в команде ее идентификатор или имя и опишите новое правило:

  ```
  yc vpc security-group update-rules --name=test-sg-cli --add-rule "direction=ingress,port=443,protocol=tcp,v4-cidrs=[10.0.0.0/24,10.10.0.0/24]"
  ```

{% endlist %}

## Удалить правило {#remove-rule}

{% list tabs %}

- Консоль управления

  1. В [консоли управления]({{ link-console-main }}) перейдите в каталог, где требуется изменить группу безопасности.
  1. В списке сервисов выберите **{{ vpc-name }}**.
  1. На панели слева выберите ![image](../../_assets/vpc/security-group.svg) **Группы безопасности**. 
  1. Выберите группу, которую требуется изменить.
  1. В блоке **Правила** нажмите значок ![image](../../_assets/options.svg) в строке правила, которое требуется удалить.
  1. В открывшемся меню нажмите кнопку **Удалить**.
  1. В открывшемся окне нажмите кнопку **Удалить**.

- СLI

  Чтобы удалить правило из группы, укажите в команде его идентификатор:

  ```
  yc vpc security-group update-rules --name=test-sg-cli --delete-rule-id <идентификатор правила>
  ```

{% endlist %}
