---
title: Сервисные подключения в {{ vpc-full-name }}
description: Из статьи вы узнаете, какие сервисные подключения (Private Endpoins) используются в {{ vpc-full-name }}.
keywords:
  - сервисное подключение
  - private endpoint
  - private link
---

# Сервисные подключения в {{ vpc-full-name }}

{% include [vpc-pe-preview](../../_includes/vpc/pe-preview.md) %}

**Сервисное подключение** (Private Endpoint) предоставляет прямую IP-связность между ресурсами внутри {{ vpc-short-name }} и сервисами {{ yandex-cloud }}, которые размещаются за пределами {{ vpc-short-name }}. 

Под прямой IP-связностью здесь понимается доступность таких сервисов [по внутренним IP-адресам {{ vpc-short-name }}](./address.md#internal-addresses) без использования [публичных IP-адресов](address.md#public-addresses).

В качестве примера можно привести сервис [Object Storage](../../storage/). 

## Устройство сервисного подключения {#private-endpoint-architecture}

Логически сервисное подключение можно разделить на две части:

* Клиентская часть (Private Endpoint, PE) — отвечает за представление сервиса в {{ vpc-short-name }}. Реализуется внутри сервиса {{ vpc-short-name }}. Эта общая часть для всех типов сервисных подключений.
* Сервисная часть (Provider) — отвечает за взаимодействие с клиентской частью и реализуется на стороне сервиса. Эта часть уникальна для каждого сервиса и типа сервисного подключения.

У сервисного подключения есть следующие характеристики:

* IP-адрес подключения в {{ vpc-short-name }} из диапазонов CIDR подсетей в сети, для которой создается сервисное подключение.
* Тип подключения — сервис к которому организуется подключение. Список доступных типов сервисных подключений приведен [ниже](#private-endpoint-types).

При создании сервисного подключения в {{ vpc-short-name }} создаются следующие объекты:

1. **Внутренний IP-адрес**, к которому привязывается создаваемое подключение.
1. **DNS-запись A-типа** со специальным FQDN для создаваемого сервисного подключения, например, `storage.pe.yandexcloud.net` в которой будет указан внутренний IP-адрес, выделенный для сервисного подключения.
1. Опционально. При необходимости может быть создана дополнительная DNS-запись A-типа для публичного FQDN сервиса. В ней также будет указан внутренний IP-адрес, выделенный для сервисного подключения.

После того как вы создадите сервисное подключение, все облачные ресурсы, которые будут добавлены в подсети в сети с этим подключением, получат связность с ним через внутренний IP-адрес (1). Для работы с сервисами можно использовать как полное доменное имя (FQDN) (2), так и его часть (3). DNS-записи A-типа (2) и (3) будут создаваться в [сервисной зоне internal](../../dns/concepts/dns-zone.md#service-zones).

Чтобы использовать сервисные подключения за пределами облачной инфраструктуры, вам необходимо обеспечить IP-связность вашей инфраструктуры с {{ yandex-cloud }} с помощью технологий VPN (IPsec, Wireguard и т.д.) или услуги [Cloud Interconnect](../../interconnect/).

{% note info %}

Если вам нужно получить доступ к сервисному подключению через FQDN вне {{ yandex-cloud }}, то на корпоративном DNS-сервере необходимо настроить соответствующие A-записи так, чтобы FQDN сервиса указывал на IP-адрес подключения.

{% endnote %}

## Типы сервисных подключений {#private-endpoint-types}

| Название сервиса (Тип подключения) | FQDN API сервиса |
| --- | --- |
| [{{ objstorage-short-name }}](../../storage/) | {{ s3-storage-host }} |


### Object Storage. Доступ из {{ vpc-short-name }} {#private-endpoint-storage}

Чтобы разрешить доступ к {{ objstorage-short-name }} только из {{ vpc-short-name }} через служебное подключение, необходимо применить следующую политику доступа для бакета:

{% include [policy-scheme-json](../../_includes/vpc/policy-scheme-json.md) %}


## Примеры использования {#examples}

* [{#T}](../tutorials/storage-vpc-access.md)
* [{#T}](../tutorials/vpc-cr-access.md)