# Иерархия ресурсов {{ yandex-cloud }}


Ресурсная модель {{ resmgr-name }} представлена на диаграмме. Этой модели следует большинство сервисов {{ yandex-cloud }}.


![image](../../_assets/YC-resource-model-rus.svg)



Все ресурсы {{ yandex-cloud }} — виртуальные машины, диски, сети и др. — размещаются в [каталогах](#folder). При создании ресурса указывается каталог, в котором он будет создан.

Каждый каталог принадлежит одному облаку. Не существует каталогов вне облака. Нельзя создать каталог внутри другого каталога.

[Облака](#cloud) принадлежат организациям.

Организации не взаимодействуют друг с другом. Ресурсы одной организации не могут взаимодействовать с ресурсами другой организации средствами {{ yandex-cloud }}. Сервис [{{ org-full-name }}](../../organization/index.yaml) управляет организациями.

Внутри организации вы можете настроить доступ к ресурсу на [уровнях](#access-rights-inheritance):

* организация;
* облако;
* каталог;
* отдельный ресурс, если сервис поддерживает разграничение доступа на этом уровне.

По умолчанию новый пользователь-участник организации не имеет доступа к ресурсам в облаках организации. Права доступа ему необходимо выдать явно: назначить роль непосредственно на ресурс или на каталог, облако или организацию этого ресурса.


## Ресурсы {{ resmgr-full-name }} {#rm-resources}


### Облако {#cloud}

_Облако_ — это изолированное пространство, в котором создаются каталоги.

Облака по умолчанию изолированы друг от друга. Для ресурсов, которые поддерживают кросс-облачное взаимодействие, его можно настроить отдельно.


#### Владелец облака {#owner}

При создании облака ему назначается владелец. Владелец облака — это пользователь, которому назначена роль `{{ roles-cloud-owner }}` на это облако.

Владелец может выполнять любые операции с облаком и ресурсами в нем.

Владелец может выдавать доступ к облаку другим пользователям: назначать им [роли](../../iam/concepts/access-control/roles.md) и отзывать их. В том числе владелец может назначить других владельцев облака или отозвать роль владельца у себя.

У облака должен быть хотя бы один владелец. Единственный владелец облака не сможет отозвать эту роль у себя.


#### Участник облака {#member}

Роль `{{ roles-cloud-member }}` не дает прав на выполнение каких-либо операций с ресурсами. Эта роль используется в сочетании с другими ролями.

Подробное описание роли приведено в документации [{{ iam-name }}](../../iam/concepts/access-control/roles.md#member).


#### Публичный доступ к облаку {#public-access}

Облако и любой ресурс в нем можно сделать публичным, [назначив роль системной группе](../../iam/operations/roles/grant.md#access-to-all). Тогда для доступа к ресурсу не требуется быть участником облака, а необходимо только знать идентификатор ресурса. Подробнее о [системных группах](../../iam/concepts/access-control/system-group.md).


### Каталог {#folder}

_Каталог_ — это пространство, в котором создаются и группируются ресурсы {{ yandex-cloud }}.

Как и каталоги в файловой системе, каталоги в {{ yandex-cloud }} упрощают управление ресурсами. Вы можете группировать ресурсы в каталоги по типу ресурса, по проекту, по отделу, который работает с этими ресурсами, или по любому другому признаку.


## Наследование прав доступа {#access-rights-inheritance}

Когда пользователь ([субъект](../../iam/concepts/access-control/index.md#subject)) выполняет какую-либо операцию с ресурсом, сервис {{ iam-short-name }} проверяет права доступа у пользователя на этот ресурс.

Права доступа на ресурсы наследуются:
* Права на организацию распространяются на ресурсы организации:
    * федерации;
    * группы;
    * облака организации.
* Права на облако распространяются на все каталоги внутри облака.
* Права на каталог распространяются на все ресурсы каталога.

>Например, для организации `myorganization` со следующей структурой:
>
>* Облако `mycloud`:
>    * Каталог `robots`:
>        * сервисный аккаунт `Alice`;
>        * сервисный аккаунт `Bob`.
>
> Если пользователю назначить роль `resource-manager.viewer` на организацию, он увидит список всех облаков, каталогов и ресурсов в организации, но не сможет ими управлять.
> Если добавить пользователю роль `{{ roles-editor }}` на облако `mycloud`, он сможет управлять всеми ресурсами облака, включая `Alice` и `Bob`, но дать доступ другому пользователю к ним он не сможет.
> Роль `{{ roles-admin }}` на каталог `robots` позволит пользователю управлять доступом к ко всем ресурсам каталога, включая `Alice` и `Bob`.

На некоторые ресурсы нельзя назначать роль непосредственно, для таких ресурсов роль назначается на каталог, облако или организацию. Например, на данный момент нельзя назначить роль на виртуальную машину. Если пользователь попытается прочитать информацию о виртуальной машине, {{ iam-short-name }} проверит права пользователя на каталог, которому принадлежит эта виртуальная машина. Если права на каталог отсутствуют, то {{ iam-short-name }} проверит права доступа на облако и организацию.

#### См. также {#see-also}

- [{#T}](../operations/cloud/set-access-bindings.md)
- [{#T}](../operations/folder/create.md)
- [{#T}](../operations/folder/set-access-bindings.md)
