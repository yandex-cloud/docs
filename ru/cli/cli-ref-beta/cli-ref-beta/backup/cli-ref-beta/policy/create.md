---
editable: false
noIndex: true
sourcePath: en/_cli-ref-beta/cli-ref-beta/backup/cli-ref-beta/policy/create.md
---

# yc beta backup policy create

Create a new policy.    For detailed information, please see [Creating a backup policy](/docs/backup/operations/policy-vm/create).

#### Command Usage

Syntax: 

`yc beta backup policy create <FOLDER-ID>`

#### Flags

| Flag | Description |
|----|----|
|`-r`,`--request-file`|<b>`string`</b><br/>Path to a request file.|
|`--example-json`|Generates a JSON template of the request.<br/><br/>The template can be customized and used as input for the command.<br/><br/>Usage example:<br/>1. Generate template: yc beta compute instance create --example-json > request.json<br/>2. Edit the template: vim request.json<br/>3. Run with template: yc beta compute instance create -r request.json|
|`--example-yaml`|Generates a YAML template of the request.<br/><br/>The template can be customized and used as input for the command.<br/><br/>Usage example:<br/>1. Generate template: yc beta compute instance create --example-yaml > request.yaml<br/>2. Edit the template: vim request.yaml<br/>3. Run with template: yc beta compute instance create -r request.yaml|
|`--folder-id`|<b>`string`</b><br/>Folder ID.|
|`--name`|<b>`string`</b><br/>Policy name.|
|`--settings`|<b>`shorthand/json`</b><br/><br/>Example:|
|`--settings`|<b>`archive={name=value},`</b><br/>cbt=USE_IF_ENABLED, compression=NORMAL, fast-backup-enabled=true, file-filters={exclusion-masks=value, inclusion-masks=value}, format=VERSION_11, lvm-snapshotting-enabled=true, multi-volume-snapshotting-enabled=true, performance-window={enabled=true}, pre-post-commands=[{args=value, cmd=value, enabled=true, stop-on-error=true, type=PRE_COMMAND, wait=true, workdir=value}], preserve-file-security-settings=true, quiesce-snapshotting-enabled=true, reattempts={enabled=true, interval={count=1, type=SECONDS}, max-attempts=1}, retention={before-backup=true, rules=[{backup-set=HOURLY, condition={max-age={count=1, type=SECONDS}}}]}, scheduling={backup-sets=[{setting={since-last-exec-time={delay={count=1, type=SECONDS}}}, type=TYPE_AUTO}], enabled=true, max-parallel-backups=1, rand-max-delay={count=1, type=SECONDS}, scheme=SIMPLE, task-failure={enabled=true, interval={count=1, type=SECONDS}, max-attempts=1}, weekly-backup-day=MONDAY}, sector-by-sector=true, silent-mode-enabled=true, splitting={size=1}, validation-enabled=true, vm-snapshot-reattempts={enabled=true, interval={count=1, type=SECONDS}, max-attempts=1}, vss={enabled=true, provider=NATIVE}<br/><br/>Shorthand Syntax:<br/>{archive={name=str}, cbt=USE_IF_ENABLED\|ENABLE_AND_USE\|DO_NOT_USE, compression=NORMAL\|HIGH\|MAX\|OFF, fast-backup-enabled=bool, file-filters={exclusion-masks=str,..., inclusion-masks=str,...}, format=VERSION_11\|VERSION_12\|AUTO, lvm-snapshotting-enabled=bool, multi-volume-snapshotting-enabled=bool, performance-window={enabled=bool}, pre-post-commands=[{args=str, cmd=str, enabled=bool, stop-on-error=bool, type=PRE_COMMAND\|POST_COMMAND\|PRE_DATA_COMMAND\|POST_DATA_COMMAND, wait=bool, workdir=str},...], preserve-file-security-settings=bool, quiesce-snapshotting-enabled=bool, reattempts={enabled=bool, interval={count=int, type=SECONDS\|MINUTES\|HOURS\|DAYS\|WEEKS\|MONTHS}, max-attempts=int}, retention={before-backup=bool, rules=[{backup-set=HOURLY\|DAILY\|WEEKLY\|MONTHLY,..., condition={max-age={count=int, type=SECONDS\|MINUTES\|HOURS\|DAYS\|WEEKS\|MONTHS} \| max-count=int}},...]}, scheduling={backup-sets=[{setting={since-last-exec-time={delay={count=int, type=SECONDS\|MINUTES\|HOURS\|DAYS\|WEEKS\|MONTHS}} \| time={include-last-day-of-month=bool, monthdays=int,..., months=int,..., repeat-at=[{hour=int, minute=int},...], repeat-every={count=int, type=SECONDS\|MINUTES\|HOURS\|DAYS\|WEEKS\|MONTHS}, run-later=bool, time-from={hour=int, minute=int}, time-to={hour=int, minute=int}, type=HOURLY\|DAILY\|WEEKLY\|MONTHLY, weekdays=MONDAY\|TUESDAY\|WEDNESDAY\|THURSDAY\|FRIDAY\|SATURDAY\|SUNDAY,...}}, type=TYPE_AUTO\|TYPE_FULL\|TYPE_INCREMENTAL\|TYPE_DIFFERENTIAL},...], enabled=bool, max-parallel-backups=int, rand-max-delay={count=int, type=SECONDS\|MINUTES\|HOURS\|DAYS\|WEEKS\|MONTHS}, scheme=SIMPLE\|ALWAYS_FULL\|ALWAYS_INCREMENTAL\|WEEKLY_INCREMENTAL\|WEEKLY_FULL_DAILY_INCREMENTAL\|CUSTOM\|CDP, task-failure={enabled=bool, interval={count=int, type=SECONDS\|MINUTES\|HOURS\|DAYS\|WEEKS\|MONTHS}, max-attempts=int}, weekly-backup-day=MONDAY\|TUESDAY\|WEDNESDAY\|THURSDAY\|FRIDAY\|SATURDAY\|SUNDAY}, sector-by-sector=bool, silent-mode-enabled=bool, splitting={size=int}, validation-enabled=bool, vm-snapshot-reattempts={enabled=bool, interval={count=int, type=SECONDS\|MINUTES\|HOURS\|DAYS\|WEEKS\|MONTHS}, max-attempts=int}, vss={enabled=bool, provider=NATIVE\|TARGET_SYSTEM_DEFINED}}<br/>Fields:<br/>archive                            struct                                                    — The archive properties.<br/>name  string  — The name of the generated archive. The name may use the following variables: '[Machine Name]', '[Plan ID]', '[Plan Name]', '[Unique ID]', '[Virtualization Server Type]'.<br/>Default value: '[Machine Name]-[Plan ID]-[Unique ID]A'.<br/>cbt                                enum<DO_NOT_USE\|ENABLE_AND_USE\|USE_IF_ENABLED>  required  — A configuration of Changed Block Tracking (CBT).<br/>compression                        enum<HIGH\|MAX\|NORMAL\|OFF>                       required  — Archive compression level.<br/>fast-backup-enabled                bool                                                      — If true, determines whether a file has changed by the file size and timestamp. Otherwise, the entire file contents are compared to those stored in the backup.<br/>file-filters                       struct                                                    — File filters to specify masks of files to backup or to exclude of backuping<br/>exclusion-masks  []string  — Do not backup files that match the following criteria<br/>inclusion-masks  []string  — Backup only files that match the following criteria<br/>format                             enum<AUTO\|VERSION_11\|VERSION_12>                required  — Format of the Acronis backup archive.<br/>lvm-snapshotting-enabled           bool                                                      — LVM will be used to create the volume snapshot.<br/>If LVM fails to create a snapshot (for example, because there is not enough free space),<br/>the software will create the snapshot itself.<br/>multi-volume-snapshotting-enabled  bool                                                      — If true, snapshots of multiple volumes will be taken simultaneously.<br/>performance-window                 struct                                          required  — Time windows for performance limitations of backup and storage maintenance operations.<br/>enabled  bool  — If true, the time windows will be enabled.<br/>pre-post-commands                  []struct                                                  — Commands to launch before or after backup execution<br/>args           string                                                             — Command args<br/>cmd            string                                                             — Command to execute<br/>enabled        bool                                                               — Is command enabled<br/>stop-on-error  bool                                                               — Stop backup execution on error<br/>type           enum<POST_COMMAND\|POST_DATA_COMMAND\|PRE_COMMAND\|PRE_DATA_COMMAND>  — Type of command: pre or post<br/>wait           bool                                                               — Wait command finish before launching backup<br/>workdir        string                                                             — Workdir for command execution<br/>preserve-file-security-settings    bool                                                      — If true, the file security settings will be preserved.<br/>Deprecated.<br/>quiesce-snapshotting-enabled       bool                                                      — If true, a quiesced snapshot of the virtual machine will be taken.<br/>Deprecated.<br/>reattempts                         struct                                          required  — Configuration of retries on recoverable errors during the backup operations like reconnection to destination. No attempts to fix recoverable errors will be made if retry configuration is not set.<br/>enabled       bool              — If true, enables retry on errors.<br/>interval      struct  required  — An interval between retry attempts.<br/>count  int                                                      — The amount of value specified in 'Interval.Type'.<br/>type   enum<DAYS\|HOURS\|MINUTES\|MONTHS\|SECONDS\|WEEKS>  required  — A type of the interval.<br/>max-attempts  int               — Max number of retry attempts. Operation will be considered as failed<br/>when max number of retry attempts is reached.<br/>retention                          struct                                          required  — Configuration of backup retention rules.<br/>before-backup  bool      — If true, retention rules will be applied before backup is finished.<br/>rules          []struct  — A list of retention rules.<br/>backup-set  []int                     — A list of backup sets where rules are effective.<br/>condition   oneof<max-age\|max-count>  — Oneof condition field<br/>max-age    struct  —<br/>count  int                                                      — The amount of value specified in 'Interval.Type'.<br/>type   enum<DAYS\|HOURS\|MINUTES\|MONTHS\|SECONDS\|WEEKS>  required  — A type of the interval.<br/>max-count  int     —<br/>scheduling                         struct                                          required  — Configuration of the backup schedule.<br/>backup-sets           []struct                                                                                                           — A list of schedules with backup sets that compose the whole scheme.<br/>type     enum<TYPE_AUTO\|TYPE_DIFFERENTIAL\|TYPE_FULL\|TYPE_INCREMENTAL>  — BackupSet type -- one of incr, full, differential or auto.<br/>if custom scheme is used the BackupSet type should be specified<br/>setting  oneof<since-last-exec-time\|time>                              — Oneof setting field<br/>time                  struct  —<br/>include-last-day-of-month  bool                                         — If set to true, last day of month will activate<br/>the policy.<br/>monthdays                  []int                                        — Days in a month to perform a backup.<br/>Allowed values are from 1 to 31.<br/>months                     []int                                        — Set of values. Allowed values form 1 to 12.<br/>repeat-at                  []struct                                     — Time to repeat the backup.<br/>hour    int  — Hours.<br/>minute  int  — Minutes.<br/>repeat-every               struct                                       — Frequency of backup repetition.<br/>count  int                                                      — The amount of value specified in 'Interval.Type'.<br/>type   enum<DAYS\|HOURS\|MINUTES\|MONTHS\|SECONDS\|WEEKS>  required  — A type of the interval.<br/>run-later                  bool                                         — If the machine is off, launch missed tasks on boot up.<br/>time-from                  struct                                       — The start time of the backup time interval.<br/>hour    int  — Hours.<br/>minute  int  — Minutes.<br/>time-to                    struct                                       — The end time of the backup time interval.<br/>hour    int  — Hours.<br/>minute  int  — Minutes.<br/>type                       enum<DAILY\|HOURLY\|MONTHLY\|WEEKLY>  required  — Possible types: 'REPEATE_PERIOD_UNSPECIFIED', 'HOURLY', 'DAILY', 'WEEKLY', 'MONTHLY'.<br/>weekdays                   []int                                        — Days in a week to perform a backup.<br/>since-last-exec-time  struct  —<br/>delay  struct  required  — The interval between backups.<br/>count  int                                                      — The amount of value specified in 'Interval.Type'.<br/>type   enum<DAYS\|HOURS\|MINUTES\|MONTHS\|SECONDS\|WEEKS>  required  — A type of the interval.<br/>enabled               bool                                                                                                               — If true, the backup schedule will be enabled.<br/>max-parallel-backups  int                                                                                                                — Max number of backup processes allowed to run in parallel. Unlimited if not set.<br/>rand-max-delay        struct                                                                                                   required  — Configuration of the random delay between the execution of parallel tasks.<br/>count  int                                                      — The amount of value specified in 'Interval.Type'.<br/>type   enum<DAYS\|HOURS\|MINUTES\|MONTHS\|SECONDS\|WEEKS>  required  — A type of the interval.<br/>scheme                enum<ALWAYS_FULL\|ALWAYS_INCREMENTAL\|CDP\|CUSTOM\|SIMPLE\|WEEKLY_FULL_DAILY_INCREMENTAL\|WEEKLY_INCREMENTAL>  required  — A backup scheme. Available values: 'simple', 'always_full', 'always_incremental', 'weekly_incremental', 'weekly_full_daily_incremental', 'custom', 'cdp'.<br/>task-failure          struct                                                                                                             — Task failure settings in case of failure of scheduled task, not applicable to  manually launched tasks<br/>enabled       bool              — If true, enables retry on errors.<br/>interval      struct  required  — An interval between retry attempts.<br/>count  int                                                      — The amount of value specified in 'Interval.Type'.<br/>type   enum<DAYS\|HOURS\|MINUTES\|MONTHS\|SECONDS\|WEEKS>  required  — A type of the interval.<br/>max-attempts  int               — Max number of retry attempts. Operation will be considered as failed<br/>when max number of retry attempts is reached.<br/>weekly-backup-day     enum<FRIDAY\|MONDAY\|SATURDAY\|SUNDAY\|THURSDAY\|TUESDAY\|WEDNESDAY>                                           required  — A day of week to start weekly backups.<br/>sector-by-sector                   bool                                                      — A sector-by-sector backup of a disk or volume creates a backup copy of all sectors of the disk or volume,<br/>including those that do not contain data.<br/>Therefore, the size of such a backup copy will be equal to the size of the original disk or volume.<br/>This method can be used to back up a disk or volume with an unsupported file system.<br/>silent-mode-enabled                bool                                                      — If true, a user interaction will be avoided when possible. Equals to false if value is not specified.<br/>splitting                          struct                                          required  — Determines the size to split backups on. Splitting is not performed if value is not specified.<br/>size  int  — The size of split backup file in bytes.<br/>validation-enabled                 bool                                                      — Validation is a time-consuming process, even with incremental or differential backups of small amounts of data.<br/>This is because not only the data physically contained in the backup copy is verified,<br/>but all data restored when it is selected.<br/>This option requires access to previously created backup copies.<br/>vm-snapshot-reattempts             struct                                          required  — Configuration of retries on errors during the creation of the virtual machine snapshot. No attempts to fix recoverable errors will be made if retry configuration is not set.<br/>enabled       bool              — If true, enables retry on errors.<br/>interval      struct  required  — An interval between retry attempts.<br/>count  int                                                      — The amount of value specified in 'Interval.Type'.<br/>type   enum<DAYS\|HOURS\|MINUTES\|MONTHS\|SECONDS\|WEEKS>  required  — A type of the interval.<br/>max-attempts  int               — Max number of retry attempts. Operation will be considered as failed<br/>when max number of retry attempts is reached.<br/>vss                                struct                                          required  — Settings for the Volume Shadow Copy Service (VSS) provider. If not set, no VSS provider is used.<br/>enabled   bool                                          — If true, the VSS will be enabled.<br/>provider  enum<NATIVE\|TARGET_SYSTEM_DEFINED>  required  — A type of VSS provider to use in backup.<br/>|
|`--async`|Display information about the operation in progress, without waiting for the operation to complete.|

#### Global Flags

| Flag | Description |
|----|----|
|`--profile`|<b>`string`</b><br/>Set the custom profile.|
|`--region`|<b>`string`</b><br/>Set the region.|
|`--debug`|Debug logging.|
|`--debug-grpc`|Debug gRPC logging. Very verbose, used for debugging connection problems.|
|`--no-user-output`|Disable printing user intended output to stderr.|
|`--pager`|<b>`string`</b><br/>Set the custom pager.|
|`--format`|<b>`string`</b><br/>Set the output format: text, yaml, json, table, json-rest.|
|`--retry`|<b>`int`</b><br/>Enable gRPC retries. By default, retries are enabled with maximum 5 attempts.<br/>Pass 0 to disable retries. Pass any negative value for infinite retries.<br/>Even infinite retries are capped with 2 minutes timeout.|
|`--timeout`|<b>`string`</b><br/>Set the timeout.|
|`--token`|<b>`string`</b><br/>Set the IAM token to use.|
|`--impersonate-service-account-id`|<b>`string`</b><br/>Set the ID of the service account to impersonate.|
|`--no-browser`|Disable opening browser for authentication.|
|`--query`|<b>`string`</b><br/>Query to select values from the response using jq syntax|
|`-h`,`--help`|Display help for the command.|
