# Публичное соединение

Публичное соединение (public connection) обеспечивает доступ к [сервисам](#svc-list) {{ yandex-cloud }}. Публичное соединение организуется внутри [транка](./trunk.md) и имеет свой идентификатор — **VLAN-ID**. В транке может быть одно или несколько публичных соединений, через которые можно предоставить доступ к любой комбинации [сервисов](#svc-list).

Максимальный размер IP MTU для публичного соединения — **1500 байт**. Изменение IP MTU со стороны оборудования {{ yandex-cloud }} не допускается.


## Список сервисов {#svc-list}

У каждого сервиса в {{ yandex-cloud }} есть своя точка входа — `API Endpoint`. Ознакомиться со списком точек входа сервисов {{ yandex-cloud }} можно по [ссылке](https://{{ api-host }}/endpoints). У каждой точки входа есть свой идентификатор и адрес, который состоит из `FQDN API Endpoint` и номера порта на который этот сервис получает запросы.

Список сервисов {{ yandex-cloud }}, к которым предоставляется доступ через публичное соединение:

{% include [svc-list](../../_includes/interconnect/svc-list.md) %}

Фактически, публичное соединение обеспечивает связность между вашей инфраструктурой и IP-адресом, в который преобразуется `FQDN API Endpoint` соответствующего сервиса. Преобразование FQDN имени в IP-адрес выполняется через службу [DNS](../../glossary/dns.md).

Например, если вы хотите получить доступ из своей инфраструктуры в сервис [{{ objstorage-name }}](../../storage/) через сервисное соединение, то со стороны оборудования {{ yandex-cloud }} в направлении вашего маршрутизатора по протоколу BGP будет анонсироваться префикс `{{ cic-pbc-svc1-ip }}`, который соответствует FQDN API Endpoint `{{ s3-storage-host }}` для сервиса [{{ objstorage-name }}](../../storage/).

Вам необходимо настроить маршрутизацию трафика в собственной инфраструктуре таким образом, чтобы трафик к [сервисам](#svc-list) {{ yandex-cloud }} направлялся к устройствам, выполняющим [функции NAT](#pub-nat) для публичного соединения.


## Стыковая подсеть {#pub-address}

Публичное соединение организуется с использованием публичных IPv4-адресов, принадлежащих клиенту. В отдельных случаях допускается использование IPv4-адресов из [адресного пула](../../vpc/concepts/ips.md) {{ yandex-cloud }}. При организации публичного соединения с адресами из адресного пула {{ yandex-cloud }} вам выделяется **стыковая подсеть** (point-to-point) размером `/31`.

{% note alert %}

[Cервисы](#svc-list), к которым предоставляется доступ через публичное соединение, размещаются [в собственных ДЦ](../../overview/concepts/geo-scope.md). Трафик внутри публичного соединения между вашей инфраструктурой и [сервисами](#svc-list) не покидает периметр {{ yandex-cloud }}.

{% endnote %}

{% include [bgp](../../_includes/interconnect/bgp.md) %}


## Функции NAT {#pub-nat}

При использовании IPv4 адресов, предоставленных {{ yandex-cloud }} для организации публичного соединения, необходимо использовать технологию трансляции сетевых адресов [NAT](https://ru.wikipedia.org/wiki/NAT) на стороне вашего оборудования, чтобы трафик мог корректно маршрутизироваться к сервисам {{ yandex-cloud }}. Допускаются следующие варианты реализации NAT:

* NAT-функция выполняется на вашем оборудовании (маршрутизаторе), к которому подключается публичное соединение. Весь трафик публичного соединения отправляется от IPv4-адреса на интерфейсе маршрутизатора в [стыковой подсети](#pub-address). В этом случае, ваш маршрутизатор, к которому подключается публичное соединение, должен будет анонсировать префикс стыковой подсети по протоколу BGP в сторону оборудования {{ yandex-cloud }}.

* NAT-функция выполняется на вашем оборудовании, которое не используется для подключения публичного соединения, например сервере или межсетевом экране. В данном случае со стороны {{ yandex-cloud }} дополнительно выделяется сервисный IPv4-адрес (/32 префикс), и ваш маршрутизатор, к которому подключается публичное соединение, должен будет анонсировать этот префикс по протоколу BGP в сторону оборудования {{ yandex-cloud }}.
