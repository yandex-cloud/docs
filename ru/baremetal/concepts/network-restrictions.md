# Ограничения в сетях {{ baremetal-name }}

В сетях {{ baremetal-name }} действует ряд ограничений.

## MAC-адреса {#mac-addresses}

Вид ограничения | Количество
--- | ---
MAC-адресов на один порт | 5

Ограничение на количество MAC-адресов задается отдельно для сетевого интерфейса каждого сервера. Если вам требуется большее количество MAC-адресов, создайте обращение в [службу технической поддержки]({{ link-console-support }}), указав в нем сервера, для которых требуется увеличить лимит.

{% cut "Шаблон обращения" %}

```text
Тема: [BareMetal] Изменение лимитов на количество MAC-адресов

Текст обращения:
Прошу изменить лимит на количество MAC-адресов для следующих серверов.

servers:
  - id: "ly5ckajdi38d********"
    mac_addresses: ["aa:bb:cc:dd:ee:ff"]
  - id: "ly5fy37fir9s********"
    mac_addresses: ["aa:bb:cc:dd:ee:fd", "aa:bb:cc:dd:ee:fc"]
mac_limit: 10
```

{% endcut %}

{% note info %}

На сетевых портах со скоростью соединения 1 Гбит/с увеличить количество MAC-адресов сверх установленного лимита невозможно.

{% endnote %}

## MTU и MSS {#mtu-mss}

В сервисе действуют следующие ограничения MTU и MSS:

Вид ограничения | Значение, байт
--- | ---
MTU в публичной сети | 1500
MSS в публичной сети | 1460
MTU в приватной сети | 8910
MSS в приватной сети | 8870

## Полоса пропускания {#bandwidth}

### Модель потребления трафика в публичной сети {#bandwidth-for-pubic-network}

{% include [public-net-bandwidth-restrictions](../../_includes/baremetal/public-net-bandwidth-restrictions.md) %}

{% note info %}

Чтобы запросить пакет данных на 100 ТБ, обратитесь в [техническую поддержку]({{ link-console-support }}).

{% endnote %}

Для увеличения объема доступно подключение пакета потребления с ежедневной тарификацией:

Объем данных, ТБ в сутки | Емкость подключения, Гбит/с | Примечание
--- | --- | ---
100 | 10 | Подключение пакета возможно только для серверов с сетевыми картами 10 и 25 Гбит/c

[Тарификация увеличения потребления объема данных](../../baremetal/pricing#bandwidth-package).

### Полоса пропускания между Baremetal и VPC {#bandwidth-bm-vpc}

Существует возможность [организовать подключение между {{ baremetal-name }} и {{ vpc-name }}](../tutorials/bm-vrf-and-vpc-interconnect.md) внутри одного региона.

В данном подключении для каждого пользователя по умолчанию действует ограничение полосы пропускания в 10 Гбит/с, независимо от количества серверов и типа сетевых карт в них. Если вам требуется более высокая полоса пропускания, обратитесь в [техническую поддержку]({{ link-console-support }}) для изменения.

## Storm Control {#storm-control}

В сервисе действуют следующие ограничения широковещательного трафика:

Вид ограничения | Значение,</br>пакетов/с (pps)
--- | ---
Broadcast | 100
UnknownUnicast | 100
Multicast | 100

## Заблокированные сетевые порты {#blocked-ports}

Маршрутизаторы, обеспечивающие доступ серверов {{ baremetal-name }} в интернет, ограничивают входящий трафик из интернета до публичных адресов серверов на некоторых TCP- и UDP-портах, а также исходящий SMTP-трафик. Блокировка указанных портов позволяет защитить инфраструктуру {{ baremetal-full-name }} от вредоносной сетевой активности.

{% list tabs %}

- Входящий трафик

  **Порт** | **Протокол прикладного уровня** | **Транспортный протокол**
  --- | --- | ---
  `17` | QOTD | TCP, UDP
  `23` | Telnet | TCP
  `67–68` | DHCP | UDP
  `111` | SUNRPC | UDP
  `135–139` | NetBIOS | TCP, UDP
  `389` | LDAP | TCP, UDP
  `427` | SLP | TCP, UDP
  `445` | SMB | TCP, UDP
  `513` | rlogin | TCP
  `520` | RIP | UDP
  `631` | IPP | TCP, UDP
  `646` | LDP | TCP, UDP
  `750` | Kerberos-IV | UDP
  `1900` | SSDP | UDP
  `3702` | WSD | UDP
  `11211` | memcached | UDP

  Если нужный вам порт не указан в таблице, проверьте его доступность со стороны операционной системы сервера {{ baremetal-name }} при помощи [утилиты Nmap](https://ru.wikipedia.org/wiki/Nmap).

- Исходящий трафик

  **Порт** | **Протокол прикладного уровня** | **Транспортный протокол**
  --- | --- | ---
  `25` | SMTP^1^ | TCP

  ^1^ SMTP-трафик заблокирован для предупреждения несанкционированных почтовых рассылок. В качестве альтернативы для почтовых рассылок рекомендуем использовать сервис [{{ postbox-full-name }}](../../postbox/concepts/index.md).

{% endlist %}
