# Агент

_Агент_ — это [виртуальная машина](../../glossary/vm.md), которая предоставляет вычислительные ресурсы для генерации нагрузки на целевое приложение. В качестве нагрузки используются заранее подготовленные тестовые данные — набор запросов, параметров или сценариев.

Обратите внимание, что при генерации нагрузки необходимо следить за системными ресурсами агента — vCPU, памятью, дисками и использованием сети. При исчерпании одного из ресурсов правильная подача нагрузки и точные замеры ответов становятся невозможными. 

{% note info %}

Агенты автоматически очищают место на диске. По умолчанию агент очищает 2 ГБ места. Объемом освобождаемого места можно управлять с помощью параметра `disk_limit` [плагина Resource Check](resource-check.md).

{% endnote %}

На агентах установлен инструмент для нагрузочного тестирования и коннектор для его работы с сервисом {{ load-testing-name }}.

## Производительность агентов {#benchmark}

В сервисе предоставлены три типа агентов:

* **small: vCPU 2, память 2 ГБ, диск 15 ГБ** — в простых сценариях позволяет генерировать нагрузку в более чем 10 000 запросов в секунду как с Phantom, так и с Pandora. Этот тип агента подходит для большинства нагрузочных тестов. Если вам не нужно эмулировать очень большой поток запросов или специальные условия (например, создавать большое количество параллельных соединений), то стоит остановиться на этом типе.
* **medium: vCPU 4, память 4 ГБ, диск 30 ГБ** — позволяет устанавливать больше параллельных соединений и дает возможность генерировать нагрузку в более чем 20 000 запросов в секунду. Подходит для более сложных тестов. Этот тип агента следует выбирать, если мощностей **small** не хватило — за счет большего объема памяти **medium** позволит установить больше соединений или проводить более длинные тесты. 
* **large: vCPU 8, память 8 ГБ, диск 60 ГБ** — генерирует до 40 000 запросов в секунду. Использовать агенты типа **large** нужно в долгих тестах с большим количеством параллельных соединений.

Конкретные показатели нагрузки сильно зависят от конфигурации теста. Например, вы сможете генерировать больше запросов с заголовком `Connection: Keep-Alive`, чем с `Connection: Close`; долгие ответы снизят максимально возможное количество запросов в секунду и т.п.

Если для ваших задач не хватает агента типа **large**, обратитесь [в поддержку](../../support/overview.md).

