---
subcategory: Application Load Balancer (ALB)
page_title: 'Yandex: yandex_alb_virtual_host'
description: Get information about a Yandex ALB Virtual Host.
sourcePath: ru/terraform/tf-ref/yandex-cloud/data-sources/alb_virtual_host.md
---

# yandex_alb_virtual_host (Data Source)

Get information about a Yandex ALB Virtual Host. For more information, see [Yandex Cloud Application Load Balancer](https://yandex.cloud/docs/application-load-balancer/quickstart).

This data source is used to define [Application Load Balancer Virtual Host](https://yandex.cloud/docs/application-load-balancer/concepts/http-router) that can be used by other resources.

~> One of `virtual_host_id` or `name` with `http_router_id` should be specified.

## Example usage

```terraform
//
// Get information about existing ALB Virtual Host
//
data "yandex_alb_virtual_host" "my-vhost" {
  name           = yandex_alb_virtual_host.my-vh.name
  http_router_id = yandex_alb_virtual_host.my-router.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `http_router_id` (String) The ID of the HTTP router to which the virtual host belongs.
- `name` (String) The resource name.
- `virtual_host_id` (String) The ID of a specific Virtual Host. Virtual Host ID is concatenation of HTTP Router ID and Virtual Host name with `/` symbol between them. For Example, `http_router_id/vhost_name`.

### Read-Only

- `authority` (Set of String) A list of domains (host/authority header) that will be matched to this virtual host. Wildcard hosts are supported in the form of '*.foo.com' or '*-bar.foo.com'. If not specified, all domains will be matched.
- `id` (String) The ID of this resource.
- `modify_request_headers` (List of Object) Apply the following modifications to the Request/Response header.

~> Only one type of actions `append` or `replace` or `remove` should be specified. (see [below for nested schema](#nestedatt--modify_request_headers))
- `modify_response_headers` (List of Object) Apply the following modifications to the Request/Response header.

~> Only one type of actions `append` or `replace` or `remove` should be specified. (see [below for nested schema](#nestedatt--modify_response_headers))
- `rate_limit` (List of Object) Rate limit configuration applied for a whole virtual host (see [below for nested schema](#nestedatt--rate_limit))
- `route` (List of Object) A Route resource. Routes are matched *in-order*. Be careful when adding them to the end. For instance, having http '/' match first makes all other routes unused.

~> Exactly one type of routes `http_route` or `grpc_route` should be specified. (see [below for nested schema](#nestedatt--route))
- `route_options` (List of Object) (see [below for nested schema](#nestedatt--route_options))

<a id="nestedatt--modify_request_headers"></a>
### Nested Schema for `modify_request_headers`

Read-Only:

- `append` (String) Append string to the header value.

- `name` (String) Name of the header to modify.

- `remove` (Boolean) If set, remove the header.

- `replace` (String) New value for a header. Header values support the following [formatters](https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/headers#custom-request-response-headers).



<a id="nestedatt--modify_response_headers"></a>
### Nested Schema for `modify_response_headers`

Read-Only:

- `append` (String) Append string to the header value.

- `name` (String) Name of the header to modify.

- `remove` (Boolean) If set, remove the header.

- `replace` (String) New value for a header. Header values support the following [formatters](https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/headers#custom-request-response-headers).



<a id="nestedatt--rate_limit"></a>
### Nested Schema for `rate_limit`

Read-Only:

- `all_requests` (Block List, Max: 1) Rate limit configuration applied to all incoming requests (see [below for nested schema](#nestedobjatt--rate_limit--all_requests))

- `requests_per_ip` (Block List, Max: 1) Rate limit configuration applied separately for each set of requests grouped by client IP address (see [below for nested schema](#nestedobjatt--rate_limit--requests_per_ip))


<a id="nestedobjatt--rate_limit--all_requests"></a>
### Nested Schema for `rate_limit.all_requests`

Read-Only:

- `per_minute` (Number) Limit value specified with per minute time unit

- `per_second` (Number) Limit value specified with per second time unit



<a id="nestedobjatt--rate_limit--requests_per_ip"></a>
### Nested Schema for `rate_limit.requests_per_ip`

Read-Only:

- `per_minute` (Number) Limit value specified with per minute time unit

- `per_second` (Number) Limit value specified with per second time unit




<a id="nestedatt--route"></a>
### Nested Schema for `route`

Read-Only:

- `grpc_route` (Block List, Max: 1) gRPC route resource. (see [below for nested schema](#nestedobjatt--route--grpc_route))

- `http_route` (Block List, Max: 1) HTTP route resource. (see [below for nested schema](#nestedobjatt--route--http_route))

- `name` (String) Name of the route.

- `route_options` (Block List, Max: 1) Route options for the virtual host. (see [below for nested schema](#nestedobjatt--route--route_options))


<a id="nestedobjatt--route--grpc_route"></a>
### Nested Schema for `route.grpc_route`

Read-Only:

- `grpc_match` (Block List) Checks `/` prefix by default. (see [below for nested schema](#nestedobjatt--route--grpc_route--grpc_match))

- `grpc_route_action` (Block List, Max: 1) gRPC route action resource. (see [below for nested schema](#nestedobjatt--route--grpc_route--grpc_route_action))

- `grpc_status_response_action` (Block List, Max: 1) gRPC status response action resource. (see [below for nested schema](#nestedobjatt--route--grpc_route--grpc_status_response_action))


<a id="nestedobjatt--route--grpc_route--grpc_match"></a>
### Nested Schema for `route.grpc_route.grpc_match`

Read-Only:

- `fqmn` (Block List, Max: 1) The `path` and `fqmn` blocks. (see [below for nested schema](#nestedobjatt--route--grpc_route--grpc_match--fqmn))


<a id="nestedobjatt--route--grpc_route--grpc_match--fqmn"></a>
### Nested Schema for `route.grpc_route.grpc_match.fqmn`

Read-Only:

- `exact` (String) Match exactly.

- `prefix` (String) Match prefix.

- `regex` (String) Match regex.




<a id="nestedobjatt--route--grpc_route--grpc_route_action"></a>
### Nested Schema for `route.grpc_route.grpc_route_action`

Read-Only:

- `auto_host_rewrite` (Boolean) If set, will automatically rewrite host.

- `backend_group_id` (String) Backend group to route requests.

- `host_rewrite` (String) Host rewrite specifier.

- `idle_timeout` (String) Specifies the idle timeout (time without any data transfer for the active request) for the route. It is useful for streaming scenarios - one should set idle_timeout to something meaningful and max_timeout to the maximum time the stream is allowed to be alive. If not specified, there is no per-route idle timeout.

- `max_timeout` (String) Lower timeout may be specified by the client (using grpc-timeout header). If not set, default is 60 seconds.

- `rate_limit` (Block List, Max: 1) Rate limit configuration applied for a whole virtual host (see [below for nested schema](#nestedobjatt--route--grpc_route--grpc_route_action--rate_limit))


<a id="nestedobjatt--route--grpc_route--grpc_route_action--rate_limit"></a>
### Nested Schema for `route.grpc_route.grpc_route_action.rate_limit`

Read-Only:

- `all_requests` (Block List, Max: 1) Rate limit configuration applied to all incoming requests (see [below for nested schema](#nestedobjatt--route--grpc_route--grpc_route_action--rate_limit--all_requests))

- `requests_per_ip` (Block List, Max: 1) Rate limit configuration applied separately for each set of requests grouped by client IP address (see [below for nested schema](#nestedobjatt--route--grpc_route--grpc_route_action--rate_limit--requests_per_ip))


<a id="nestedobjatt--route--grpc_route--grpc_route_action--rate_limit--all_requests"></a>
### Nested Schema for `route.grpc_route.grpc_route_action.rate_limit.all_requests`

Read-Only:

- `per_minute` (Number) Limit value specified with per minute time unit

- `per_second` (Number) Limit value specified with per second time unit



<a id="nestedobjatt--route--grpc_route--grpc_route_action--rate_limit--requests_per_ip"></a>
### Nested Schema for `route.grpc_route.grpc_route_action.rate_limit.requests_per_ip`

Read-Only:

- `per_minute` (Number) Limit value specified with per minute time unit

- `per_second` (Number) Limit value specified with per second time unit





<a id="nestedobjatt--route--grpc_route--grpc_status_response_action"></a>
### Nested Schema for `route.grpc_route.grpc_status_response_action`

Read-Only:

- `status` (String) The status of the response. Supported values are: ok, invalid_argumet, not_found, permission_denied, unauthenticated, unimplemented, internal, unavailable.




<a id="nestedobjatt--route--http_route"></a>
### Nested Schema for `route.http_route`

Read-Only:

- `direct_response_action` (Block List, Max: 1) Direct response action resource. (see [below for nested schema](#nestedobjatt--route--http_route--direct_response_action))

- `http_match` (Block List) Checks `/` prefix by default. (see [below for nested schema](#nestedobjatt--route--http_route--http_match))

- `http_route_action` (Block List, Max: 1) HTTP route action resource. (see [below for nested schema](#nestedobjatt--route--http_route--http_route_action))

- `redirect_action` (Block List, Max: 1) Redirect action resource. (see [below for nested schema](#nestedobjatt--route--http_route--redirect_action))


<a id="nestedobjatt--route--http_route--direct_response_action"></a>
### Nested Schema for `route.http_route.direct_response_action`

Read-Only:

- `body` (String) Response body text.

- `status` (Number) HTTP response status. Should be between `100` and `599`.



<a id="nestedobjatt--route--http_route--http_match"></a>
### Nested Schema for `route.http_route.http_match`

Read-Only:

- `http_method` (Set of String) List of methods (strings).

- `path` (Block List, Max: 1) The `path` and `fqmn` blocks. (see [below for nested schema](#nestedobjatt--route--http_route--http_match--path))


<a id="nestedobjatt--route--http_route--http_match--path"></a>
### Nested Schema for `route.http_route.http_match.path`

Read-Only:

- `exact` (String) Match exactly.

- `prefix` (String) Match prefix.

- `regex` (String) Match regex.




<a id="nestedobjatt--route--http_route--http_route_action"></a>
### Nested Schema for `route.http_route.http_route_action`

Read-Only:

- `auto_host_rewrite` (Boolean) If set, will automatically rewrite host.

- `backend_group_id` (String) Backend group to route requests.

- `host_rewrite` (String) Host rewrite specifier.

- `idle_timeout` (String) Specifies the idle timeout (time without any data transfer for the active request) for the route. It is useful for streaming scenarios (i.e. long-polling, server-sent events) - one should set idle_timeout to something meaningful and timeout to the maximum time the stream is allowed to be alive. If not specified, there is no per-route idle timeout.

- `prefix_rewrite` (String) If not empty, matched path prefix will be replaced by this value.

- `rate_limit` (Block List, Max: 1) Rate limit configuration applied for a whole virtual host (see [below for nested schema](#nestedobjatt--route--http_route--http_route_action--rate_limit))

- `regex_rewrite` (Block List, Max: 1) Replacement for path substrings that match the pattern (see [below for nested schema](#nestedobjatt--route--http_route--http_route_action--regex_rewrite))

- `timeout` (String) Specifies the request timeout (overall time request processing is allowed to take) for the route. If not set, default is 60 seconds.

- `upgrade_types` (Set of String) List of upgrade types. Only specified upgrade types will be allowed. For example, `websocket`.


<a id="nestedobjatt--route--http_route--http_route_action--rate_limit"></a>
### Nested Schema for `route.http_route.http_route_action.rate_limit`

Read-Only:

- `all_requests` (Block List, Max: 1) Rate limit configuration applied to all incoming requests (see [below for nested schema](#nestedobjatt--route--http_route--http_route_action--upgrade_types--all_requests))

- `requests_per_ip` (Block List, Max: 1) Rate limit configuration applied separately for each set of requests grouped by client IP address (see [below for nested schema](#nestedobjatt--route--http_route--http_route_action--upgrade_types--requests_per_ip))


<a id="nestedobjatt--route--http_route--http_route_action--upgrade_types--all_requests"></a>
### Nested Schema for `route.http_route.http_route_action.upgrade_types.all_requests`

Read-Only:

- `per_minute` (Number)
- `per_second` (Number)


<a id="nestedobjatt--route--http_route--http_route_action--upgrade_types--requests_per_ip"></a>
### Nested Schema for `route.http_route.http_route_action.upgrade_types.requests_per_ip`

Read-Only:

- `per_minute` (Number)
- `per_second` (Number)



<a id="nestedobjatt--route--http_route--http_route_action--regex_rewrite"></a>
### Nested Schema for `route.http_route.http_route_action.regex_rewrite`

Read-Only:

- `regex` (String) RE2 regular expression

- `substitute` (String) The string which should be used to substitute matched substrings




<a id="nestedobjatt--route--http_route--redirect_action"></a>
### Nested Schema for `route.http_route.redirect_action`

Read-Only:

- `remove_query` (Boolean) If set, remove query part.

- `replace_host` (String) Replaces hostname.

- `replace_path` (String) Replace path.

- `replace_port` (Number) Replaces port.

- `replace_prefix` (String) Replace only matched prefix. Example:<br/> match:{ prefix_match: `/some` } <br/> redirect: { replace_prefix: `/other` } <br/> will redirect `/something` to `/otherthing`.

- `replace_scheme` (String) Replaces scheme. If the original scheme is `http` or `https`, will also remove the 80 or 443 port, if present.

- `response_code` (String) The HTTP status code to use in the redirect response. Supported values are: `moved_permanently`, `found`, `see_other`, `temporary_redirect`, `permanent_redirect`.




<a id="nestedobjatt--route--route_options"></a>
### Nested Schema for `route.route_options`

Read-Only:

- `rbac` (Block List, Max: 1) RBAC configuration. (see [below for nested schema](#nestedobjatt--route--route_options--rbac))

- `security_profile_id` (String) SWS profile ID.


<a id="nestedobjatt--route--route_options--rbac"></a>
### Nested Schema for `route.route_options.rbac`

Read-Only:

- `action` (String)
- `principals` (List of Object) (see [below for nested schema](#nestedobjatt--route--route_options--rbac--principals))

<a id="nestedobjatt--route--route_options--rbac--principals"></a>
### Nested Schema for `route.route_options.rbac.principals`

Read-Only:

- `and_principals` (List of Object) (see [below for nested schema](#nestedobjatt--route--route_options--rbac--principals--and_principals))

<a id="nestedobjatt--route--route_options--rbac--principals--and_principals"></a>
### Nested Schema for `route.route_options.rbac.principals.and_principals`

Read-Only:

- `any` (Boolean)
- `headers` (List of Object) (see [below for nested schema](#nestedobjatt--route--route_options--rbac--principals--and_principals--headers))
- `remote_ip` (String)

<a id="nestedobjatt--route--route_options--rbac--principals--and_principals--headers"></a>
### Nested Schema for `route.route_options.rbac.principals.and_principals.headers`

Read-Only:

- `name` (String)
- `value` (List of Object) (see [below for nested schema](#nestedobjatt--route--route_options--rbac--principals--and_principals--remote_ip--value))

<a id="nestedobjatt--route--route_options--rbac--principals--and_principals--remote_ip--value"></a>
### Nested Schema for `route.route_options.rbac.principals.and_principals.remote_ip.value`

Read-Only:

- `exact` (String)
- `prefix` (String)
- `regex` (String)








<a id="nestedatt--route_options"></a>
### Nested Schema for `route_options`

Read-Only:

- `rbac` (Block List, Max: 1) RBAC configuration. (see [below for nested schema](#nestedobjatt--route_options--rbac))

- `security_profile_id` (String) SWS profile ID.


<a id="nestedobjatt--route_options--rbac"></a>
### Nested Schema for `route_options.rbac`

Read-Only:

- `action` (String)
- `principals` (List of Object) (see [below for nested schema](#nestedobjatt--route_options--rbac--principals))

<a id="nestedobjatt--route_options--rbac--principals"></a>
### Nested Schema for `route_options.rbac.principals`

Read-Only:

- `and_principals` (List of Object) (see [below for nested schema](#nestedobjatt--route_options--rbac--principals--and_principals))

<a id="nestedobjatt--route_options--rbac--principals--and_principals"></a>
### Nested Schema for `route_options.rbac.principals.and_principals`

Read-Only:

- `any` (Boolean)
- `headers` (List of Object) (see [below for nested schema](#nestedobjatt--route_options--rbac--principals--and_principals--headers))
- `remote_ip` (String)

<a id="nestedobjatt--route_options--rbac--principals--and_principals--headers"></a>
### Nested Schema for `route_options.rbac.principals.and_principals.headers`

Read-Only:

- `name` (String)
- `value` (List of Object) (see [below for nested schema](#nestedobjatt--route_options--rbac--principals--and_principals--headers--value))

<a id="nestedobjatt--route_options--rbac--principals--and_principals--headers--value"></a>
### Nested Schema for `route_options.rbac.principals.and_principals.headers.value`

Read-Only:

- `exact` (String)
- `prefix` (String)
- `regex` (String)
