---
subcategory: Serverless Integrations
page_title: 'Yandex: yandex_serverless_eventrouter_rule'
description: Allows management of a Yandex Cloud Serverless Event Router Rule.
---

# yandex_serverless_eventrouter_rule (Resource)

Allows management of a Yandex Cloud Serverless Event Router Rule.



## Example Usage

```terraform
//
// TBD
//
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bus_id` (String) ID of the bus that the rule belongs to
- `name` (String) Name of the rule

### Optional

- `container` (Block List) ContainerTarget (see [below for nested schema](#nestedblock--container))
- `description` (String) Description of the rule
- `function` (Block List) FunctionTarget (see [below for nested schema](#nestedblock--function))
- `gateway_websocket_broadcast` (Block List) GatewayWebsocketBroadcastTarget (see [below for nested schema](#nestedblock--gateway_websocket_broadcast))
- `jq_filter` (String) JQ filter for matching events
- `labels` (Map of String) Rule labels
- `logging` (Block List) LoggingTarget. Includes either log_group_id or folder_id (see [below for nested schema](#nestedblock--logging))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `workflow` (Block List) WorkflowTarget (see [below for nested schema](#nestedblock--workflow))
- `yds` (Block List) YdsTarget (see [below for nested schema](#nestedblock--yds))
- `ymq` (Block List) YmqTarget (see [below for nested schema](#nestedblock--ymq))

### Read-Only

- `cloud_id` (String) ID of the cloud that the rule resides in
- `created_at` (String) Creation timestamp
- `deletion_protection` (Boolean) Deletion protection
- `folder_id` (String) ID of the folder that the rule resides in
- `id` (String) The ID of this resource.

<a id="nestedblock--container"></a>
### Nested Schema for `container`

Required:

- `container_id` (String) Container ID

Optional:

- `batch_settings` (Block List, Max: 1) Batch settings (see [below for nested schema](#nestedblock--container--batch_settings))
- `container_revision_id` (String) Container revision ID
- `path` (String) Endpoint HTTP path to invoke
- `service_account_id` (String) Service account which should be used to call a container

<a id="nestedblock--container--batch_settings"></a>
### Nested Schema for `container.batch_settings`

Required:

- `cutoff` (String) Maximum batch size: rule will send a batch if its lifetime exceeds this value

Optional:

- `max_bytes` (Number) Maximum batch size: rule will send a batch if total size of events exceeds this value
- `max_count` (Number) Maximum batch size: rule will send a batch if number of events exceeds this value



<a id="nestedblock--function"></a>
### Nested Schema for `function`

Required:

- `function_id` (String) Function ID

Optional:

- `batch_settings` (Block List, Max: 1) Batch settings (see [below for nested schema](#nestedblock--function--batch_settings))
- `function_tag` (String) Function tag
- `service_account_id` (String) Service account which has call permission on the function

<a id="nestedblock--function--batch_settings"></a>
### Nested Schema for `function.batch_settings`

Required:

- `cutoff` (String) Maximum batch size: rule will send a batch if its lifetime exceeds this value

Optional:

- `max_bytes` (Number) Maximum batch size: rule will send a batch if total size of events exceeds this value
- `max_count` (Number) Maximum batch size: rule will send a batch if number of events exceeds this value



<a id="nestedblock--gateway_websocket_broadcast"></a>
### Nested Schema for `gateway_websocket_broadcast`

Required:

- `gateway_id` (String) Gateway ID
- `path` (String) Path
- `service_account_id` (String) Service account which has permission for writing to websockets

Optional:

- `batch_settings` (Block List, Max: 1) Batch settings (see [below for nested schema](#nestedblock--gateway_websocket_broadcast--batch_settings))

<a id="nestedblock--gateway_websocket_broadcast--batch_settings"></a>
### Nested Schema for `gateway_websocket_broadcast.batch_settings`

Required:

- `cutoff` (String) Maximum batch size: rule will send a batch if its lifetime exceeds this value

Optional:

- `max_bytes` (Number) Maximum batch size: rule will send a batch if total size of events exceeds this value
- `max_count` (Number) Maximum batch size: rule will send a batch if number of events exceeds this value



<a id="nestedblock--logging"></a>
### Nested Schema for `logging`

Required:

- `service_account_id` (String) Service account which has permission for writing logs

Optional:

- `folder_id` (String) Folder ID
- `log_group_id` (String) Log group ID


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedblock--workflow"></a>
### Nested Schema for `workflow`

Required:

- `service_account_id` (String) Service account which should be used to start workflow
- `workflow_id` (String) Workflow ID

Optional:

- `batch_settings` (Block List, Max: 1) Batch settings (see [below for nested schema](#nestedblock--workflow--batch_settings))

<a id="nestedblock--workflow--batch_settings"></a>
### Nested Schema for `workflow.batch_settings`

Required:

- `cutoff` (String) Maximum batch size: rule will send a batch if its lifetime exceeds this value

Optional:

- `max_bytes` (Number) Maximum batch size: rule will send a batch if total size of events exceeds this value
- `max_count` (Number) Maximum batch size: rule will send a batch if number of events exceeds this value



<a id="nestedblock--yds"></a>
### Nested Schema for `yds`

Required:

- `database` (String) Stream database
- `service_account_id` (String) Service account, which has write permission on the stream
- `stream_name` (String) Full stream name, like /ru-central1/aoegtvhtp8ob********/cc8004q4lbo6********/test


<a id="nestedblock--ymq"></a>
### Nested Schema for `ymq`

Required:

- `queue_arn` (String) Queue ARN. Example: yrn:yc:ymq:ru-central1:aoe***:test
- `service_account_id` (String) Service account which has write access to the queue

## Import

The resource can be imported by using their `resource ID`. For getting the resource ID you can use Yandex Cloud [Web Console](https://console.yandex.cloud) or [YC CLI](https://yandex.cloud/docs/cli/quickstart).

```shell
# terraform import yandex_serverless_eventrouter_rule.<resource Name> <resource Id>
terraform import yandex_serverless_eventrouter_rule.evr_rule ...
```
