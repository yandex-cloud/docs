---
subcategory: Managed YTsaurus
page_title: 'Yandex: yandex_ytsaurus_cluster'
description: Allows management of a YTsaurus cluster.
sourcePath: en/terraform/tf-ref/yandex-cloud/resources/ytsaurus_cluster.md
---

# yandex_ytsaurus_cluster (Resource)



## Example usage

```terraform
//
// Create a new YTsaurus cluster
//
resource "yandex_ytsaurus_cluster" "my_cluster" {
  name = "my-cluster"
  description = "my_cluster description"

  zone_id			 = "ru-central1-a"
  subnet_id			 = "my_subnet_id"
  security_group_ids = ["my_security_group_id"]

  spec = {
	storage = {
	  hdd = {
	  	size_gb = 100
		count 	= 3
	  }

	  ssd = {
	  	size_gb = 100
		type 	= "network-ssd"
		count 	= 3
	  }
	}

	compute = [{
	  preset = "c8-m32"
	  disks = [{
	  	type 	= "network-ssd"
		size_gb = 50
	  }]
	  scale_policy = {
	  	fixed = {
		  size = 3
		}
	  }
	}]

	tablet = {
      preset = "c8-m16"
	  count = 3
	}

	proxy = {
	  http = {
	  	count = 1
	  }
      
	  rpc = {
	  	count = 1
	  }
	}
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `subnet_id` (String) ID of the subnet where the cluster resides.
- `zone_id` (String) ID of the availability zone where the cluster resides.

### Optional

- `cidr_blocks_whitelist` (Attributes) CIDRs whitelist. (see [below for nested schema](#nestedatt--cidr_blocks_whitelist))
- `cluster_id` (String) ID of the cluster to return.
- `description` (String) Description of the cluster.
- `folder_id` (String) ID of the folder that the cluster belongs to.
- `id` (String) ID of the cluster to return.
- `labels` (Map of String) Cluster labels as `key:value` pairs.
- `name` (String) Name of the cluster.
 The name is unique within the folder.
- `security_group_ids` (List of String) Network interfaces security groups.
- `spec` (Attributes) Cluster specification. (see [below for nested schema](#nestedatt--spec))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))

### Read-Only

- `created_at` (String) Time when the cluster was created.
- `created_by` (String) User who created the cluster.
- `endpoints` (Attributes) Endpoints of the cluster. (see [below for nested schema](#nestedatt--endpoints))
- `health` (String) Health of the cluster.
- `status` (String) Status of the cluster.
- `updated_at` (String) Time when the cluster was last updated.
- `updated_by` (String) User who last updated the cluster.

<a id="nestedatt--cidr_blocks_whitelist"></a>
### Nested Schema for `cidr_blocks_whitelist`

Optional:

- `v4_cidr_blocks` (List of String) IPv4 CIDR blocks.


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Optional:

- `client_logging` (Attributes) Client Cloud logging configuration. (see [below for nested schema](#nestedatt--spec--client_logging))
- `compute` (Attributes List) Cluster exec nodes configuration. (see [below for nested schema](#nestedatt--spec--compute))
- `cron` (Attributes) Cluster regular processing settings. (see [below for nested schema](#nestedatt--spec--cron))
- `flavor` (String) Cluster flavor (type).
- `odin` (Attributes) Odin configuration. (see [below for nested schema](#nestedatt--spec--odin))
- `proxy` (Attributes) Cluster proxies configuration. (see [below for nested schema](#nestedatt--spec--proxy))
- `storage` (Attributes) Cluster storage configuration. (see [below for nested schema](#nestedatt--spec--storage))
- `tablet` (Attributes) Cluster tablet nodes configuration. (see [below for nested schema](#nestedatt--spec--tablet))

<a id="nestedatt--spec--client_logging"></a>
### Nested Schema for `spec.client_logging`

Optional:

- `audit_logs_enabled` (Boolean) Enable audit logs.
- `folder_id` (String) ID of cloud logging folder. Used default loging group.
- `log_group_id` (String) ID of cloud logging group.
- `service_account_id` (String) ID of Service account used for write logs.


<a id="nestedatt--spec--compute"></a>
### Nested Schema for `spec.compute`

Optional:

- `disks` (Attributes List) Configuration of exec node strorage. (see [below for nested schema](#nestedatt--spec--compute--disks))
- `name` (String) Name for exec pool.
- `preset` (String) VM configuration preset name.
- `scale_policy` (Attributes) Exec nodes scaling policy. (see [below for nested schema](#nestedatt--spec--compute--scale_policy))

<a id="nestedatt--spec--compute--disks"></a>
### Nested Schema for `spec.compute.disks`

Optional:

- `locations` (List of String) Locations on a disk.
- `size_gb` (Number) Size of a single disk in GB.
- `type` (String) Type of a disk.


<a id="nestedatt--spec--compute--scale_policy"></a>
### Nested Schema for `spec.compute.scale_policy`

Optional:

- `auto` (Attributes) Scale policy that can adjust number of running exec nodes within specified range based on some criteria. (see [below for nested schema](#nestedatt--spec--compute--scale_policy--auto))
- `fixed` (Attributes) Scale policy that doesn't change number of running exec nodes over time. (see [below for nested schema](#nestedatt--spec--compute--scale_policy--fixed))

<a id="nestedatt--spec--compute--scale_policy--auto"></a>
### Nested Schema for `spec.compute.scale_policy.auto`

Optional:

- `max_size` (Number) package: yandex.cloud.ytsaurus.v1
filename: yandex/cloud/ytsaurus/v1/cluster.proto
- `min_size` (Number) package: yandex.cloud.ytsaurus.v1
filename: yandex/cloud/ytsaurus/v1/cluster.proto


<a id="nestedatt--spec--compute--scale_policy--fixed"></a>
### Nested Schema for `spec.compute.scale_policy.fixed`

Optional:

- `size` (Number) package: yandex.cloud.ytsaurus.v1
filename: yandex/cloud/ytsaurus/v1/cluster.proto




<a id="nestedatt--spec--cron"></a>
### Nested Schema for `spec.cron`

Optional:

- `clear_tmp` (Attributes) Cluster regular tmp-account cleaning settings. (see [below for nested schema](#nestedatt--spec--cron--clear_tmp))

<a id="nestedatt--spec--cron--clear_tmp"></a>
### Nested Schema for `spec.cron.clear_tmp`

Optional:

- `account_usage_ratio_save_per_owner` (Number) Per account max space usage ratio.
- `account_usage_ratio_save_total` (Number) Total max space usage ratio.
- `interval` (String) Script starting interval.
- `max_dir_node_count` (Number) Max nodes in every directory.



<a id="nestedatt--spec--odin"></a>
### Nested Schema for `spec.odin`

Optional:

- `checks_ttl` (String) TTL of Odin check samples.


<a id="nestedatt--spec--proxy"></a>
### Nested Schema for `spec.proxy`

Optional:

- `http` (Attributes) Configuration of HTTP proxies. (see [below for nested schema](#nestedatt--spec--proxy--http))
- `rpc` (Attributes) Configuration of rpc proxies. (see [below for nested schema](#nestedatt--spec--proxy--rpc))

<a id="nestedatt--spec--proxy--http"></a>
### Nested Schema for `spec.proxy.http`

Optional:

- `count` (Number) Total amount of HTTP proxies.


<a id="nestedatt--spec--proxy--rpc"></a>
### Nested Schema for `spec.proxy.rpc`

Optional:

- `count` (Number) Total amount of RPC proxies.



<a id="nestedatt--spec--storage"></a>
### Nested Schema for `spec.storage`

Optional:

- `hdd` (Attributes) Configuration of cluster HDD strorage. (see [below for nested schema](#nestedatt--spec--storage--hdd))
- `ssd` (Attributes) Configuration of cluster SSD strorage (see [below for nested schema](#nestedatt--spec--storage--ssd))

<a id="nestedatt--spec--storage--hdd"></a>
### Nested Schema for `spec.storage.hdd`

Optional:

- `count` (Number) Total amount of HDD disks.
- `size_gb` (Number) Size of a single HDD disk in GB.


<a id="nestedatt--spec--storage--ssd"></a>
### Nested Schema for `spec.storage.ssd`

Optional:

- `changelogs` (Attributes) Configuration of dynamic table changelogs. (see [below for nested schema](#nestedatt--spec--storage--ssd--changelogs))
- `count` (Number) Total amount of SSD disks.
- `size_gb` (Number) Size of a single SSD disk in GB.
- `type` (String) Type of a SSD disk.

<a id="nestedatt--spec--storage--ssd--changelogs"></a>
### Nested Schema for `spec.storage.ssd.changelogs`

Optional:

- `size_gb` (Number) package: yandex.cloud.ytsaurus.v1
filename: yandex/cloud/ytsaurus/v1/cluster.proto




<a id="nestedatt--spec--tablet"></a>
### Nested Schema for `spec.tablet`

Optional:

- `count` (Number) Total amount of tablet nodes.
- `preset` (String) VM configuration preset name.



<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--endpoints"></a>
### Nested Schema for `endpoints`

Read-Only:

- `external_http_proxy_balancer` (String) package: yandex.cloud.ytsaurus.v1
filename: yandex/cloud/ytsaurus/v1/cluster.proto
- `internal_http_proxy_alias` (String) package: yandex.cloud.ytsaurus.v1
filename: yandex/cloud/ytsaurus/v1/cluster.proto
- `internal_rpc_proxy_alias` (String) package: yandex.cloud.ytsaurus.v1
filename: yandex/cloud/ytsaurus/v1/cluster.proto
- `ui` (String) package: yandex.cloud.ytsaurus.v1
filename: yandex/cloud/ytsaurus/v1/cluster.proto

## Import

The resource can be imported by using their `resource ID`. For getting the resource ID you can use Yandex Cloud [Web Console](https://console.yandex.cloud) or [YC CLI](https://yandex.cloud/docs/cli/quickstart).

```bash
terraform import yandex_ytsaurus_cluster.my_cluster some_cluster_id
```