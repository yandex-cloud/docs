# Правила тарификации для {{ yds-full-name }}

В сервисе {{ yds-name }} существуют два режима тарификации:

* [По выделенным ресурсам](#rules) — оплачивается фиксированная почасовая ставка за установленный лимит пропускной способности и срок хранения сообщений, а также дополнительно количество единиц фактически записанных данных.
* [По фактическому использованию](#on-demand) (On-demand) — оплачиваются выполненные операции записи и чтения данных, объем считанных/записанных данных, а также объем фактически используемого хранилища для сообщений, по которым не истек срок хранения.

Режим тарификации устанавливается для каждого потока данных по-отдельности. По умолчанию потоки данные в {{ yds-name }} создаются в режиме тарификации по выделенным ресурсам.

## Тарификация по выделенным ресурсам {#rules}

В режиме работы по выделенным ресурсам тарифицируется количество единиц записываемых данных и ресурсы, выделенные для обслуживания потоков данных.

При тарификации выделенных ресурсов учитывается лимит предоставленной пропускной способности сегмента, а также время хранения или объем хранения.

{% include [not-charged-streams.md](../_includes/pricing/price-formula/not-charged-streams.md) %}

{% include [free-tier.md](../_includes/pricing/price-formula/free-tier.md) %}

### Примеры расчета стоимости {#price-example}

В поток данных, состоящий из одного сегмента, поступают 2 сообщения в секунду размером 50 КБ. Время хранения сообщений — 12 часов.

Расчет стоимости обработки данных за месяц (при числе дней в месяце 31):
>&lceil; 50 / 40 &rceil; = 2

Где:
* 50 — размер одного сообщения в КБ.
* 40 — [размер единиц](#event) записываемых данных в КБ.
* 2 — количество единиц записываемых данных в одном сообщении.

При расчетах количество единиц записываемых данных округляется до целого в большую сторону, в этом примере количество округляется до 2.

>2 × 2 = 4

Где:
* 2 — количество сообщений в секунду.
* 2 — количество единиц записываемых данных в одном сообщении.
* 4 — количество единиц записываемых данных в секунду.

>4 × 60 × 60 × 24 × 31 = 10&nbsp;713&nbsp;600

Где:
* 4 — количество единиц записываемых данных в секунду.
* 60 × 60 × 24 × 31 — количество секунд в месяце.
* 10&nbsp;713&nbsp;600 — количество единиц записываемых данных в месяц.


{% include [rub.md](../_pricing/data-streams/rub-example.md) %}




### Цены {#prices}

#### Цена единицы записываемых данных {#event}

Каждый месяц не тарифицируются первые 2 000 000 единиц записываемых данных.


{% include [rub.md](../_pricing/data-streams/rub-event.md) %}




#### Цена выделенных ресурсов {#resources}

#### Тарификация по времени хранения {#time-limit}

Цена указывается за 1 час использования выделенных ресурсов.


{% include [rub.md](../_pricing/data-streams/rub-resources.md) %}




#### Тарификация по объему хранения {#storage-limit}

Данные хранятся до 7 дней.


{% include [rub.md](../_pricing/data-streams/rub-resources-storage-limit.md) %}




## Тарификация по фактическому использованию {#on-demand}

Потоки данных, работающие в режиме тарификации по фактическому использованию, тарифицируются на уровне топиков Serverless базы данных {{ ydb-short-name }}, в которых они хранят данные. Перейдите на страницу [правил тарификации для бессерверного режима {{ ydb-short-name }}](../ydb/pricing/serverless.md) для получения информации о ценах и порядке расчета стоимости.
