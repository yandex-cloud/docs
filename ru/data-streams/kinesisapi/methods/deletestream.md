# DeleteStream

Удаляет [поток](../../concepts/glossary.md#stream-concepts), все его [сегменты](../../concepts/glossary.md#shard) и данные.

При успехе метод инициирует удаление потока, переводит создаваемый поток в статус `DELETING` и возвращает HTTP-ответ с кодом 200.

Удалить поток можно, только если он находится в статусе `ACTIVE`.

Поток будет находиться в статусе `DELETING`, пока {{ yds-short-name }} не завершит удаление. Поток данных в статусе `DELETING` может продолжать обрабатывать операции чтения и записи данных, такие как `PutRecord`, `PutRecords` и `GetRecords` до завершения удаления. Чтобы узнать статус потока, используйте метод [DescribeStream](describestream.md).

Если приложение обратится к удаленному потоку, оно получит ошибку `ResourceNotFoundException`.

## Запрос {#request}

Запрос содержит данные в формате JSON.

```json
{
  "EnforceConsumerDeletion": boolean,
  "StreamName": "string"
}
```

### Параметры запроса {#request-options}

Параметр | Описание
----- | -----
`EnforceConsumerDeletion` | Если этот параметр не задан или имеет значение `false` и у потока есть зарегистрированные потребители, то поток не удаляется, возвращается ошибка `ResourceInUseException`.<br/><br/>**Тип**: Булев<br/>**Обязательный**: Нет
`StreamName` | Имя потока данных.<br/><br/>**Тип**: Строка<br/>**Размер**: `1`-`128` символов.<br/>**Возможные значения**: `[a-zA-Z][a-zA-Z0-9-]+*(?<!-)$`<br/>**Обязательный**: Да

## Ответ {#response}

В случае успеха возвращается ответ с кодом HTTP 200 и пустым телом.

## Ошибки {#errors}

Параметр | Описание | Код HTTP
----- | ----- | -----
`LimitExceededException` | Превышено максимальное число запросов. | 400
`ResourceInUseException` | Ресурс используется другой операцией. | 400
`ResourceNotFoundException` | Запрошенный ресурс не найден. | 400

Могут возникать [ошибки](../common-errors.md), общие для всех методов.
