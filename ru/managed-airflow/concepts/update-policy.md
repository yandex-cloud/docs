---
title: Политика работы с версиями {{ AF }}
description: Из статьи вы узнаете о политике работы с версиями {{ AF }} в сервисе {{ maf-full-name }}.
---

# Политика работы с версиями {{ AF }}

У каждой версии в инфраструктуре {{ yandex-cloud }} есть [этапы жизненного цикла](#version-lifecycle), которые присваиваются в зависимости от даты релиза в ядре. При устаревании используемая в кластере {{ maf-name }} версия {{ AF }} обновляется.

Обновление до актуальных версий позволяет получать новую функциональность, патчи и исправления, направленные на улучшение безопасности, что повышает общую стабильность кластера.

{% note warning %}

В сервисе {{ maf-name }} действуют разные правила жизненного цикла для мажорных версий {{ AF }} (2.x и 3.x). Это связано с существенными различиями в сроках поддержки версий от разработчиков ядра сервиса.

{% endnote %}

{{ maf-name }} использует две стратегии поддержки версий {{ AF }}:

* **LTS** (версии с расширенным периодом поддержки — Long-Term Support).
* **Версии с регулярными обновлениями**.

## Этапы жизненного цикла версий {#version-lifecycle}

### Версии 2.X {#v-2-x}

Для версий 2.X принята стратегия поддержки LTS согласно [официальной политике поддержки версий {{ AF }}](https://airflow.apache.org/docs/apache-airflow/stable/installation/supported-versions.html):

* **Текущие версии**: 2.8, 2.10.
* **Целевая версия**: 2.11 (LTS).
* **Версия Python**: 3.10, 3.12.

#### Порядок обновления

Все кластеры версий 2.8 и 2.10 будут обновлены до версии 2.11. Процесс принудительного обновления начнется не ранее февраля 2026 года.

Поддержка версии 2.11 в сервисе продлится до конца 2026 года.

### Версии 3.X {#v-3-x}

Для версий 3.X принята стратегия поддержки версий с регулярными обновлениями. Новые feature-версии (3.X) выпускаются разработчиками ядра приблизительно раз в полгода. Команда разработки {{ yandex-cloud }} старается в короткие сроки добавить новую версию для клиентов.

**Версия Python**: на данный момент для всех версий 3.X поддерживается только Python 3.12.

{% note info %}

Список поддерживаемых версий Python может быть расширен в будущем. Версия Python 3.12 (текущая основная) поддерживается до конца 2028 года согласно [политике поддержки в ядре Python](https://devguide.python.org/versions/).

{% endnote %}

Ключевые этапы на основе даты добавления версии в {{ yandex-cloud }}:

| Статус версии | Описание | Дата перехода статуса (от даты релиза в ядре) |
|:---|:---|:---|
| **Поддерживаемые версии** |
| Доступность в {{ maf-name }} | На этой версии можно создавать новые кластеры и работать с ними. | 0—1 месяцев |
| Недоступность для новых кластеров | На этой версии нельзя создавать новые кластеры, но текущие продолжат работать. В консоли управления может появиться рекомендация об обновлении. | 6 месяцев |
| **Неподдерживаемые версии** |
| Принудительное обновление | Автоматическое принудительное обновление существующих кластеров до поддерживаемой версии. | 12 месяцев |

{% note tip %}

Рекомендуется самостоятельно обновлять кластеры до поддерживаемых версий, не дожидаясь автоматического обновления. Это позволит заранее протестировать совместимость DAG-файлов.

{% endnote %}

## График поддержки версий {#version-schedule}

### Версии 2.X {#v-2-x-schedule}

Доступные версии Python: 3.10, 3.12.

| Версия | Текущий статус | Принудительное обновление |
|:---|:---|:---|
| 2.8 | Недоступна для создания новых кластеров | Февраль 2026 |
| 2.10 | Доступна | Февраль 2026 |
| 2.11 (LTS) | Планируется (февраль 2026) | Q4 2026 |

Все версии 2.8 и 2.10 будут обновлены до единой, официально поддерживаемой опенсорс-сообществом LTS-версии 2.11, не ранее февраля 2026 года.

### Версии 3.X {#v-3-x-schedule}

Доступные версии Python: 3.12 (список может быть расширен).

| Версия | Доступность в {{ maf-name }} | Недоступность для новых кластеров | Принудительное обновление |
|:---|:---|:---|:---|
| 3.0 | Сентябрь 2025 | Март 2026 | Сентябрь 2026 |
| 3.1 | Ноябрь 2025 | Июнь 2026 | Q4 2026 |
| 3.X | TBD | TBD + 6 месяцев | TBD + 12 месяцев |

## Политика обновления {#update-policy}

Для версий внутри одной ветки (например, с 3.0 на 3.1) обновление происходит следующим образом:

1. Как только версия переходит в статус **Принудительное обновление**, сервис инициирует обновление кластера.
1. Обновление производится до ближайшей поддерживаемой версии в рамках мажорной ветки.

{% note warning "Уведомления об обновлении" %}

Система оповещений предусматривает следующие уведомления:

- За **30 дней** до перехода версии в статус **Принудительное обновление**.
- За **7 дней** до начала принудительного обновления версии.

{% endnote %}

### Особенности перехода с версии 2.X на версию 3.X {#v-2-x-to-v-3-x}

Из-за архитектурных различий автоматическая миграция с версии 2.X на версию 3.X не поддерживается.

Необходимо самостоятельно обновиться до версии 3.X. Для этого:
1. Сохраните DAG-файлы во внешнем хранилище (S3 или git-репозиторий).
1. [Создайте новый кластер](../operations/cluster-create.md) {{ maf-name }} с версией 3.X.
1. Подключите репозиторий с сохраненными DAG-файлами к созданному кластеру.

#### См. также {#see-also}

[Версионирование в {{ maf-name }}](versions.md)
