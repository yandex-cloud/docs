# Загрузка DAG-файлов в кластер {{ maf-name }}

Чтобы реализовать автоматизацию, обработку данных или запуск задач по расписанию, используются _[DAG-файлы](../concepts/index.md#about-the-service)_. Они представляют собой скрипты на Python 3, которые запускаются внутри {{ AF }}. Пример DAG-файла см. в [документации {{ AF }}](https://airflow.apache.org/docs/apache-airflow/stable/tutorial/fundamentals.html).

Вы можете загрузить DAG-файлы:

* [из бакета {{ objstorage-full-name }}](#dag-bucket-import);
* [из внешнего Git-репозитория](#dag-git-import).

Тип источника DAG-файлов можно выбрать при [создании](cluster-create.md) или [изменении кластера](cluster-update.md). Так графы задач автоматически попадают в кластер {{ maf-name }} и отображаются в веб-интерфейсе {{ AF }}.

## Загрузка DAG-файлов из бакета {#dag-bucket-import}

1. Создайте в [бакете](../../storage/concepts/bucket.md) папку (например, `dags`) и [загрузите в нее DAG-файл](../../storage/operations/objects/upload.md#simple). DAG автоматически загрузится в кластер.

    Вы можете загрузить DAG-файл в корень бакета, но в папку файл загружается быстрее.

    Если вы загрузили в папку дополнительные скрипты или модули, которые используются в DAG, укажите полный путь к этим скриптам или модулям в бакете. Например, все файлы загружены в папку `dags`. Тогда в конструкции `from ... import` DAG-файла укажите:

    ```python
    from dags.<имя_файла> import <объект>
    ```

1. [Откройте веб-интерфейс {{ AF }}](af-interfaces.md#web-gui).
1. Убедитесь, что в разделе **DAGs** появился новый DAG. Загрузка DAG-файла из бакета может занять несколько минут.

## Загрузка DAG-файлов из Git-репозитория {#dag-git-import}

1. Загрузите DAG-файл в папку Git-репозитория, указанную вместе с адресом репозитория в настройках кластера. DAG автоматически загрузится в кластер.

    Если вы загрузили в папку дополнительные скрипты или модули, которые используются в DAG, укажите полный путь к этим скриптам или модулям. Например, все файлы загружены в папку `dags`. Тогда в конструкции `from ... import` DAG-файла укажите:

    ```python
    from dags.<имя_файла> import <объект>
    ```

1. [Откройте веб-интерфейс {{ AF }}](af-interfaces.md#web-gui).
1. Убедитесь, что в разделе **DAGs** появился новый DAG. Загрузка DAG-файла из Git-репозитория может занять несколько минут.
