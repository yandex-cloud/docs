## Подробная информация о запросах

* **query_metrics_one_minute**

Подробная информация о запросах, разбитая по минутным интервалам. Каждая строка таблицы содержит информацию о множестве случившихся за интервал запросов с одинаковым текстом. Поля таблицы предоставляют минимальное, максимальное и суммарное значение по каждой отслеживаемой характеристике запроса. В пределах интервала запросы отсортированы по убыванию суммарного потраченного процессорного времени.

Структура таблицы:

| **Поле** | **Тип** | **Ключ** | **Значение** |
|---|---|---|---|
| IntervalEnd | Timestamp | 0 | Момент закрытия минутного или часового интервала
| Rank | Uint32 | 1 | Ранг запроса в пределах интервала (по полю SumCPUTime)
| QueryText | Utf8 | | Текст запроса
| Count | Uint64 | | Количество запусков запроса
| SumDuration | Interval | | Общая длительность запросов
| MinDuration | Interval | | Минимальная длительность запроса
| MaxDuration | Interval | | Максимальная длительность запроса
| SumCPUTime | Uint64 | | Общее затраченное процессорное время
| MinCPUTime | Uint64 | | Минимальное затраченное процессорное время
| MaxCPUTime | Uint64 | | Максимальное затраченное процессорное время
| SumReadRows | Uint64 | | Общее количество прочитанных строк
| MinReadRows | Uint64 | | Минимальное количество прочитанных строк
| MaxReadRows | Uint64 | | Максимальное количество прочитанных строк
| SumReadBytes | Uint64 | | Общее количество прочитанных байт
| MinReadBytes | Uint64 | | Минимальное количество прочитанных байт
| MaxReadBytes | Uint64 | | Максимальное количество прочитанных байт
| SumUpdateRows | Uint64 | | Общее количество записанных строк
| MinUpdateRows | Uint64 | | Минимальное количество записанных строк
| MaxUpdateRows | Uint64 | | Максимальное количество записанных строк
| SumUpdateBytes | Uint64 | | Общее количество записанных байт
| MinUpdateBytes | Uint64 | | Минимальное количество записанных байт
| MaxUpdateBytes | Uint64 | | Максимальное количество записанных байт
| SumDeleteRows | Uint64 | | Общее количество удалённых строк
| MinDeleteRows | Uint64 | | Минимальное количество удалённых строк
| MaxDeleteRows | Uint64 | | Максимальное количество удалённых строк

Ограничения:

* текст запроса ограничен 4 килобайтами;
* таблица содержит историю за последние 6 часов;
* в пределах интервала представлена информация о не более чем 256 различных запросах;
* статистика может быть неполной, если база испытывает сильную нагрузку
