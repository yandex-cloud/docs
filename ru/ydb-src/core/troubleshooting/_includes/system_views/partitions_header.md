## Партиции таблиц

* **partition_stats**

Системная таблица, предоставляющая детализированную информацию об отдельных партициях всех таблиц базы данных. Содержит информацию о моментальных метриках, таких как нагрузка на CPU или количество транзакций в полёте, а также кумулятивные счётчики операций различного характера над партицией (например, общее количество прочитанных строк). Предназначена в первую очередь для выявления различных неравномерностей в нагрузке на партицию таблицы или размерах данных партиции таблицы.

Структура таблицы:

| **Поле** | **Тип** | **Ключ** | **Значение** |
|---|---|---|---|
| OwnerId | Uint64 | 0 | Идентификатор скимшарда, обслуживающего таблицу
| PathId | Uint64 | 1 | Идентификатор пути в скимшарде
| PartIdx | Uint64 | 2 | Порядковый номер партиции
| DataSize | Uint64 | | Приблизительный размер партиции в байтах
| RowCount | Uint64 | | Приблизительное количество строк
| IndexSize | Uint64 | | Размер индекса партиции в таблетке
| CPUCores | Double | | Моментальное значение нагрузки на партицию (доля ядра)
| TabletId | Uint64 | | Идентификатор таблетки, обслуживающей партицию
| Path | Utf8 | | Полный путь к таблице
| NodeId | Uint32 | | Идентификатор ноды, на которой в данный момент обслуживается партиция
| StartTime | Timestamp | | Последний момент запуска таблетки, обслуживающей партицию
| AccessTime | Timestamp | | Последний момент чтения из партиции
| UpdateTime | Timestamp | | Последний момент записи в партицию
| RowReads | Uint64 | | Количество точечных чтений с момента старта таблетки партиции
| RowUpdates | Uint64 | | Количество записанных строк с момента старта
| RowDeletes | Uint64 | | Количество удалённых строк с момента старта
| RangeReads | Uint64 | | Количество чтений диапазонов строк с момента старта
| RangeReadRows | Uint64 | | Количество строк, прочитанных в диапазонах с момента старта
| InFlightTxCount | Uint64 | | Количество транзакций к партиции в моменте
| ImmediateTxCompleted | Uint64 | | Количество завершившихся одношардовых транзакций с момента старта
| CoordinatedTxCompleted | Uint64 | | Количество завершившихся координируемых транзакций с момента старта
| TxRejectedByOverload | Uint64 | | Количество транзакций, отменённых по причине слишком высокой нагрузки (с момента старта)
| TxRejectedByOutOfStorage | Uint64 | | Количество транзакций, отменённых из-за нехватки места (с момента старта)

Ограничения:

* кумулятивные поля (RowReads, RowUpdates и т.д.) хранят накопленные значения с момента последнего старта таблетки, обслуживающей партицию
