# Разграничение прав доступа

В этом разделе описаны аутентификация и разграничение прав доступа в {{ ydb-short-name }}.

## Аутентификация
В {{ ydb-short-name }} используется аутентификация на основе токенов, которые пересылаются пользователем вместе с запросом.

### Веб-интерфейс

В [веб-интерфейсе YDB](https://ydb.yandex-team.ru/) для [аутентификации](../concepts/internal/iam.md#authentication) используются сессионные cookies пользователя в домене yandex-team.ru. Подробнее этот метод аутентификации описан в разделе [Разграничение прав доступа](../concepts/internal/iam.md#session_cookie). Пользователь, прошедший процедуру входа с [Яндекс ID](https://passport.yandex-team.ru/profile), аутентифицируется в веб-интерфейсе YDB автоматически.

### OAuth токен для использования в приложении {#get_oauth_token}

Для аутентификации при обращении к БД в YDB из приложения понадобится OAuth токен.

* Для того, чтобы получить личный токен, следует нажать на иконку шестеренки в [веб-интерфейсе YDB](https://ydb.yandex-team.ru/), в выпадающем окне открыть вкладку **Auth** и перейти по ссылке. Полученный в результате персональный токен можно использовать в приложении.
* Для того, чтобы использовать роботного пользователя для доступа к БД потребуется:
    * [создать](https://wiki.yandex-team.ru/DIY/zombik/#zavestirobota) роботного пользователя;
    * войти в [Яндекс ID](https://passport.yandex-team.ru/profile) от имени робота;
    * получить для робота OAuth токен (например, можно перейти в веб-интерфейс YDB имени робота и выполнить описанные выше рекомендации по получению личного токена);
    * настроить права доступа для робота используя рекомендации в разделе [Разграничение прав доступа](../concepts/internal/iam.md).

![Give me my token](../_assets/db_ui_give_me_token.png)

<small>Рисунок 1 — диалог получения OAuth-токена</small>

{% note warning "Внимание" %}

Полученный токен является вашим "удостоверением личности", если вы считаете, что токен был скомпрометирован, его необходимо отозвать через [интерфейс](http://oauth.yandex-team.ru/list_tokens).

{% endnote %}

### OAuth токен для использования в веб-интерфейсе

Возможно использование OAuth токена вместо cookies в [веб-интерфейсе YDB](https://ydb.yandex-team.ru/). Чтобы при работе в веб-интерфейсе для аутентификации по умолчанию использовался OAuth токен, следует нажать на кнопку "Use my token by default", как показано на рисунке 1 выше.

## Авторизация

Пользователю, инициировавшему создание БД выдаются права **use**.

Права **use** дают возможность:

* создавать и удалять таблицы и директории в БД;
* выполнять операции чтения и записи над данными и аттрибутами схемы;
* выдавать права доступа другим пользователям, но только в рамках перечисленных выше прав **use**.

Подробнее доступные виды прав описаны в документе [Разграничение прав доступа](../concepts/internal/iam.md#ui_permissions).


## Настройка прав доступа к данным

Для начала работы нужно настроить права для всех пользователей базы данных. Управление правами возможно с помощью [веб-интерфейса YDB](https://ydb.yandex-team.ru/) или [YDB cli](../getting_started/ydb_cli.md). Пользователь с правами **use** может выдавать доступ другим пользователям или группам.

Подробней про настройку прав доступа можно прочесть в разделе [{#T}](../concepts/internal/iam.md).

Управление правами из приложений в текущей версии возможно только через [С++](https://a.yandex-team.ru/arc/trunk/arcadia/kikimr/public/sdk/cpp/client/ydb_scheme.h), [Python](https://a.yandex-team.ru/arc/trunk/arcadia/kikimr/public/sdk/python/client/scheme.py) и [go](https://a.yandex-team.ru/arc/trunk/arcadia/kikimr/public/sdk/go/ydb/scheme/scheme.go) SDK, которые содержат методы предоставления, отзыва, изменения выданного списка прав, а также метод смены владельца таблицы, директории или БД.

{% note info "Изменение параметров базы" %}

Пользователь не может самостоятельно изменять параметры БД или удалять БД. Эти действия может совершить только администратор системы.

Для изменения параметров базы данных или удаления базы следует заполнить форму.

* [форма](https://forms.yandex-team.ru/surveys/30510/) на изменение выделенных базе ресурсов;
* [форма](https://forms.yandex-team.ru/surveys/30513/) на удаление базы.

{% endnote %}

