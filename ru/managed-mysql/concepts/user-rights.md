# Права пользователей

СУБД MySQL контролирует права пользователей на трех уровнях:

* весь сервер (administrative privileges);
* отдельная база данных (database privileges);
* отдельный объект базы данных, например, таблица или индекс (privileges for database objects).

В кластере {{ mmy-name }} действуют общие для всех хостов права и настройки пользователей.

Права, которые действуют на уровне всего сервера баз данных, задаются в [настройках пользователя](./settings-list.md#setting-global-permissions).

Для разграничения прав пользователей на уровне отдельной базы данных, каждому пользователю [назначается](../operations/grant.md) одна или несколько _ролей_. Каждая роль позволяет совершать действия, которые указаны в [описании роли](#db-roles). Вместе с кластером создается пользователь, который получает роль `ALL_PRIVILEGES` в первой базе данных кластера.

Чтобы управлять правами пользователей на уровне всего сервера или отдельной базы данных, [используйте](../operations/grant.md) интерфейсы {{ yandex-cloud }}. Изменения на этих уровнях, внесенные командами SQL, не сохранятся — кластер вернется в состояние, заданное через интерфейсы {{ yandex-cloud }}.

Чтобы управлять правами пользователей на уровне отдельного объекта базы данных, используйте команды SQL `GRANT` и `REVOKE`.

## Роли пользователей в кластере {{ mmy-name }} {#db-roles}

- `ALL_PRIVILEGES` — позволяет совершать любые действия с пользовательскими данными в базе, а также использовать оператор `SHOW SLAVE STATUS`.
- `ALL` — синоним для роли `ALL_PRIVILEGES`, используемый при управлении ролями через CLI.
- `ALTER` — позволяет использовать оператор `ALTER TABLE` для изменения структуры любых пользовательских таблиц в базе данных. Требует наличия полномочий `CREATE` и `INSERT`. А для переименования таблиц — `DROP`, `CREATE` и `INSERT`.
- `ALTER_ROUTINE` — позволяет использовать оператор `ALTER ROUTINE` для изменения или удаления любых пользовательских хранимых процедур и функций в базе данных.
- `CREATE` — позволяет использовать оператор `CREATE` для создания пользовательских таблиц в базе данных.
- `CREATE_ROUTINE` — позволяет использовать оператор `CREATE ROUTINE` для создания пользовательских хранимых процедур и функций в базе данных.
- `CREATE_TEMPORARY_TABLES` — позволяет использовать оператор `CREATE TEMPORARY TABLE` для создания пользовательских временных таблиц в базе данных.
- `CREATE_VIEW` — позволяет использовать оператор `CREATE VIEW` для создания пользовательских представлений в базе данных.
- `DELETE` — позволяет удалять записи из любых пользовательских таблиц в базе данных.
- `DROP` — позволяет удалять таблицы и представления.
- `EVENT` — позволяет создавать, изменять, удалять или отображать события в [Планировщике Событий (Event Scheduler)](https://dev.mysql.com/doc/refman/8.0/en/events-overview.html).
- `EXECUTE` — позволяет исполнять любые пользовательские хранимые процедуры и функции.
- `INDEX` — позволяет создавать и удалять индексы у существующих в базе данных таблиц.
- `INSERT` — позволяет вставлять записи в пользовательские таблицы в базе данных.
- `LOCK_TABLES` — позволяет явно использовать оператор `LOCK_TABLES` для создания блокировок на таблицы в базе данных.
- `PROCESS` — позволяет использовать оператор `SHOW PROCESSLIST` и просматривать статус систем хранения данных (например, `SHOW ENGINE INNODB STATUS`). Кроме того, в {{ mmy-name }} эта роль предоставляет право на чтение таблиц системных баз данных [mysql](https://dev.mysql.com/doc/refman/8.0/en/system-schema.html), [performance_schema](https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html), [sys](https://dev.mysql.com/doc/refman/8.0/en/sys-schema.html).
- `REFERENCES` — позволяет создавать внешние ключи (`FOREIGN KEY`) для таблиц базы данных.
- `SELECT` — позволяет читать данные из таблиц в базе данных.
- `SHOW_VIEW` — позволяет использовать оператор `SHOW CREATE VIEW`.
- `TRIGGER` — позволяет создавать, удалять, исполнять или отображать триггеры у существующих в базе данных таблиц.
- `UPDATE` — позволяет обновлять записи в таблицах в базе данных.

Подробнее об управлении правами пользователей см. [в документации {{ MY }}](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html).
