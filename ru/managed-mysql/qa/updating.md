# Изменение кластера

#### Уменьшение размера диска {#reduce-size}

Уменьшить размер хранилища кластера невозможно.

Вы можете [создать](../operations/cluster-create.md) новый кластер с хранилищем меньшего размера и [перенести](../tutorials/data-migration.md) в него данные.

#### Увеличение размера диска {#increase-size}

Увеличение размера доступно только для стандартного (`network-hdd`) и быстрого (`network-ssd`) сетевого хранилища: воспользуйтесь инструкцией в разделе [Изменение кластера](../operations/update.md#change-disk-size).

Чтобы увеличить размер хранилища другого типа, [восстановите кластер из резервной копии](../operations/cluster-backups.md#restore) и задайте нужный размер.

Тип хранилища можно проверить в [консоли управления]({{ link-console-main }}). Для этого на странице кластера в блоке **Ресурсы** найдите параметр **Хранилище**.

#### Изменение типа хранилища {#modify-type}

Чтобы изменить тип хранилища, [восстановите](../operations/cluster-backups.md#restore) кластер из резервной копии.

#### Не добавляется/не удаляется хост {#not-add-delete}

Количество хостов в кластерах ограничено [квотами](../concepts/limits.md#mmy-quotas). Например, хосты [классов](../concepts/instance-types.md) `b1.nano`, `b1.micro`, `b2.nano` и `b2.micro` могут использоваться только в однохостовых кластерах. Поэтому перед добавлением хоста проверьте используемые ресурсы: откройте страницу [Квоты]({{ link-console-quotas }}) и найдите блок **Managed Databases**.

Удалить хост можно при условии, что он не является единственным хостом в кластере. Чтобы заменить единственный хост, сначала создайте новый хост, затем удалите старый.

В кластерах с локальным типом хранилища настроена отказоустойчивая конфигурация из 3 хостов. Меньшее количество хостов недопустимо.

#### Как переключить мастер (manual failover) {#manual-failover}

В отказоустойчивом кластере из нескольких хостов вы можете переключить роль мастера с текущего хоста-мастера на хост-реплику. После этой операции текущий хост-мастер станет хостом-репликой для нового мастера.

{% list tabs %}

- Консоль управления

   1. Перейдите на страницу кластера и выберите вкладку **Хосты**.
   1. Нажмите **Переключить мастер**.

- CLI

   {% include [cli-install](../../_includes/cli-install.md) %}

   {% include [default-catalogue](../../_includes/default-catalogue.md) %}

   Чтобы переключить мастер:

   1. Посмотрите описание команды CLI для переключения мастера:

      ```
      {{ yc-mdb-my }} cluster start-failover --help
      ```

   1.  Выполните команду `{{ yc-mdb-my }} cluster start-failover`.

{% endlist %}
