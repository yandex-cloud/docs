# Работа с привязками к данным

Привязки к данным в {{yq-full-name}} позволяют описать структуру данных, определяемую [подключениями к данными](connection.md). 

При работе с данными через [соединения](connection.md) необходимо в каждом запросе указывать схему данных, их размещения и другую информацию, необходимую для исполнения запросов. 

Например:
```sql
SELECT
    *
FROM `connection`.`path`
WITH
(
    Schema=(value string),
    format='csv_with_names'
)
```

Привязки к данным хранят всю эту информацию внутри себя, позволяя указать все необходимые данные для работы один раз при создании привязки к данным, и не указывать их впоследствии.

Например, аналогичный предыдущему запрос при работе через привязки к данным:
```sql
SELECT
    *
FROM bindings.`binding_name`
```

## Создание привязки к данным

Для создания привязки к данным выполните следующие действия:

1. Перейдите в раздел **Bindings**.
1. Нажмите кнопку **Create**.
1. Укажите имя привязки. Требования к имени:

    {% include [name-format](../_includes/connection-name-format.md) %}

1. Укажите тип источника: 
- **Data Streams** для взаимодействия {{yds-full-name}}.
- **Object Storage** для взаимодействия {{objstorage-full-name}}.
1. Укажите область видимости привязки к данным: **Public** или **Private**.
    - Укажите **Public**, если привязка к данным будет доступна всем пользователям фолдера.
    - Укажите **Private**, если привязка к данным должна быть доступна только создателю привязки к данным.

### Привязки к данным в {{objstorage-full-name}}

Для создания привязки к данным в {{objstorage-full-name}} выполните следующие действия:
1. Укажите путь к данным в бакете.
1. Укажите алгоритм сжатия данных в бакете.
1. Укажите формат данных данных в бакете.
1. Укажите список колонок данных данных в бакете.
1. Нажмите кнопку **Create** для завершения создания привязки к данным.

#### Указание информации о партиционировании данных { #partitioning }

Если ваши данные [партиционированы](../concepts/partitioning.md):
1. Перейдите в раздел "Партиционирование данных".
1. Укажите название и тип данных колонки партиционирования.
2. Повторите это для всех колонок партиционирования.

#### Указание информации о расширенном партиционировании данных { #partitioning }

Если вы используете [расширенное партиционирование](../concepts/partition-projection.md):
1. Включите режим "Расширенное партиционирование".
1. Для каждого поля партиционирования укажите его **Формат**.
1. Для каждого поля партиционирования укажите расширенные параметры партиционирования, зависящие от его **Формата**.
1. Укажите "Шаблон пути" в бакете, используя или режим **По-умолчанию** или задайте собственный шаблон.


### Привязка к данным {{yds-full-name}}
Для создания привязки к данным {{yds-full-name}} выполните следующие действия:
1. Укажите название потока данных. 
1. Укажите алгоритм сжатия данных в потоке данных.
1. Укажите формат данных данных в потоке данных.
1. Укажите список колонок данных данных в потоке данных.
1. Нажмите кнопку **Create** для завершения создания привязки к данным.

## Предпросмотр данных { #preview }

Для проверки правильности указания полей привязки к данным, нажмите кнопку **Предпросмотр**.

1. В разделе **Необработанные данные** будут выведены первые 2500 символов первых десяти файлов из бакета.
1. В разделе **Предпросмотр** будут выведены первые 10 строк данных, полученных из привязки к данным.


## Получение информации о привязке к данным { #info }

1. В разделе **Bindings** найдите нужную привязку к данным.
1. Нажмите кнопку ![info](../../_assets/query/info.svg) для просмотра информации о привязке к данным.

В разделе **Параметры соединения** находится информация о соединении, использованным этой привязкой к данным. 

В разделе **Общее** находится информация о привязке к данным:
- Пути к данным;
- Формат данных;
- Сжатие.

В разделе **Схема** находится список колонок привязки к данным и их типы. 

В разделе **Meta** находится метаинформация о привязке к данным:
- идентификатор;
- время создания;
- автор.


## Редактирование привязок к данным

1. В разделе **Bindings** найдите нужную привязку к данным.
1. Нажмите кнопку ![pencil](../../_assets/query/pensil.svg) для редактирования параметров привязки к данным.
1. Укажите новые параметры привязки к данным. Тип подключения и параметры соединения изменять нельзя.
1. Нажмите кнопку **Modify** для применения изменений.

## Удаление привязок к данным
1. В разделе **Bindings** найдите нужную привязку к данным.
1. Нажмите кнопку ![delete](../../_assets/query/delete.svg) для удаления привязки к данным.
1. Подтвердите удаление привязки к данным.


