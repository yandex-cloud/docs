
Биллинг и {{yq-full-name}} интегрированы между собой, что позволяет как решать типичные задачи анализа детализации биллинга, так и выполнять свои собственные поиски, выраженные на языке YQL.

![](../../_assets/query/billing-query.png)

## Типичные задачи поиска в детализации Биллинга

В {{yq-full-name}} заранее подготовлены запросы для типовых сценариев поиска данных в детализации Биллинга. 

Примеры типичных задач поиска:
- Потребление по месяцам.
- Потребление текущего месяца с разбивкой по сервисам и продуктам.
- Потребление текущего месяца с разбивкой по облакам и каталогам.
- 10 наиболее дорогих ресурсов.
- Оплата фиксированного потребления.
- Утилизация фиксированного потребления.
- Детализация по кластерам K8S.

## Настройка интеграции Биллинга и {{yq-full-name}}

Для настройки интеграции выполните следующие действия:
1. Перейдите к списку выгрузок детализации биллинга в консоли {{yandex-cloud}}.
1. Выберите необходимую детализацию и нажмите кнопку **Обработать в YQ**.
1. При первом переходе из Биллинга в {{yq-full-name}} необходимо выполнить настройку интеграции:
   1. В интерфейсе **{{yq-full-name}}** в диалоге создания подключения выбрать сервисный аккаунт, от имени которого будет выполнять чтение данных из {{objstorage-full-name}} и нажать кнопку **Создать**.
   1. В интерфейсе **{{yq-full-name}}** в диалоге создания привязки к данным проверить предустановленные параметры, нажав кнопку **Предпросмотр**, после чего завершить интеграцию, нажав кнопку **Создать**.
   1. После завершения настроек интеграции, вы будете автоматически перемещены в раздел **Биллинг**.

## Исполнение запросов к данным, хранимых в {{objstorage-full-name}}
Для выполнения запросов к аналитическим данным Биллинга, хранящимся в {{objstorage-full-name}}, выполните следующие действия:
1. В разделе **Биллинг** в интерфейсе **{{yq-full-name}}** выберите в списке [привязок к данным](../../query/concepts/glossary.md#binding) нужную, если их несколько.
1. Выберите нужный запрос к данным из {{objstorage-full-name}} из списка и нажмите кнопку **Выполнить**.


## Работа с результатами

Результаты обработки данных можно:
1. Скачать через интерфейс пользователя {{yq-full-name}} с помощью кнопки **Экспорт**.
1. [Сохранить в бакет](../../query/sources-and-sinks/object-storage-write.md) {{objstorage-full-name}}.
1. [Визуализировать](../../query/tutorials/datalens.md) в {{datalens-full-name}}.
1. Получить и обработать через [{{yq-full-name}} HTTP API](../api/index.md).


## Смотрите также
* [{{objstorage-full-name}}](../../storage/).
* [{{datalens-full-name}}](../../datalens/).