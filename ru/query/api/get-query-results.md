# get-query-results

Получает результаты выполнения запроса.

При успехе метод возвращает результат выполнения запросе. Если в запросе указано несколько конструкций `SELECT`, это приводит к образованию нескольких результатов выполнения запроса, в этом случае эти результаты нужно получать по их индексу.

{% include [!](../_includes/api-common.md) %}

## Запрос {#request}

`GET`-запрос на адрес `/{folder_id}/queries/{query_id}/results/{result_set_index}`, где `{folder_id}` - идентификатор фолдера, `{query_id}` - идентификатор запроса, а `result_set_index` - номер результата выполнения запроса, отсчитанный от 0. 

### Параметры запроса {#request-options}

Параметры передаются в URL, в виде query-параметров.

| Параметр | Описание |  Значение по умолчанию |
| ----- | ----- | ----- |
|`offset` | Номер строки массива результатов, начиная с которой нужно получить результаты| Если параметр не указан, результаты будут возвращены с нулевой строки|
|`limit` | Количество строк результатов | 100|

## Ответ {#response}

В случае успеха возвращается HTTP-ответ с кодом 200 и результатами выполнения запроса.

```json
{
  "columns": [
    {
      "name": "column0",
      "type": "Int32"
    },
    {
      "name": "column1",
      "type": "Int32"
    }    
  ],
  "rows": [
    [
      "1",
      "2"
    ],
    [
      "3",
      "4"
    ]    
  ]
}
```

| Параметр | Описание | Примечание |
| ----- | ----- | ----- |
|`columns`|Массив колонок возвращаемого значения||
|`columns[].name`|Название колонки||
|`columns[].type`|Название типа данных колонки||
|`rows`|Массив строк результатов возвращаемого значения. Количество элементов массива каждой строки совпадает с числом колонок из параметра `columns`||

Правила конвертации YQL-типов данных в Json-совместимые типы данных описаны в разделе [Соответствие YQL и Json типов](yql-json-conversion-rules.md).


## Ошибки {#errors}

Могут возникать [ошибки](common-information.md#errors), общие для всех методов.

## Пример { #example }

Запрос: 
```
curl -X 'GET' \
  'http://localhost:3000/v1/1/queries/1/results/0?offset=0&limit=100' \
  -H 'accept: application/json'
```

Ответ: 

```json
{
  "columns": [
    {
      "name": "column0",
      "type": "Int32"
    },
    {
      "name": "column1",
      "type": "Int32"
    }    
  ],
  "rows": [
    [
      "1",
      "2"
    ],
    [
      "3",
      "4"
    ]    
  ]
}
```