# Просмотр логов кластера

{{ mkf-name }} позволяет получить логи кластера для просмотра и изучения.

Вы можете получить:
- [Простой фрагмент лога](#get-log).
- [Поток логов](#get-log-stream) от сервера в кластере (тогда возможно использовать семантику команды `tail -f` для работы с логами).

{% note info %}

Здесь под логом понимается системный лог кластера и его хостов. Этот лог не имеет отношения к логу раздела для топика {{ KF }}, в который брокер записывает поступающие от производителей сообщения.

{% endnote %}

## Получить лог кластера {#get-log}

{% list tabs %}

- API
  
  Воспользуйтесь методом API [listLogs](../api-ref/Cluster/listLogs.md): передайте значение идентификатора требуемого кластера в параметре `cluster_id` запроса.
  
  Вы получите полный лог кластера. Количество записей лога, которое может вернуть кластер, не должно превышать 100000 (100 страниц по 1000 записей на каждой). 
  
  Если размер лога превышает это значение или требуется получить логи за конкретный период времени — воспользуйтесь временными метками (`timestamps`). Для этого задайте начальную и конечную временные метки (см. формат меток в [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)) в параметрах `from_time` и `to_time` запроса соответственно.
  
  Чтобы узнать идентификатор кластера, [получите список кластеров в каталоге](cluster-list.md#list-clusters).

{% endlist %}

## Получить поток логов кластера {#get-log-stream}

Этот способ работы с логами отличается от [получения простого фрагмента лога] тем, что сервер может досылать логи по мере их появления. Это поведение эквивалентно семантике команды `tail -f` для работы с логами.

{% list tabs %}

- API
  
  Воспользуйтесь методом API [streamLogs](../api-ref/Cluster/streamLogs.md): передайте значение идентификатора требуемого кластера в параметре `cluster_id` запроса.
  
  Вы получите полный лог кластера. Количество записей лога, которое может вернуть кластер, не должно превышать 100000 (100 страниц по 1000 записей на каждой). 
  
  Если размер лога превышает это значение или требуется получить логи за конкретный период времени — воспользуйтесь временными метками (`timestamps`). Для этого задайте начальную и конечную временные метки (см. формат меток в [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt)) в параметрах `from_time` и `to_time` запроса соответственно.
  
  Если не задавать значение параметра `to_time`, то в поток будут приходить новые лог-сообщения по мере их появления.
  
  Чтобы узнать идентификатор кластера, [получите список кластеров в каталоге](cluster-list.md#list-clusters).

{% endlist %}