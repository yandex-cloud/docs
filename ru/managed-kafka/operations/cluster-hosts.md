# Управление хостами {{ KF }}

Вы можете изменять класс хостов-брокеров в кластере {{ KF }}, а также получать список этих хостов в кластере.

{% include [mkf-zk-hosts](../../_includes/mdb/mkf-zk-hosts.md) %}

# Изменить класс хостов {#change-resource-preset}

{% list tabs %}

{% if api != "noshow" %}

- API

  Воспользуйтесь методом API [update](../api-ref/Cluster/update.md) и передайте в запросе:
  - Идентификатор кластера в параметре `clusterId`. Чтобы узнать идентификатор, [получите список кластеров в каталоге](cluster-list.md#list-clusters).
  - Новый [класс хостов](../concepts/instance-types.md) в параметре `resourcePresetId`. Ограничьте изменения настроек кластера с помощью параметра `updateMask` так, чтобы изменялся только класс хостов (в противном случае прочие настройки кластера будут сброшены на настройки по умолчанию). 
  
    ```
    {
      "clusterId": "<идентификатор кластера>",
      "updateMask": "resourcePresetId",
      "configSpec: {
        "kafka": {
          "resources": {
            "resourcePresetId": "<новый класс хостов>"
          }
        }
      }  
    }
    ```
  {% note warning %}
  
  Этот метод API сбросит все настройки топика, которые не были явно указаны в параметре `topicSpec`, на значения по умолчанию.
  Чтобы избежать этого, перечислите настройки, которые вы хотите изменить, в параметре `updateMask` (одной строкой через запятую, как показано выше).

  {% endnote %}  

{% endif %}

{% endlist %}

# Получить список хостов в кластере {#list-hosts}

{% list tabs %}

{% if api != "noshow" %}

- API

  Воспользуйтесь методом API [listHosts](../api-ref/Cluster/listHosts.md): передайте значение идентификатора требуемого кластера в параметре `clusterId` запроса.

  Чтобы узнать идентификатор кластера, [получите список кластеров в каталоге](cluster-list.md#list-clusters).

{% endif %}

{% endlist %}