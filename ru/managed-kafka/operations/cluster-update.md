# Изменение настроек кластера

{% if api != "noshow" %}

После создания кластера {{ KF }} вы можете:
- [Изменить конфигурацию кластера](#update-cluster).
- [Переместить кластер](#move-cluster) из текущего каталога в другой каталог.

{% else %}

После создания кластера {{ KF }} вы можете [изменить конфигурацию кластера](#update-cluster).

{% endif %}

{% note warning %}

Если в кластере есть выделенные хосты {{ ZK }}, то вы не сможете изменить их [класс](../concepts/instance-types.md) и настройки. Подробнее см. в разделе [{#T}](../concepts/index.md).

{% endnote %}

## Изменить конфигурацию {#update-cluster}

{% note warning %}

Количество хостов-брокеров {{ KF }} допустимо изменять только в сторону увеличения.

{% endnote %}

{% list tabs %}

{% if ui != "noshow" %}

- Консоль управления

  1. Перейдите на страницу каталога и выберите сервис **{{ mkf-name }}**.
  1. Выберите кластер и нажмите кнопку **Редактировать** на панели сверху.
  1. Измените требуемые настройки:
     - Чтобы изменить класс [хостов-брокеров](../concepts/brokers.md), выберите новый [класс хостов](../concepts/instance-types.md) в соответствующем блоке.
     - Чтобы изменить настройки хранилища, выберите [тип хранилища](../concepts/storage.md) и его размер в соответствующем блоке.
     - Чтобы изменить количество хостов-брокеров в каждой из зон доступности, которые были выбраны при [создании кластера](cluster-create.md#create-cluster), задайте значение соответствующей настройки.

  1. Нажмите кнопку **Сохранить**.

{% endif %}

{% if api != "noshow" %}

- API

  Воспользуйтесь методом API [update](../api-ref/Cluster/update.md) и передайте в запросе:
  - Идентификатор кластера в параметре `clusterId`. Чтобы узнать идентификатор, [получите список кластеров в каталоге](cluster-list.md#list-clusters).
  - Список настроек, которые необходимо изменить, в параметре `updateMask` (одной строкой через запятую). Если не задать этот параметр, метод API сбросит на значения по умолчанию все настройки кластера, которые не были явно указаны в запросе.
  - Новую конфигурацию кластера в параметре `configSpec`.
  
{% endif %}

{% endlist %}

{% if api != "noshow" %}

## Переместить кластер {#move-cluster}

{% list tabs %}

- API

  Чтобы переместить кластер из текущего каталога в другой, воспользуйтесь методом API [move](../api-ref/Cluster/move.md) и передайте в запросе:
  - Идентификатор кластера в параметре `clusterId`. Чтобы узнать идентификатор, [получите список кластеров в каталоге](cluster-list.md#list-clusters).
  - Идентификатор каталога назначения в параметре `destinationFolderId`.

{% endlist %}

{% endif %}
