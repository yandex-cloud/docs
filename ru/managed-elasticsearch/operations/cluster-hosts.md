# Управление хостами

Вы можете получить список хостов в кластере {{ ES }}, а также добавлять и удалять хосты кластера.

{% note info %}

Вы можете добавлять и удалять только хосты с ролью [_Data Node_](../concepts/index.md).

{% endnote %}

## Получить список хостов в кластере {#list-hosts}

{% list tabs %}

- Консоль управления

  1. Перейдите на страницу каталога и выберите сервис **{{ mes-name }}**.
  1. Нажмите на имя нужного кластера, затем выберите вкладку **Хосты**.

- API

  Воспользуйтесь методом API `listHosts`: передайте значение идентификатора требуемого кластера в параметре `clusterId` запроса.

  Чтобы узнать идентификатор кластера, [получите список кластеров в каталоге](cluster-list.md#list-clusters).

{% endlist %}


## Добавить хосты в кластер {#add-hosts}

{% list tabs %}

- Консоль управления

    1. Перейдите на страницу каталога и выберите сервис **{{ mes-name }}**.
    1. Нажмите на имя нужного кластера, затем выберите вкладку **Хосты**.
    1. Нажмите кнопку **Добавить хост**.
    1. Укажите параметры хоста:

        - Зону доступности.
        - Подсеть (если нужной подсети в списке нет, [создайте ее](../../vpc/operations/subnet-create.md)).
        - Выберите опцию **Публичный доступ**, если хост должен быть доступен извне {{ yandex-cloud }}.

- API

  Воспользуйтесь методом API `addHosts`: передайте значение идентификатора требуемого кластера в параметре `clusterId` запроса.

  Чтобы узнать идентификатор кластера, [получите список кластеров в каталоге](cluster-list.md#list-clusters).

  Добавьте требуемое количество параметров `hostSpecs` с настройками хоста (по одному параметру на каждый добавляемый хост).

{% endlist %}

## Удалить хосты из кластера {#delete-hosts}

При удалении хостов действуют ограничения:

- Нельзя удалить единственный хост с ролью _Data node_.
- Для кластеров, состоящих из нескольких хостов с ролью _Data node_, нельзя удалить последние два хоста.

{% list tabs %}

- Консоль управления

    1. Перейдите на страницу каталога и выберите сервис **{{ mes-name }}**.
    1. Нажмите на имя нужного кластера, затем выберите вкладку **Хосты**.
    1. Нажмите на значок ![image](../../_assets/vertical-ellipsis.svg) в строке нужного хоста и выберите пункт **Удалить**.

- API

  Воспользуйтесь методом API `deleteHosts`: передайте значение идентификатора требуемого кластера в параметре `clusterId` запроса.

  Чтобы узнать идентификатор кластера, [получите список кластеров в каталоге](cluster-list.md#list-clusters).

  В одном или более параметре `hostNames[]` укажите имена хостов, которые вы хотите удалить из кластера.

{% endlist %}
