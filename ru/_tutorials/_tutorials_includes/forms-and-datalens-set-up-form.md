### Создайте API-ключ {#create-api-key}

[API-ключ](../../iam/concepts/authorization/api-key.md) нужен для настройки интеграции с {{ forms-name }}.

{% list tabs group=instructions %}

- Консоль управления {#console}

  1. В [консоли управления]({{ link-console-main }}) выберите нужный каталог.
  1. В списке сервисов выберите **{{ ui-key.yacloud.iam.folder.dashboard.label_iam }}**.
  1. Выберите сервисный аккаунт `forms-integration`.
  1. Перейдите в раздел **{{ ui-key.yacloud.iam.folder.service-account.switch_overview }}**.
  1. Нажмите кнопку **{{ ui-key.yacloud.iam.folder.service-account.overview.button_create-key-popup }}** и выберите **{{ ui-key.yacloud.iam.folder.service-account.overview.button_create_api_key }}**.  
  1. Нажмите кнопку **{{ ui-key.yacloud.iam.folder.service-account.overview.popup-key_button_create }}**.
  1. В открывшемся окне **{{ ui-key.yacloud.iam.folder.service-account.overview.popup-key_label_title }}** отобразятся **{{ ui-key.yacloud.iam.folder.service-account.overview.label_id-title }}** и **{{ ui-key.yacloud.iam.folder.service-account.overview.label_secret-key-title }}**. Сохраните их — они понадобятся в дальнейшем.

{% endlist %}

### Создайте форму {#create-form}

{% list tabs group=instructions %}

- Интерфейс {{ forms-name }} {#forms}

  1. Перейдите в сервис [{{ forms-name }}]({{link-forms-b2b}}).

  1. Нажмите кнопку **Создать форму**.

  1. Добавьте в форму хотя бы два любых поля и настройте произвольные вопросы в них.

  1. Нажмите кнопку **Опубликовать**.

  1. Сохраните ссылку на опубликованную форму — она понадобится позднее.

{% endlist %}

### Настройте интеграцию с функцией {{ sf-name }} {#set-up-integration}

{% list tabs group=instructions %}

- Интерфейс {{ forms-name }} {#forms}

  1. Перейдите в сервис [{{ forms-name }}]({{link-forms-b2b}}).

  1. Откройте созданную ранее форму.

  1. Перейдите на вкладку **Настройки**.

  1. Откройте раздел **Дополнительно**.

  1. В блоке **Ключ для запуска облачных функций** введите данные [созданного ранее API-ключа](#create-api-key) и нажмите кнопку **Сохранить**.

  1. Откройте вкладку **Интеграции**.

  1. Нажмите кнопку **Cloud Functions**, чтобы добавить условие для интеграции.

  1. В поле **Код функции** введите идентификатор функции {{ sf-name }}. Вы можете скопировать идентификатор в разделе **{{ ui-key.yacloud.common.overview }}** функции {{ sf-name }} в [консоли управления]({{link-console-main}}).

  1. В поле **Показывать сообщение о результате действия** выберите **Показывать**.

  1. Нажмите кнопку **Сохранить**.

{% endlist %}

### Проверьте работу созданной интеграции {#test-integration}

1. Перейдите по публичной ссылке созданной ранее формы.

1. Заполните форму и нажмите кнопку **Отправить**.

1. Перейдите в сервис [{{ forms-name }}]({{link-forms-b2b}}).

1. Откройте созданную ранее форму.

1. Откройте вкладку **Интеграции**.

1. Перейдите на страницу **Выполненные интеграции**.

1. Откройте запись о выполненном действии и убедитесь, что в разделе **Ответ** получен HTTP-ответ `200 — ОК`.

1. Перейдите в [консоль управления]({{link-console-main}}) и откройте [созданный ранее бакет](#create-s3-bucket). Убедитесь, что в нем появился JSON-файл с данными из заполненной формы.

   Название папки, в которой будет расположен файл, соответствует внутреннему идентификатору формы. Сохраните этот идентификатор — он понадобится для следующих шагов.

   Все последующие результаты заполнения формы будут сохраняться в этой папке.

1. Заполните форму еще несколько раз, причем одно из полей заполните одинаково хотя бы в двух формах. В дальнейшем это увеличит наглядность при тестировании интеграции.
