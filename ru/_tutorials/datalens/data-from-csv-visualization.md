# Простой дашборд из CSV-файла



{% include [datalens-folder-navigation-note](../../_includes/datalens/datalens-folder-navigation-note.md) %}


В этом руководстве будет продемонстрировано, как {{ datalens-short-name }} можно использовать для исследования зависимостей, например:

* Цвет глаз и цвет волос супергероя от его пола.
* Цвет глаз и цвет волос от его принадлежности к лагерю хороших или плохих.

В качестве исходных данных будет использоваться файл `SuperHeroes.csv` с информацией о супергероях — имя, пол, раса, издатель комиксов и т. д. [Скачайте](https://storage.yandexcloud.net/datalens/SuperHeroes.csv) его перед прохождением руководства.

Для визуализации и исследования данных [подготовьте {{ datalens-short-name }} к работе](#before-you-begin), затем выполните следующие шаги:

1. [Создайте воркбук](#create-workbook).
1. [Создайте подключение](#create-connection).
1. [Создайте датасет](#create-dataset).
1. [Создайте чарт — столбчатая диаграмма](#create-column-chart).
1. [Создайте чарт — кольцевая диаграмма](#create-ring-chart).
1. [Создайте дашборд и добавьте на него чарты](#create-dashboard).
1. [Добавьте селекторы на дашборд](#add-selectors).
1. [Приступите к исследованию зависимостей и данных о супергероях](#search-on-dashboard).


## Перед началом работы {#before-you-begin}

{% include [before-you-begin](../_tutorials_includes/before-you-begin-datalens.md) %}

## Создайте воркбук {#create-workbook}

1. Перейдите на [главную страницу]({{ link-datalens-main }}) {{ datalens-short-name }}.
1. На панели слева выберите ![collections](../../_assets/console-icons/rectangles-4.svg) **Коллекции и воркбуки**.
1. В правом верхнем углу нажмите **Создать** → **Создать воркбук**.
1. Введите название [воркбука](../../datalens/workbooks-collections/index.md) — `Практические руководства`.
1. Нажмите кнопку **Создать**.


## Создайте подключение {#create-connection}

Создайте [подключение](../../datalens/concepts/connection.md) к файлу с исходными данными.


1. В правом верхнем углу воркбука нажмите **Создать** → ![image](../../_assets/console-icons/thunderbolt.svg) **Подключение**.



1. В разделе **Файлы и сервисы** выберите подключение **Файлы**.
1. Нажмите кнопку ![image](../../_assets/console-icons/plus.svg) **Загрузить файлы**.
1. Выберите файл **SuperHeroes.csv**. Дождитесь, когда на экране появится содержимое таблицы.
1. Нажмите кнопку **Создать подключение**.

   ![image](../../_assets/datalens/solution-01/01-save-file-connection.png)

1. Введите название подключения — `SuperHeroes` и нажмите кнопку **Создать**.

## Создайте датасет {#create-dataset}

Создайте [датасет](../../datalens/dataset/index.md) на базе подключения `SuperHeroes`:

1. На странице подключения в правом верхнем углу нажмите кнопку **Создать датасет**.
1. Перейдите на вкладку **Поля**.
1. Создайте поле с показателем количества супергероев:

   1. Продублируйте поле `Name` — в правой части строки с полем нажмите ![image](../../_assets/console-icons/ellipsis.svg) и выберите **Дублировать**.
   1. Переименуйте дубликат поля `Name (1)` в `Heroes count`: нажмите на имя поля, удалите текущее имя и введите новое.
   1. В столбце **Агрегация** выберите **Количество уникальных**. Поле с агрегацией поменяет цвет на синий: оно стало показателем.

      ![image](../../_assets/datalens/solution-01/03-count-heroes.png)
   
1. Сохраните датасет:

   1. В правом верхнем углу нажмите кнопку **Сохранить**.
   1. Введите название датасета — `SuperHeroes dataset` и нажмите кнопку **Создать**.

## Создайте чарт — столбчатая диаграмма {#create-column-chart}

Для визуализации разделения супергероев по принадлежности к лагерю хороших или плохих создайте [чарт](../../datalens/concepts/chart/index.md) — [столбчатую диаграмму](../../datalens/visualization-ref/column-chart.md):

1. На странице датасета в правом верхнем углу нажмите кнопку **Создать чарт**.
1. Добавьте в чарт признак принадлежности к лагерю хороших или плохих. Для этого из раздела **Измерения** перетащите поле `Alignment` в секцию **X**.
1. Добавьте в чарт количество супергероев. Для этого из раздела **Показатели** перетащите поле `Heroes count` в секцию **Y**.
1. Отсортируйте столбцы по количества супергероев. Для этого из раздела **Показатели** перетащите поле `Heroes count` в секцию **Сортировка**.

   ![image](../../_assets/datalens/solution-01/04-chart-section-1.png)

1. Добавьте на график цветовое разделение супергероев по признаку принадлежности к лагерю хороших или плохих. Для этого из раздела **Измерения** перетащите поле `Alignment` в секцию **Цвета**.
1. Переопределите цвета значений измерения `Alignment`:

   1. Нажмите значок ![image](../../_assets/console-icons/gear.svg) в секции **Цвета** (значок появляется при наведении указателя на секцию).
   1. Выберите цвета: **good** — зеленый, **neutral** — синий, **bad** — красный, **unknown** — оранжевый.
   1. Нажмите кнопку **Применить**.

      ![image](../../_assets/datalens/solution-01/06-chart-color-set1.png)

1. Добавьте на график подписи с количеством супергероев. Для этого из раздела **Показатели** перетащите поле `Heroes count` в секцию **Подписи**.

   ![image](../../_assets/datalens/solution-01/05-chart-section-2.png)

1. Сохраните чарт:

   1. В правом верхнем углу нажмите кнопку **Сохранить**.
   1. В открывшемся окне введите название чарта `SuperHeroes — alignment` и нажмите кнопку **Сохранить**.

   ![image](../../_assets/datalens/solution-01/08-chart-save.png)

## Создайте чарт — кольцевая диаграмма {#create-ring-chart}

Для отображения количества героев каждого пола создайте [кольцевую диаграмму](../../datalens/visualization-ref/ring-chart.md).

1. Создайте копию чарта, созданного на предыдущем шаге:

   1. В правом верхнем углу нажмите значок ![save-button](../../_assets/console-icons/chevron-down.svg) → **Сохранить как копию**.

      ![save-chart-as-copy](../../_assets/datalens/solution-01/09-save-chart-as-copy.png)      

   1. В открывшемся окне введите название нового чарта `SuperHeroes — gender` и нажмите кнопку **Сохранить**.

1. Выберите тип визуализации **Кольцевая диаграмма**.

   ![image](../../_assets/datalens/solution-01/10-choose-ring-chart.png)

1. Замените цветовое разделение супергероев по принадлежности к лагерю хороших или плохих на цветовое разделение по половой принадлежности. Для этого из раздела **Измерения** перетащите поле `Gender` в секцию **Цвет** и наведите его над полем `Alignment`, пока то не станет красным.
1. Переопределите цвета значений измерения `Gender`:

   1. Нажмите значок ![image](../../_assets/console-icons/gear.svg) в секции **Цвета** (значок появляется при наведении указателя на секцию).
   1. Выберите цвета: **Female** — розовый, **Male** — синий, **unknown** — оранжевый.
   1. Нажмите кнопку **Применить**.

1. Установите отображение количества супергероев для каждого пола в процентах:

   1. Нажмите значок перед названием поля в секции **Подписи**.
   1. В поле **Значение подписи** выберите `В процентах`, затем нажмите кнопку **Применить**.

   ![image](../../_assets/datalens/solution-01/10-set-percent.png)

1. Сохраните чарт — в правом верхнем углу нажмите кнопку **Сохранить**.

   ![image](../../_assets/datalens/solution-01/10-save-chart-alignment.png)

## Создайте дашборд и добавьте на него чарты {#create-dashboard}

Создайте [дашборд](../../datalens/concepts/dashboard.md), на который будут добавлены чарты и другие виджеты:


1. На панели слева выберите ![collections](../../_assets/console-icons/rectangles-4.svg) **Коллекции и воркбуки** и перейдите в воркбук `Практические руководства`.
1. В правом верхнем углу нажмите **Создать** → ![image](../../_assets/console-icons/layout-cells-large.svg) **Дашборд**.



1. На панели в нижней части страницы выберите виджет **Чарт**.

   ![add-chart](../../_assets/datalens/solution-01/11-add-chart.png)   

1. В открывшемся окне нажмите кнопку **Выбрать**.
1. Выберите чарт `SuperHeroes — gender`.
1. Нажмите кнопку **Добавить**.

   ![image](../../_assets/datalens/solution-01/12-add-chart-window.png)

1. Повторите шаги 3-6, чтобы добавить чарт `SuperHeroes — alignment`.
1. Установите размеры чартов с помощью мыши и расположите их на дашборде в удобном для вас порядке.

   ![image](../../_assets/datalens/solution-01/13-dashboard1.png)

## Добавьте селекторы на дашборд {#add-selectors}

Добавьте [селекторы](../../datalens/dashboard/selector.md), чтобы фильтровать супергероев по цвету глаз (поле `Eye color`) и цвету волос (поле `Hair color`):

1. На панели в нижней части страницы выберите виджет **Селектор**.

   ![add-selector](../../_assets/datalens/solution-01/14-add-selector.png)   

1. Добавьте селектор по цвету глаз:

   1. Выберите датасет `SuperHeroes dataset`.
   1. Выберите поле `Eye color`.
   1. Включите опцию **Множественный выбор**.
   1. Нажмите кнопку **Сохранить**.

   ![image](../../_assets/datalens/solution-01/15-selector-eye-color.png)

1. Добавьте селектор по цвету волос:

   1. Убедитесь, что выбран датасет `SuperHeroes dataset`.
   1. Выберите поле `Hair color`.
   1. Включите опцию **Множественный выбор**.
   1. Нажмите кнопку **Сохранить**.

1. Расположите селекторы на дашборде в удобном для вас порядке.
1. Сохраните дашборд:

   1. В правом верхнем углу дашборда нажмите кнопку **Сохранить**.
   1. Введите название дашборда `SuperHeroes dashboard` и нажмите кнопку **Создать**.

1. Дашборд готов.

   ![image](../../_assets/datalens/solution-01/16-dashboard-saved.png)

## Исследуйте данные о супергероях {#search-on-dashboard}

1. Примените различные фильтры и исследуйте зависимости цвета глаз и волос от пола и лагеря супергероя.

   ![image](../../_assets/datalens/solution-01/17-final-dashboard.png)

   В датасете, который был исследован, прослеживаются следующие зависимости:

   * С черными глазами больше мужчин, а с зелеными — женщин.
   * С голубыми глазами больше хороших, а с краными — плохих.
   * С красными волосами больше женщин, а с черными — мужчин.
   * С серыми волосами больше плохих, а с коричневыми — хороших.

1. Далее вы можете:

   * создать новые показатели в датасете, например, средний рост (среднее от поля `Height`) и средний вес (среднее от поля `Weight`) супергероев;
   * добавить на дашборд новые чарты, например, индикатор с количеством супергероев или столбчатую диаграмму с количеством супергероев по издательствам;
   * добавить на дашборд новые селекторы, например, для выбора издательства или расы супергероев;
   * попробовать найти новые закономерности.