
Клиенты (например, виртуальные машины), которые находятся в той же [облачной сети](../../../vpc/concepts/network.md#network), что и кластер, могут обращаться к хостам кластера по их полному доменному имени (Fully Qualified Domain Name, FQDN). Однако, если клиенты находятся в другой облачной сети, то эта возможность станет недоступна. Это происходит потому, что нужные [сервисные зоны DNS](../../../dns/concepts/dns-zone.md#service-zones) создаются автоматически и обеспечивают возможность разрешения имен только в пределах одной облачной сети.


Сервис {{ dns-full-name }} позволяет настроить DNS-зону, общую сразу для нескольких облачных сетей. Это даст возможность обращаться к хостам кластера по их FQDN, даже если клиент и кластер находятся в разных облачных сетях.

{% note warning %}

Изнутри облачных сетей, для которых создана общая DNS-зона, станут недоступны по FQDN хосты кластера с включенным публичным доступом. Однако такие хосты будут по-прежнему доступны по их FQDN из интернета.

{% endnote %}

Чтобы настроить общую DNS-зону:

1. [Создайте зону в {{ dns-full-name }}](#create-peering-zone).
1. [Обеспечьте миграцию DNS-записей в зону](#do-actions-for-migration).
1. [Проверьте доступность кластера](#check-cluster-availability).

Если созданные ресурсы вам больше не нужны, [удалите их](#clear-out).

Далее будет приведен пример, в котором:

1. В облачной сети `cluster-net` размещаются кластер и виртуальная машина `cluster-vm`.
1. Создается новая облачная сеть `vm-net` с виртуальной машиной `other-vm`.
1. Проверяется доступность кластера с этих виртуальных машин.
1. Создается DNS-зона `vpc-peering-zone` и проводится миграция.
1. Повторно проверяется доступность кластера с этих виртуальных машин.
