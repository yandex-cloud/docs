---
title: "Работа с виртуальной машиной"
description: "В статье описана работа с виртуальной машиной на базе публичного образа в {{ yandex-cloud }}. Рассмотрим такие операции, как подключение к виртуальной машине с помощью пары SSH-ключей, создание пары ключей через SSH в Linux/MacOS, Windows 7,8,10, подключение к виртуальной машине по OS Login, использование SSL-сертификатов, фильтрация сетевого трафика, а также установка обновлений."
---

# Работа с виртуальной машиной на базе публичного образа

## Подключение к виртуальной машине {#ways-to-connect}

Подключение к [виртуальной машине](../../concepts/vm.md) возможно по протоколу [SSH](../../../glossary/ssh-keygen.md) с помощью пары SSH-ключей, [по OS Login](../vm-connect/os-login.md) или с помощью [серийной консоли](../serial-console/index.md).

### Подключение по SSH {#connect}

Этот способ подключения к виртуальной машине основан на использовании пары SSH-ключей: открытый ключ размещается на ВМ, закрытый ключ хранится у пользователя. Подключение с помощью пары ключей более безопасно, чем подключение по логину и паролю.

{% include [vm-connect-ssh-linux-note](../../../_includes/vm-connect-ssh-linux-note.md) %}

#### Создание пары SSH-ключей {#creating-ssh-keys}

{% include [vm-ssh-prepare-key](../../../_includes/vm-ssh-prepare-key.md) %}

#### Подключение с помощью SSH-ключей {#vm-connect}

{% include [vm-connect-ssh-keys](../../../_includes/vm-connect-ssh-keys.md) %}

### Подключение по OS Login {#os-login-connect}

{% include [vm-connect-ssh-login](../../../_includes/vm-connect-ssh-login.md) %}

## Пароли к предустановленному ПО {#logins-passwords}

В {{ marketplace-name }} кроме дистрибутивов операционных систем, доступны публичные образы с предустановленным программным обеспечением. Чтобы получить пароли для настройки предустановленного ПО в таких образах:

1. Подключитесь к ВМ.

1. Пароли к предустановленному ПО находятся в файле `/root/default_passwords.txt`. Файл доступен для чтения и редактирования только суперпользователю. Получите список паролей с помощью команды:

   ```bash
   sudo cat /root/default_passwords.txt
   ```

Если в публичном образе ВМ отсутствует предустановленное ПО, файла с паролями не будет.

## Использование протокола SSL {#ssl}

Чтобы использовать [SSL](../../../glossary/ssl-certificate.md), сгенерируйте SSL-сертификат и настройте веб-сервер для работы с ним.

Для [создания](../../../certificate-manager/operations/managed/cert-create.md) SSL-сертификата можно воспользоваться сервисом [{{ certificate-manager-full-name }}](../../../certificate-manager/). Сертификат можно [экспортировать](../../../certificate-manager/operations/managed/cert-get-content.md) и использовать на веб-сервере.

## Фильтрация сетевого трафика {#network-filter}

На виртуальных машинах на базе публичного образа открыты только порты, необходимые для настройки и работы предустановленного программного обеспечения.

Вы можете посмотреть список открытых портов для конкретной виртуальной машины при [подключении с помощью пары SSH-ключей](../vm-connect/ssh.md). Чтобы открыть дополнительные порты, воспользуйтесь утилитой `iptables`.

На уровне [облачной сети](../../../vpc/concepts/network.md#network) сетевой трафик фильтруется с помощью [групп безопасности](../../../vpc/concepts/security-groups.md). Чтобы разрешить определенный трафик для виртуальной машины на уровне сети, [настройте](../../../vpc/operations/security-group-add-rule.md) группу безопасности и [привяжите](../vm-control/vm-change-security-groups-set.md) ее к ВМ.

## Установка обновлений {#updates}

На виртуальных машинах на базе публичного образа операционная система и программное обеспечение не обновляются автоматически. Вы можете обновлять их самостоятельно.