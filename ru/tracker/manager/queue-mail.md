# Почта


В {{ tracker-name }} можно создавать задачи из писем, отправленных на почтовый адрес очереди, и [вести переписку с внешними пользователями](../user/comments.md#send-comment) со страницы задачи. Например, это полезно, чтобы [регистрировать обращения пользователей в службу поддержки](../support-process-send-mail.md).

По умолчанию настраивать очередь может [только ее владелец](queue-access.md). Чтобы настроить интеграцию с почтой, потребуется специальный почтовый адрес. Можно использовать несколько адресов, чтобы создавать задачи разных типов или с разными [компонентами](components.md).

Интеграция с почтой в {{ tracker-name }} отличается для организаций в {{ yandex-cloud }} и {{ ya-360 }}.

В организации {{ yandex-cloud }} в качестве почтового адреса очереди можно использовать адрес, созданный на любом почтовом сервере. Единственное условие — адрес должен использоваться только для задач очереди.

В организации {{ ya-360 }} в качестве почтового адреса очереди можно использовать:
* Адрес, созданный на любом почтовом сервере — должен быть новым и использоваться только для задач очереди.
* Адрес на домене организации — должен использоваться только для создания задач, комментариев и в качестве обратного адреса при [отправке писем](../user/comments.md#send-comment) внешним пользователям. В него нельзя войти как в обычный почтовый ящик, просмотреть или отправить письма.

{% list tabs %}

- На произвольном почтовом сервере

  1. На любом почтовом сервере заведите почтовый адрес для очереди. Все письма, которые поступят на этот адрес, станут задачами в очереди.
  1. Откройте страницу очереди.
  1. Нажмите ![](../../_assets/tracker/icon-settings.png) **Настройки очереди** → **Почтовые ящики** → **Добавить адрес**.
  1. Настройте почтовый ящик для получения писем:
      1. В поле **Почта** укажите почтовый адрес, который вы завели на шаге 1, вместе с доменом, например, `{{ example-account }}`. Поле **Логин** заполнится автоматически. 
      1. В поле **Пароль** укажите пароль для почтового адреса. Если выбранный почтовый сервер позволяет контролировать доступ к почтовому ящику с помощью пароля приложения, укажите в этом поле пароль приложения для почтовых клиентов. [Узнать больше о паролях приложений в документации Яндекс ID](https://yandex.ru/support/id/authorization/app-passwords.html). 
      1. Укажите IMAP-сервер и порт почтового сервера — это необходимо для сбора писем. Узнать эти данные можно в настройках или в документации почтового сервиса.
      1. Для установления соединения по протоколу SSL активируйте опцию **Защищенное соединение**.
      1. Если требуется обрабатывать письма не только от сотрудников организации, но и от внешних пользователей, активируйте настройку **Принимать письма не только от сотрудников организации**.
      1. Проверьте созданное подключение.
  1. Укажите параметры, с которыми должны создаваться задачи очереди: тип задачи и [компоненты](components.md).
  1. Если вы хотите, чтобы комментарии из задачи так же отправлялись в виде писем:
      1. Для отправки писем из задачи можно использовать тот же почтовый адрес, что и для получения писем. Если вам требуется отдельный почтовый адрес для отправки писем, создайте его.
      1. В поле **Логин** укажите логин для подключения к SMTP-серверу. В зависимости от требований почтового сервера логин указывается без домена или вместе с ним, например, `{{ example-account }}`.
      1. В поле **Пароль** укажите пароль для почтового адреса.
      1. Укажите SMTP-сервер и порт почтового сервера — это необходимо для пересылки писем. Узнать эти данные можно в настройках или в документации почтового сервиса.
      1. Для установления соединения по протоколу SSL активируйте опцию **Защищенное соединение**.
      1. Настройте подписи для отправляемых писем. Обязательно заполняйте **Псевдоним** — по нему вы сможете различать подписи в общем списке. Получатели письма увидят псевдоним вместо имени отправителя письма.
      1. Проверьте, что все работает: отправьте тестовое письмо.
  1. Нажмите **Создать**. Почтовый адрес, который вы создали для очереди, заработает в течение часа после создания.
  1. Если вы настраивали отправку комментариев из задачи в виде писем, на странице очереди нажмите ![](../../_assets/tracker/icon-settings.png) **Настройки очереди** → **Основные параметры** и в разделе **Расширенные настройки** активируйте опцию **Разрешить отправку писем наружу**.

  {% note tip %}

  Чтобы сотрудники организации могли создавать задачи по почте, настройте для них [доступ к очереди](queue-access.md).

  {% endnote %}

- На домене в Яндекс 360

  1. Откройте страницу очереди.
  1. Нажмите ![](../../_assets/tracker/icon-settings.png) **Настройки очереди** → **Почтовые ящики**.
  1. Проверьте, настроен ли у вашей организации в {{ ya-360 }} [почтовый домен]({{ support-business-domain }}). Если нет, нажмите **Подключить домен** — откроется {{ ya-360 }}, и вы сможете создать домен. Если у вас уже настроен почтовый домен в другом сервисе, вы можете создать для него поддомен и [подключить в {{ ya-360 }}]({{ support-business-domain }}).
  1. Нажмите **Настроить почту**.
  1. Настройте почтовый ящик для получения и отправки писем:
     1. В поле **Почта** укажите новый почтовый адрес, который будет использоваться только для очереди.
     1. Если требуется обрабатывать письма не только от сотрудников организации, но и от внешних пользователей, активируйте настройку **Принимать письма не только от сотрудников организации**.
  1. Укажите параметры, с которыми должны создаваться задачи очереди: [тип задачи](add-ticket-type.md) и [компоненты](components.md).
  1. Настройте подписи для отправляемых писем. Обязательно заполняйте **Псевдоним** — по нему вы сможете различать подписи в общем списке. Получатели письма увидят псевдоним вместо имени отправителя письма. Проверьте, что все работает: отправьте тестовое письмо.
  1. Нажмите **Создать**. Почтовый адрес, который вы создали для очереди, заработает в течение часа после создания.

  {% note tip %}

  Чтобы сотрудники организации могли создавать задачи по почте, настройте для них [доступ к очереди](queue-access.md).

  {% endnote %}

{% endlist %}






















