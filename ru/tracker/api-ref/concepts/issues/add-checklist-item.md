# Создать чеклист или добавить в него пункты

Запрос позволяет создать [чеклист](../../user/checklist.md) и добавить в него новые пункты.

## Формат запроса {#query}

Перед выполнением запроса [получите доступ к API](../access.md).

Чтобы создать чеклист или добавить в него новые пункты, используйте HTTP-запрос с методом `POST`. Параметры запроса передаются в его теле в формате JSON.

```json
POST /{{ ver }}/issues/<issue-id>/checklistItems
Host: {{ host }}
Authorization: OAuth <OAuth-токен>
X-Org-Id: <идентификатор организации>

{
    "text: "<Текст пункта>",
    "checked": "<true|false>"
}
```

#### Параметры тела запроса {#req-body-params}

Тело запроса содержит информацию, необходимую для создания чеклиста или добавления в него пункта:

**Обязательные параметры**

Параметр | Описание | Тип данных
----- | ----- | -----
text | Текст пункта. | Строка.
checked | Отметка о выполнении пункта. | Логический.

## Формат ответа {#answer}

{% list tabs %}

- Запрос выполнен успешно

  В случае успешного выполнения запроса API возвращает ответ с кодом `200 OK`. Тело ответа содержит JSON-объект с параметрами чеклиста и задачи, в которую он был добавлен.

  ```json
  {
      "self": "https://api.tracker.yandex.net/v2/issues/ORG-3",
      "id": "5f981c00b982f0755dbdc13d",
      "key": "ORG-3",
      "version": 133,
      "lastCommentUpdatedAt": "2020-12-13T13:18:22.965+0000",
      "pendingReplayFrom": [
          {
              "self": "https://api.tracker.yandex.net/v2/users/1134669289",
              "id": "id сотрудника",
              "display": "Имя Фамилия"
          }
      ],
      "summary": "Название задачи",
      "statusStartTime": "2020-11-03T11:19:24.733+0000",
      "updatedBy": {
          "self": "https://api.tracker.yandex.net/v2/users/19904929",
          "id": "id сотрудника",
          "display": "Имя Фамилия"
      },
      "description": "Описание задачи",
      "type": {
          "self": "https://api.tracker.yandex.net/v2/issuetypes/2",
          "id": "2",
          "key": "task",
          "display": "Задача"
      },
      "priority": {
          "self": "https://api.tracker.yandex.net/v2/priorities/3",
          "id": "3",
          "key": "normal",
          "display": "Средний"
      },
      "previousStatusLastAssignee": {
          "self": "https://api.tracker.yandex.net/v2/users/1134669289",
          "id": "id сотрудника",
          "display": "Имя Фамилия"
      },
      "createdAt": "2020-10-27T13:09:20.085+0000",
      "followers": [
          {
              "self": "https://api.tracker.yandex.net/v2/users/19904929",
              "id": "id сотрудника",
              "display": "Имя Фамилия"
          }
      ],
      "createdBy": {
          "self": "https://api.tracker.yandex.net/v2/users/1134669289",
          "id": "id сотрудника",
          "display": "Имя Фамилия"
      },
      "checklistItems": [
          {
              "id": "5fde5f0a1aee261dd3b62edb",
              "text": "пункт чеклиста",
              "textHtml": "текст пункта в формате HTML",
              "checked": false,
              "checklistItemType": "standard"
          }
      ],
      "votes": 0,
      "assignee": {
          "self": "https://api.tracker.yandex.net/v2/users/1134669289",
          "id": "id сотрудника",
          "display": "Имя Фамилия"
      },
      "deadline": "2020-10-28",
      "queue": {
          "self": "https://api.tracker.yandex.net/v2/queues/ORG",
          "id": "1",
          "key": "ORG",
          "display": "Стартрек"
      },
      "updatedAt": "2020-12-19T20:14:02.648+0000",
      "status": {
          "self": "https://api.tracker.yandex.net/v2/statuses/2",
          "id": "2",
          "key": "needInfo",
          "display": "Требуется информация"
      },
      "previousStatus": {
          "self": "https://api.tracker.yandex.net/v2/statuses/3",
          "id": "3",
          "key": "inProgress",
          "display": "В работе"
      },
      "favorite": false
  }
  ```

  #### Параметры ответа {#answer-params}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Адрес ресурса API, который содержит информацию о задаче. | Строка.
  id | Идентификатор задачи. | Строка.
  version | Версия задачи. Каждое изменение параметров увеличивает номер версии. | Число.
  key | Ключ задачи. | Строка.
  [pendingReplayFrom](#pending-replay-from) | Объект с информацией о сотруднике, от которого ожидается ответ. | Объект.
  lastCommentUpdatedAt | Время обновления последнего комментария. | Строка.
  summary | Название задачи. | Строка.
  statusStartTime | Время создание задачи. | Строка.
  [updatedBy](#updated-by) | Объект с информацией о последнем сотруднике, изменявшим задачу. | Объект.
  description | Описание задачи. | Строка.
  [type](#type) | Объект с информацией о типе задачи. | Объект.
  [priority](#priority) | Объект с информацией о приоритете. | Объект.
  [previousStatusLastAssignee](#previous-status-last-assignee) | Объект с информацией об исполнителе задачи в предыдущем статусе. | Объект.
  createdAt | Дата и время создания задачи. | Строка.
  [followers](#followers) | Массив объектов с информацией о наблюдателях задачи. | Объект.
  [createdBy](#created-by) | Объект с информацией о создателе задачи. | Объект.
  [checklistItems](#checklist-items) | Массив объектов с информацией о пунктах чеклиста. | Объект.
  votes | Количество голосов за задачу. | Число.
  [assignee](#assignee) | Объект с информацией об исполнителе задачи. | Объект.
  deadline | Крайний срок выполнения задачи. | Строка.
  updatedAt | Дата и время последнего обновления задачи. | Строка.
  [queue](#queue) | Объект с информацией об очереди задачи. | Объект.
  [status](#status) | Объект с информацией о статусе задачи. | Объект.
  [previousStatus](#previous-status) | Объект с информацией о предыдущем статусе задачи. | Объект.
  favorite | Признак избранной задачи:<ul><li>`true` — пользователь добавил задачу в избранное;</li><li>`false` — задача не добавлена в избранное.</li></ul> | Число.
		
  **Поля объекта** `updatedBy` {#updated-by}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Адрес ресурса API, который содержит информацию о пользователе. | Строка.
  id | Идентификатор пользователя. | Число.
  display | Отображаемое имя пользователя. | Строка.

  **Поля объекта** `pendingReplayFrom` {#pending-replay-from}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Адрес ресурса API, который содержит информацию о пользователе. | Строка.
  id | Идентификатор пользователя. | Число.
  display | Отображаемое имя пользователя. | Строка.

  **Поля объекта** `type` {#type}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Ссылка на тип задачи. | Строка.
  id | Идентификатор типа задачи. | Строка.
  key | Ключ типа задачи. | Строка.
  display | Отображаемое название типа задачи. | Строка.

  **Поля объекта** `priority` {#priority}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Ссылка на тип приоритета. | Строка.
  id | Идентификатор приоритета. | Строка.
  key | Ключ приоритета. | Строка.
  display | Отображаемое название приоритета. | Строка.

  **Поля объекта** `previousStatusLastAssignee` {#previous-status-last-assignee}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Адрес ресурса API, который содержит информацию о пользователе. | Строка.
  id | Идентификатор пользователя. | Число.
  display | Отображаемое имя пользователя. | Строка.

  **Поля объекта** `followers` {#followers}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Адрес ресурса API, который содержит информацию о пользователе. | Строка.
  id | Идентификатор пользователя. | Число.
  display | Отображаемое имя пользователя. | Строка.

  **Поля объекта** `createdBy` {#created-by}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Адрес ресурса API, который содержит информацию о пользователе. | Строка.
  id | Идентификатор пользователя. | Число.
  display | Отображаемое имя пользователя. | Строка.

  **Поля объекта** `checklistItems` {#checklist-items}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  id | Идентификатор пункта чеклиста. | Строка.
  text | Текст пункта чеклиста. | Строка.
  textHtml | Текст пункта чеклиста в формате HTML. | Строка.
  checked | Признак выполнения пункта чеклиста:<ul><li>`true` — пункт отмечен как выполненный;</li><li>`false` — пункт не отмечен как выполненный.</li></ul> | Логический.
  checklistItemType | Тип пункта чеклиста. | Строка.

  **Поля объекта** `assignee` {#assignee}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Адрес ресурса API, который содержит информацию о пользователе. | Строка.
  id | Идентификатор пользователя. | Число.
  display | Отображаемое имя пользователя. | Строка.

  **Поля объекта** `queue` {#queue}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Ссылка на очередь. | Строка.
  id | Идентификатор очереди. | Число.
  key | Ключ очереди. | Строка.
  display | Отображаемое название очереди. | Строка.

  **Поля объекта** `status` {#status}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Ссылка на статус. | Строка.
  id | Идентификатор статуса. | Строка.
  key | Ключ статуса. | Строка.
  display | Отображаемое название статуса. | Строка.

  **Поля объекта** `previousStatus` {#previous-status}
    
  Параметр | Описание | Тип данных
  ----- | ----- | -----
  self | Ссылка на статус. | Строка.
  id | Идентификатор статуса. | Строка.
  key | Ключ статуса. | Строка.
  display | Отображаемое название статуса. | Строка.

- Запрос выполнен с ошибкой

    Если запрос не был успешно обработан, API возвращает ответ с кодом ошибки:

    400
    :   Один или несколько параметров запроса имеют недопустимое значение.

    404
    :   Запрошенный объект не был найден. Возможно, вы указали неверное значение идентификатора или ключа объекта.

    422
    :   Ошибка валидации. Возможно, тело запроса содержит недопустимый или несуществующий параметр.

{% endlist %}

