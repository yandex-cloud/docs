# Создать доску

Запрос позволяет создать доску.

## Формат запроса {#section_vrf_rfv_cgb}

Чтобы создать доску, используйте HTTP-запрос с методом `POST`:

```json
POST /{{ ver }}/boards/
Host: {{ host }}
Authorization: OAuth <токен>
{{ org-id }}

{
 "name" : "Тестирование",
 "boardType": "default",
 "defaultQueue": {
        "id": "111",
        "key": "test"
        },
 "filter": {
      "<ключ параметра 1>": "<значение 1>",
      "<ключ параметра 2>": [
          "<значение 2>", 
                        ...
       ],
        ...
    },
 "orderBy": "updated",
 "orderAsc": false,
 "query": "<Параметр 1>: <Значение 1> AND <Параметр 2>: <Значение 2> OR <Параметр 3>: <Значение 3>...",
 "useRanking": false,
 
 "country": {
     "id": "1"
  }
}
```

{% include [headings](../_includes/tracker/api/headings.md) %}

#### Тело запроса {#req-body-params}

Тело запроса содержит параметры новой доски:

Параметр | Описание | Тип данных
-------- | -------- | ----------
name | Название доски. Обязательное поле. | Строка
boardType | Тип доски.<br/>Возможные типы досок:<ul><li>`default` — Простая;</li><li>`scrum`— Скрам;</li><li>`kanban` — Канбан.</li></ul> | Строка
[defaultQueue](#req-defaultQueue) | Очередь. Обязательное поле. | Может задаваться как объект, как строка (если передается ключ очереди), как число (если передается идентификатор очереди).
[filter](#req-filter) | Объект с информацией об условиях фильтра, с помощью которого отбираются задачи для доски.<br/>Параметры задачи состоят из полей и значений.<br/>Группа параметров `filter`, `orderBy` и `orderAsc` несовместима с параметром `query`, который также описывает условия фильтра. | Объект
orderBy | Ключ поля.<br/>Поле служит параметром для сортировки задач на доске.<br/>Полный список полей: [{{ link-admin-fields }}]({{ link-admin-fields }}) | Строка
orderAsc | Направление сортировки:<ul><li>`true` — по возрастанию значений поля;</li><li>`false` — по убыванию значений поля.</li></ul> | Логический
query | Параметры фильтра, с помощью которого отбираются задачи для доски.<br/>Параметры задаются на [языке запросов](user/query-filter.md).<br/>Параметр `query` несовместим с группой параметров, которые также описывают условия фильтра: `filter`, `orderBy` и `orderAsc`. | Строка
useRanking | Возможность менять порядок задач на доске:<ul><li>`true`— разрешено;</li><li>`false`— запрещено.</li></ul> | Логический
[country](#req-country) | Объект с информацией о стране. Данные производственного календаря страны используются в Диаграмме сгорания задач.<br/>Чтобы получить список стран, используйте HTTP-запрос: `GET /v2/countries` | Объект

**Поля объекта** `defaultQueue` {#req-defaultQueue}

Параметр | Описание | Тип данных
-------- | -------- | ----------
id | Идентификатор очереди. | Строка
key | Ключ очереди. | Строка

**Поля объекта** `filter` {#req-filter}

Параметр | Описание | Тип данных
-------- | -------- | ----------
\<ключ параметра 1\> | Ключ поля, который является параметром отбора задач на доску.<br/>Полный список полей: [{{ link-admin-fields }}]({{ link-admin-fields }}) | Строка
\<ключ параметра 2\> | Массив с ключами полей, которые являются параметрами отбора задач на доску.<br/>Полный список полей: [{{ link-admin-fields }}]({{ link-admin-fields }}) | Массив

**Поля объекта** `country` {#req-country}

Параметр | Описание | Тип данных
-------- | -------- | ----------
id | Идентификтор страны. | Строка

## Формат ответа {#section_btz_zzv_cgb}

{% list tabs %}

- Запрос выполнен успешно

    В случае успешного выполнения запроса API возвращает ответ с кодом 200. Тело ответа содержит JSON-объект с параметрами новой доски.

    #### Тело ответа {#answer-body}

    ```json
    {
      "self" : "http://api.tracker.yandex.net/v2/boards/1",
      "id" : 1,
      "version" : 1,
      "name" : "Тестирование", 
      "columns" : 
      [ 
       {
        "self" : "http://api.tracker.yandex.net/v2/boards/1/columns/1387461731452",
        "id" : "1387461731452",
        "display" : "Открыт"
       },
        ...
      ],
      "filter": {
         "<ключ параметра 1>": "<значение 1>",
         "<ключ параметра 2>": [
              "<значение 2>", 
                             ...
            ],
             ...
         },
      "orderBy": "updated",
      "orderAsc": false,
      "query": "<Параметр 1>: <Значение 1> AND <Параметр 2>: <Значение 2> OR <Параметр 3>: <Значение 3>...",
      "useRanking": false,
      
      "country": {
           "self": "{{ host }}/v2/countries/1",
           "id": "1",
           "display": "Россия"
            }
    }
    ```

    #### Параметры ответа {#answer-params}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------
    self | Адрес ресурса API, который содержит параметры доски. | Строка
    id | Идентификатор доски. | Число
    version | Версия доски. Каждое изменение доски увеличивает номер версии. | Число
    name | Название доски. | Строка
    [columns](#ans-columns) | Объект с информацией о колонках доски. | Объект
    [filter](#ans-filter) | Объект с информацией об условиях фильтра, с помощью которого отбираются задачи для доски.<br/>Параметры задачи состоят из полей и значений. | Объект
    orderBy | Ключ поля.<br/>Поле служит параметром для сортировки задач на доске.<br/>Полный список полей: [{{ link-admin-fields }}]({{ link-admin-fields }}) | Строка
    orderAsc | Направление сортировки:<ul><li>`true` — по возрастанию значений поля;</li><li>`false` — по убыванию значений поля.</li></ul> | Логический
    query | Параметры фильтра, с помощью которого отбираются задачи для доски.<br/>Параметры задаются на [языке запросов](user/query-filter.md). | Строка
    useRanking | Возможность менять порядок задач на доске:<ul><li>`true`— разрешено;</li><li>`false`— запрещено.</li></ul> | Логический
    [country](#ans-country) | Объект с информацией о стране. Данные производственного календаря страны используются в Диаграмме сгорания задач.<br/>Чтобы получить список стран, используйте HTTP-запрос: `GET /v2/countries` | Объект

    **Поля объекта** `columns` {#ans-columns}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------
    self | Адрес ресурса API, который содержит информацию о колонке доски. | Строка
    id | Идентификатор колонки. | Строка
    display | Отображаемое название колонки. | Строка

    **Поля объекта** `filter` {#ans-filter}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------
    \<ключ параметра 1\> | Ключ поля, который является параметром отбора задач на доску.<br/>Полный список полей: [{{ link-admin-fields }}]({{ link-admin-fields }}) | Строка
    \<ключ параметра 2\> | Массив с ключами полей, которые являются параметрами отбора задач на доску.<br/>Полный список полей: [{{ link-admin-fields }}]({{ link-admin-fields }}) | Массив

    **Поля объекта** `country` {#ans-country}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------
    self | Адрес ресурса API, который содержит название страны. | Строка
    id | Идентификтор страны. | Строка
    display | Отображаемое название страны. | Строка

- Запрос выполнен с ошибкой

    Если запрос не был успешно обработан, ответное сообщение содержит информацию о возникших ошибках:

    HTTP-код ошибки | Описание ошибки
    --------------- | ---------------
    400 Bad Request | Один из параметров запроса имеет недопустимое значение или формат данных.
    403 Forbidden | У пользователя или приложения нет прав на доступ к ресурсу, запрос отклонен.
    404 Not Found | Запрашиваемый ресурс не найден.
    422 Unprocessable Entity | Ошибка валидации JSON, запрос отклонен.
    500 Internal Server Error | Внутренняя ошибка сервиса. Попробуйте повторно отправить запрос через некоторое время.
    503 Service Unavailable | Сервис API временно недоступен.

{% endlist %}
