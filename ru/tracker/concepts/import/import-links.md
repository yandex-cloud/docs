---
title: "Как импортировать связи"
description: "В данной статье описаны особенности импорта связей."
sourcePath: ru/tracker/api-ref/concepts/import/import-links.md
---

# Импортировать связи

{% note warning %}

Запрос может быть выполнен только если у пользователя есть право на изменение задачи, связи которой импортируются.

{% endnote %} 

С помощью запроса вы можете импортировать в {{ tracker-name }} связи задачи с другими задачами.

## Формат запроса {#section_i14_lyb_p1b}

Чтобы импортировать связь, используйте HTTP-запрос с методом `POST`. Параметры связи передаются в теле запроса в формате JSON:

```json
POST /{{ ver }}/issues/<issue_id>/links/_import
Host: {{ host }}
Authorization: OAuth <токен>
{{ org-id }}

{
  "relationship": "relates",
  "issue": "TEST-2",
  "createdAt": "2017-08-29T12:34:41.740+0000",
  "createdBy": 1110000000011111,
  "updatedAt": "2017-09-07T11:24:31.140+0000",
  "updatedBy": 1110000000011111
}
```

{% include [headings](../../../_includes/tracker/api/headings.md) %}

{% cut "Ресурс" %}

Параметр | Описание | Тип данных
--- | --- | ---
\<issues-id\> | Ключ задачи, к которой будет прикреплен файл. | Строка

{% endcut %}

{% cut "Параметры тела запроса" %}

**Обязательные параметры**

Параметр | Описание | Тип данных
-------- | -------- | ----------
relationship | Тип связи между задачами:<ul><li>`relates` — простая связь.</li><li>`is dependent by` — текущая задача является блокером.</li><li>`depends on` — текущая задача зависит от связываемой</li><li>`is subtask for` — текущая задача является подзадачей связываемой.</li><li>`is parent task for` — текущая задача является родительской для связываемой задачи.</li><li>`duplicates` — текущая задача дублирует связываемую.</li><li>`is duplicated by` — связываемая задача дублирует текущую.</li><li>`is epic of` — текущая задача является эпиком связываемой. Связь такого типа можно установить только для задач типа "Эпик".</li><li>`has epic` — связываемая задача является эпиком текущей. Связь такого типа можно установить только для задач типа "Эпик".</li><li>`clone` — связываемая задача является клоном текущей.</li><li>`original` — текущая задача является клоном связанной.</li></ul> | Строка
issue | Идентификатор или ключ связываемой задачи. | Строка
createdAt | Дата и время создания связи. формате `YYYY-MM-DDThh:mm:ss.sss±hhmm`. Вы можете указать время в интервале от создания до последнего обновления задач, между которыми устанавливается связь. | Строка
createdBy | Логин или идентификатор создателя связи. | <ul><li>Строка для логина</li><li>Число для идентификатора</li></ul>

**Дополнительные параметры**

Параметр | Описание | Тип данных
-------- | -------- | ----------
updatedAt | Дата и время последнего изменения связи. формате `YYYY-MM-DDThh:mm:ss.sss±hhmm`. Вы можете указать время в интервале от создания до последнего обновления задач, между которыми устанавливается связь.<br/><br/>Параметр указывается только вместе с параметром `updatedBy`. | Строка
updatedBy | Логин или идентификатор пользователя, который редактировал связь последним.<br/><br/>Параметр указывается только вместе с параметром `updatedAt`. | <ul><li>Строка для логина</li><li>Число для идентификатора</li></ul>

{% endcut %}

## Формат ответа {#section_isd_myb_p1b}

{% list tabs %}

- Запрос выполнен успешно

    {% include [answer-200](../../../_includes/tracker/api/answer-200.md) %} 

    Тело ответа содержит параметры прикрепленного файла в формате JSON:

    ```json
    {
            "self": "https://{{ host }}/v2/issues/JUNE-2/links/4709605",
            "id": 4709605,
            "type": {
                "self": "https://{{ host }}/v2/linktypes/subtask",
                "id": "subtask",
                "inward": "Подзадача",
                "outward": "Родительская задача"
            },
            "direction": "outward",
            "object": {
                "self": "https://{{ host }}/v2/issues/TREK-9844",
                "id": "593cd211ef7e8a332414f2a7",
                "key": "TREK-9844"
                "display": "subtask"
            },
            "createdBy": {
                "self": "https://{{ host }}/v2/users/1120000000049224",
                "id": "<id сотрудника>",
                "display": "<отображаемое имя сотрудника>"
            },
            "updatedBy": {
                "self": "https://{{ host }}/v2/users/1120000000049224",
                "id": "<id сотрудника>",
                "display": "<отображаемое имя сотрудника>"
            },
            "createdAt": "2017-06-11T05:16:01.421+0000",
            "updatedAt": "2017-06-11T05:16:01.421+0000",
            "assignee": {
                "self": "https://{{ host }}/v2/users/1120000000049224",
                "id": "<id сотрудника>",
                "display": "<отображаемое имя сотрудника>"
            },
            "status": {
                "self": "https://{{ host }}/v2/statuses/1",
                "id": "1",
                "key": "open",
                "display": "Открыт"
            }
        }
    ```
    {% cut "Параметры ответа" %}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------
    self | Адрес ресурса API, который содержит информацию о связи. | Строка
    id | Идентификатор связи. | Число
    [type](#type) | Блок с информацией о типе связи. | Объект
    sdirection | Тип связи задачи, указанной в запросе, по отношению к задаче в поле [object](#resp-object-param). Возможны следующие значения:<ul><li>`outward` — задача, указанная в запросе, является основной для задачи в поле [object](#resp-object-param).</li><li>`inward` — задача в поле [object](#resp-object-param) является основной для задачи, указанной в запросе.</li></ul> | Строка
    [object](#object) | Блок с информацией о связанной задаче. | Объект
    [createdBy](#createdBy) | Блок с информацией о создателе связи. | Объект
    [updatedBy](#updatedBy) | Блок с информацией о последнем изменившем связанную задачу пользователе. | Объект
    createdAt | Дата и время создания связи. | Строка
    updatedAt | Дата и время изменения связи. | Строка
    [assignee](#assignee) | Исполнитель связанной задачи. | Объект
    [status](#status) | Статус связанной задачи. | Объект
        
    **Поля объекта** `type` {#type}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------
    self | Ссылка на тип связи. | Строка
    id | Идентификатор типа связи. | Строка
    inward | Название типа связи задачи в поле [object](#resp-object-param) по отношению к задаче, указанной в запросе. | Строка
    outward | Название типа связи задачи, указанной в запросе, по отношению к задаче в поле [object](#resp-object-param). | Строка

    **Поля объекта** `object` {#object}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------
    self | Адрес ресурса API, который содержит информацию о задаче. | Строка
    id | Идентификатор задачи. | Строка
    key | Ключ задачи. | Строка
    display | Отображаемое название задачи. | Строка

    **Поля объекта** `createdBy` {#createBy}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------
    self | Ссылка на пользователя. | Строка
    id | Идентификатор пользователя. | Строка
    display | Отображаемое имя пользователя. | Строка

    **Поля объекта** `updatedBy` {#updatedBy}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------   
    self | Ссылка на пользователя. | Строка
    id | Идентификатор пользователя. | Строка
    display | Отображаемое имя пользователя. | Строка

    **Поля объекта** `assignee` {#asignee}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------
    self | Ссылка на пользователя. | Строка
    id | Идентификатор пользователя. | Строка
    display | Отображаемое имя пользователя. | Строка

    **Поля объекта** `status` {#status}

    Параметр | Описание | Тип данных
    -------- | -------- | ----------
    self | Ссылка на статус. | Строка
    id | Идентификатор статуса. | Строка
    key | Ключ статуса. | Строка
    display | Отображаемое название статуса. | Строка

    {% endcut %}

- Запрос выполнен с ошибкой

    Если запрос не был успешно обработан, ответное сообщение содержит информацию о возникших ошибках:

    {% include [error](../../../_includes/tracker/api/answer-error-400.md) %}

    {% include [error](../../../_includes/tracker/api/answer-error-403.md) %}

    {% include [error](../../../_includes/tracker/api/answer-error-404.md) %}

    {% include [error](../../../_includes/tracker/api/answer-error-422.md) %}

    {% include [error](../../../_includes/tracker/api/answer-error-500.md) %}

    {% include [error](../../../_includes/tracker/api/answer-error-503.md) %}

{% endlist %}