# Мигрировать в {{ tracker-name }} из других сервисов

Если вы ведете задачи и проекты с помощью какого-либо сервиса и хотите перейти на использование {{ tracker-full-name }}, вы можете перенести в {{ tracker-name }} данные о ваших проектах и задачах:

* Если вы используете Jira, наши специалисты помогут перенести данные в {{ tracker-name }}. Для этого подготовьте данные для миграции [по инструкции ниже](#jira) и напишите в [службу технической поддержки]({{ link-tracker-support }}).

* Если вы используете какую-либо другую систему (Asana, Wrike, YouTrack и так далее), мы поможем подобрать компанию-партнера, которая перенесет ваши данные в {{ tracker-name }}. Для этого оставьте заявку с помощью [формы]({{ link-migration-form }}).

* Если вы хотите выполнить миграцию своими силами, можно импортировать данные в {{ tracker-name }} с [помощью API](#diy) или загрузить список задач из таблицы Excel с помощью [Python клиента](#excel).

## Перенести данные из Jira {#jira}


1. [Подключите {{ tracker-full-name }}](enable-tracker.md).

1. [Добавьте в {{ tracker-name }}](add-users.md) сотрудников вашей компании.

1. Создайте технический аккаунт для доступа к {{ api-name }}:

   1. Создайте новый аккаунт на Яндексе (вида `{{ example-account }}`). 
   
   1. [Добавьте](add-users.md#invite_user) созданный аккаунт в {{ tracker-name }}.

   1. Перейдите в сервис [{{ ya-360 }}]({{ link-ya-360 }}) и дайте созданному аккаунту права администратора. Подробнее читайте в [Справке {{ yandex-360 }}]({{ support-business-admin }}).
   
   После выполнения миграции аккаунт можно будет удалить или отозвать права администратора.

1. Экспортируйте ваши данные из Jira.
   
   {% cut "Как экспортировать данные" %}
    
   1. В Jira выберите **Settings** (**Настройки**) > **System** (**Система**).
   
   1. В разделе **IMPORT AND EXPORT** (**ИМПОРТ И ЭКСПОРТ**) выберите **Backup manager** (**Управление резервным копированием**).
   
   1. В разделе **Backup for Server** (**Резервная копия сервера**) включите опцию **Include additional files** (**Включить в резервную копию дополнительные файлы...**) и выберите **Create backup for server** (**Создать резервную копию сервера**).
   
      {% note warning %}
   
      Даже если вы используете облачную версии Jira, создайте резервную копию для сервера (**Backup for Server**).
	  
	  Только если создание резервной копии для сервера недоступно, создайте резервную копию для облака (**Backup for cloud**).
   
      {% endnote %}
   
   1. Когда резервная копия будет создана, нажмите ссылку **Download backup file** (**Скачать резервную копию**).

   Подробнее об экспорте данных читайте в [документации Jira](https://support.atlassian.com/jira-cloud-administration/docs/export-issues/).
   
   {% endcut %}

1. Составьте таблицу соответствия между пользователями Jira и пользователями {{ tracker-name }}.

1. Загрузите архив с экспортированным данными и таблицу соответствия пользователей на Яндекс Диск или другой подобный сервис.

   {% note info %}
   
   Если вы не используете облачные сервисы для хранения файлов и не знаете, куда загрузить данные, сообщите об этом при обращении в техническую поддержку. Сотрудники поддержки проинструктируют вас, как передать данные.
   
   {% endnote %}

1. Напишите в [техническую поддержку]({{ link-tracker-support }}) запрос на миграцию из Jira в {{ tracker-name }}. В запросе укажите:
   
   * ссылки на архив с экспортированными данными и таблицу соответствия пользователей;
   
   * учетные данные технического аккаунта с правами администратора.

1. Дождитесь, пока сотрудники технической поддержки сообщат о завершении миграции. 

   Если для миграции потребуется дополнительная информация или действия с вашей стороны, сотрудники технической поддержки свяжутся с вами.

1. После завершения миграции выдайте сотрудникам [полный доступ](access.md) в {{ tracker-name }}, назначьте [права доступа к очередям](manager/queue-access.md), удалите технический аккаунт с правами администратора.

## Перенести данные из Excel {#excel}

Если у вас есть список задач в таблице Excel, вы можете перенести данные в {{ tracker-name }} с помощью Python клиента. 

Таблица должна содержать столбцы, в которых будут указаны параметры задач. Такие же заголовки столбцов должны быть прописаны в скрипте, который обрабатывает файл Excel.

1. [Подключите {{ tracker-full-name }}.](enable-tracker.md)

1. [Добавьте в {{ tracker-name }}](add-users.md) сотрудников вашей компании.

1. Получите [доступ к API](concepts/access.md#section_about_python_client).

1. [Создайте очереди](manager/create-queue.md), в которые вы будете импортировать задачи.

1. Настройте очередь:

    - добавьте [типы задач и резолюции](manager/add-ticket-type.md);

    - настройте [статусы](manager/workflow.md);

    - создайте [версии](manager/versions.md) и [компоненты](manager/components.md).

1. При необходимости создайте [доски задач](manager/create-agile-board.md) и [спринты](manager/create-agile-sprint.md).

1. Подготовьте таблицу Excel с данными о задачах. 

1. Подготовьте Python клиент:

   1. [Установите Python клиент](user/python.md).

   1. Инициализируйте клиент.

      ```
      from yandex_tracker_client import TrackerClient
      client = TrackerClient(token='<token>', org_id='<org_id>')
      ```
      Здесь `<token>` — ваш OAuth-токен, а `<org_id>` — идентификатор организации. Чтобы узнать идентификатор организации, перейдите на [страницу настроек {{ tracker-name }}]({{ link-settings }}). Идентификатор указан в поле **{{ ui-key.startrek.blocks-desktop_b-page-settings.org-id }}**.

   1. Подключите библиотеки.

      ```
      from datetime import datetime 
      import pandas as pd
      import numpy as np
      ```

1. Выполните скрипт для загрузки данных из таблицы. 

   Python скрипт загружает задачи из файла в заданную очередь. В скрипте полям задачи присвойте значение из столбцов таблицы. 

   Рассмотрим работу со скриптом на примере импорта таблицы с заголовками **Задача**, **Описание**, **Дата завершения**, **Исполнитель**. Вы можете дополнить таблицу и скрипт другими полями.

   {% cut "Как выполнить скрипт" %}

   1. Загрузите файл с данными.

      ```
      df = pd.read_excel(r'C:\<путь к файлу>\<имя файла>.xls')
      ```

   1. Проверьте, что в скрипт подставляются заголовки столбцов таблицы.

      ```
      for i, row in df.iterrows():
         print(f"Index: {i}")
         print(f"{row['Задача']}")
         print(f"{row['Описание']}")
         print(f"{row['Дата завершения']}")
         print(f"{row['Исполнитель']}")
      ```

   1. Создайте задачи, при необходимости обновите имя автора или измените другие атрибуты задачи. 

      ```
      for i, row in df.iterrows():
  
            try:
                end=row['Дата завершения'].strftime("%Y-%m-%d")
            except Exception as e:
                end=""
          
            issue=client.issues.create(
                queue='TEST', 
                summary=row['Задача'], 
                type={'name': 'Задача'}, 
                description=row['Описание']+"\n\nДополнительное описание :\n\nhttps://tracker.yandex.ru/",
                assignee=row['Исполнитель'], 
                end=end
       )
            issue.update(author='<логин>')
            issue.update(<ключ поля>='<значение>')
         
      ```
   {% endcut %}

## Перенести данные с помощью API {#diy}

Для миграции в {{ tracker-name }} потребуется выгрузить данные из вашей текущей системы и конвертировать их в формат, который поддерживает {{ tracker-name }}. Для автоматизации переноса данных вам потребуется привлечь разработчика или компанию, которая оказывает услуги системной интеграции. 

Подробнее о формате данных, который используется в {{ api-name }}, читайте в [справочнике API](concepts/import/import-ticket.md).

Чтобы импортировать данные:

1. [Подключите {{ tracker-full-name }}](enable-tracker.md).

1. [Добавьте в {{ tracker-name }}](add-users.md) сотрудников вашей компании.

1. Получите [доступ к API](concepts/access.md).

1. [Создайте очереди](manager/create-queue.md), в которые вы будете импортировать задачи.

1. Настройте очередь:

    - добавьте [типы задач и резолюции](manager/add-ticket-type.md);

    - настройте [статусы](manager/workflow.md);

    - создайте [версии](manager/versions.md) и [компоненты](manager/components.md).

1. При необходимости создайте [доски задач](manager/create-agile-board.md) и [спринты](manager/create-agile-sprint.md).

1. Импортируйте данные в {{ tracker-name }} [с помощью API](concepts/import/import-ticket.md).


{% note warning %}

Импортировать данные в {{ tracker-name }} может только [администратор](role-model.md).

{% endnote %}

