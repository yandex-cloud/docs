# Создать шаблон в {{ forms-full-name }} (бета)

В [бета-версии нового интерфейса {{ tracker-full-name }}](../user/personal.md#sec_beta) появился встроенный конструктор форм {{ forms-full-name }}. С помощью конструктора можно создавать в очереди формы и использовать их в качестве шаблонов для задач. 

Формы для задач доступны всем пользователям, у которых есть право на создание задач в очереди. Список форм отображается на странице [создания задачи](create-ticket.md).

{% note info %}

По умолчанию управление формами доступно только владельцу очереди&nbsp;и [администратору {{ tracker-name }}](../role-model.md#admin). Чтобы другие пользователи могли создавать или изменять формы, выдайте им [доступ на изменение настроек очереди](../manager/queue-access.md).

{% endnote %}

## Создать форму {#create-template}

Формы, созданные с помощью встроенного конструктора {{ forms-full-name }}, используются в качестве шаблонов для создания задач. На форму можно добавить вопросы, ответы на которые будут переданы в задачу при помощи переменных в настройках интеграции.

{% note tip %}

Встроенный конструктор форм поддерживает только основные типы вопросов и настройки интеграции. Изменить [внешний вид формы](../../forms/appearance.md), добавить [дополнительные вопросы](../../forms/add-questions.md) и настроить [логику](../../forms/send-condition.md) их показа можно в полной версии конструктора {{ forms-full-name }}.

{% endnote %}

Чтобы создать форму для задач:

1. На панели слева нажмите кнопку ![](../../_assets/tracker/svg/create-task.svg) **{{ ui-key.startrek.blocks-desktop_b-head.new_issue }}**.

1. В поле вверху страницы выберите очередь.

1. Если в очереди еще нет форм, выберите **{{ ui-key.startrek.ui_components_PageCreateIssue.create-new }}**. Если у вас уже есть формы, нажмите кнопку **{{ ui-key.startrek.ui_components_PageCreateIssue.create-new-template }}**.

1. Введите название и описание для формы и нажмите **{{ ui-key.startrek.ui_components_PageCreateIssueForm.continue }}**.

1. Добавьте поля на форму.

    * Чтобы добавить первый вопрос, в области создания формы выберите тип вопроса.

    * Чтобы добавить на страницу еще один вопрос, нажмите **Добавить вопрос** или наведите указатель на созданный вопрос и нажмите значок ![](../../_assets/tracker/svg/icon-add.svg). Новый вопрос появится выше текущего, если навести указатель на верхнюю часть блока.

    * Чтобы скопировать или удалить вопрос, нажмите ![](../../_assets/tracker/svg/icon-copy.svg) или ![](../../_assets/tracker/svg/icon-remove.svg).

    * Чтобы добавить иллюстрацию к тексту вопроса или варианту ответа, нажмите значок ![](../../_assets/tracker/svg/icon-picture.svg).

    * Чтобы разбить форму на несколько страниц, под областью создания формы нажмите кнопку **Добавить страницу**.
    
1. Нажмите кнопку **Настроить интеграции** и укажите параметры задачи, которые будут переданы в {{ tracker-name }} из формы:

    1. В блоке **Выполнять действия** укажите **всегда**. 
    Если необходимо настроить условия, при выполнении которых будет создаваться задача, выберите **при условии**. Затем выберите вопрос и укажите ответ, при получении которого будет создана задача в {{ tracker-name }}.

    1. Укажите **Очередь**, в которой будет создана задача. Чтобы настроить для создаваемой задачи [связь](links.md) <q>Родительская задача — Подзадача</q>, выберите опцию **Сделать подзадачей** и введите ключ родительской задачи.
    
    1. Выберите **Тип задачи** и **Приоритет** задачи. Доступные типы задач зависят от [настроек очереди](../manager/add-ticket-type.md).

    1. Введите название задачи в поле **Заголовок** и постановку задачи в поле **Описание**. Для форматирования текста используйте [разметку YFM](markup.md).

    1. Чтобы назначить автора и исполнителя по умолчанию, введите логины пользователей без символа `@`. Если автор не указан, по умолчанию им будет назначен пользователь, который заполнил форму.

    1. Если вы хотите добавить в задачу поле, которого нет в списке, выберите **Добавить параметр задачи**. Поле отобразится в настройках интеграции и вы сможете указать его значение для формы.
    
        {% note info %}

        Чтобы добавить в задачу ответ на вопрос из формы, используйте переменные: выберите поле задачи и нажмите значок ![](../../_assets/tracker/svg/icon-add.svg). Подробнее о переменных читайте в [документации сервиса {{ forms-full-name }}](../../forms/vars.md).

        {% endnote %}

    1. Чтобы передать в задачу вложения из формы, в поле **Прикреплять файлы из ответов на вопросы** выберите вопрос типа <q>Файл</q>.

    1. Чтобы отображать ссылку на созданную задачу, включите опцию **Показать сообщение о результате действия пользователю**.

1. Также вы можете настроить интеграции с другими сервисами для совместной работы:
    
    * [Отправлять уведомление по почте](../../forms/send-mail.md).
    
    * [Добавлять ответ пользователя на {{ wiki-name }}](../../forms/send-wiki.md).
    
    * [Отправлять HTTP-запрос](../../forms/send-request.md).

1. Нажмите **{{ ui-key.startrek.components_FormButtons.update }}**.

## Управлять формами {#manage-template}

Управление формами доступно [администратору {{ tracker-name }}](../role-model.md#admin),  владельцу очереди и пользователям, которые имеют [доступ](../manager/queue-access.md) к изменению настроек очереди.

Чтобы перейти к формам очереди, на панели слева нажмите кнопку ![](../../_assets/tracker/svg/create-task.svg) **{{ ui-key.startrek.blocks-desktop_b-head.new_issue }}**.

### Настроить страницу создания задачи {#new-task-page}

Чтобы изменить порядок расположения форм на странице создания задачи, нажмите на значок ![](../../_assets/tracker/svg/range.svg) и перетащите форму.

Вы можете настроить возможность создавать задачи без формы или только с помощью формы. Для этого в правом верхнем углу выберите опцию **{{ ui-key.startrek.ui_components_QueueAdminTemplateOptions.allow-empty-template }}**:
* **{{ ui-key.startrek.ui_components_QueueAdminTemplateOptions.always }}** — все пользователи смогут создавать задачи без формы;
* **{{ ui-key.startrek.ui_components_QueueAdminTemplateOptions.never }}** — создание задач будет доступно только через форму;
* **{{ ui-key.startrek.ui_components_QueueAdminTemplateOptions.team }}** — только участники [команды очереди](../manager/queue-team.md) смогут создавать задачи без формы.

### Изменить параметры формы {#edit-template-name}

Чтобы изменить название или описание формы:

1. Выберите форму и нажмите кнопку ![](../../_assets/horizontal-ellipsis.svg).

1. Выберите **{{ ui-key.startrek.ui_components_PageCreateIssue.change-title-and-description }}**. 

1. Введите новые название и описание формы и нажмите **{{ ui-key.startrek.ui_components_queue-admin-tab-main_QueueAdminTabMain.save }}**.

### Изменить форму {#edit-template}

Чтобы изменить форму:

1. Выберите форму и нажмите кнопку ![](../../_assets/horizontal-ellipsis.svg).

1. Выберите **{{ ui-key.startrek.ui_components_PageCreateIssue.change-template }}**.

1. Отредактируйте вопросы формы во встроенном конструкторе {{ forms-full-name }} и настройте интеграции с {{ tracker-name }}, как при [создании формы](#create-template).

### Удалить форму {#remove-template}

Чтобы удалить форму:

1. Выберите форму и нажмите кнопку ![](../../_assets/horizontal-ellipsis.svg).

1. Выберите **{{ ui-key.startrek.ui_components_PageCreateIssue.switch-to-admin-panel }}**. 

1. В настройках очереди напротив формы нажмите кнопку ![](../../_assets/tracker/icon-delete.png).
