# Создать шаблон в {{ forms-full-name }} (бета)


В [бета-версии нового интерфейса {{ tracker-full-name }}](../user/personal.md#sec_beta) добавлена возможность использовать встроенный конструктор форм {{ forms-full-name }} для создания шаблонов задач. 

Шаблоны доступны всем пользователям, у которых есть право на создание задач в очереди. Список шаблонов отображается на странице [создания задачи](create-ticket.md).

{% note info %}

По умолчанию управление шаблонами доступно только владельцу очереди{% if audience == "external" %}&nbsp;и [администратору {{ tracker-name }}](../role-model.md#admin){% endif %}. Чтобы другие пользователи могли создавать или изменять шаблоны, выдайте им [доступ на изменение настроек очереди](../manager/queue-access.md).

{% endnote %}

## Создать шаблон {#create-template}

В качестве шаблона задачи используется форма из сервиса {{ forms-full-name }}. На форму можно добавить вопросы, ответы на которые будут переданы в задачу при помощи переменных в настройках интеграции.

{% note tip %}

Встроенный конструктор форм поддерживает только основные типы вопросов и настройки интеграции. Изменить [внешний вид формы](../../forms/appearance.md), добавить [дополнительные вопросы](../../forms/add-questions.md) и настроить [логику](../../forms/send-condition.md) их показа можно в полной версии конструктора {{ forms-full-name }} для бизнеса.

{% endnote %}

Чтобы создать шаблон задачи:

1. На панели слева нажмите кнопку ![](../../_assets/tracker/svg/create-task.svg) **Создать задачу**.

1. В поле вверху страницы выберите очередь.

1. Если у вас еще нет шаблонов задач в {{ forms-full-name }}, выберите **Создать новый**. Если у вас уже есть шаблоны задач, нажмите кнопку **Создать новый шаблон**.

1. Введите название и описание для шаблона и нажмите **Продолжить**.

1. Добавьте поля в шаблон.

    * Чтобы добавить первый вопрос, в области создания формы выберите тип вопроса.

    * Чтобы добавить на страницу еще один вопрос, нажмите **Добавить вопрос** или наведите указатель на созданный вопрос и нажмите значок ![](../../_assets/tracker/svg/icon-add.svg). Новый вопрос появится выше текущего, если навести указатель на верхнюю часть блока.

    * Чтобы скопировать или удалить вопрос, нажмите ![](../../_assets/tracker/svg/icon-copy.svg) или ![](../../_assets/tracker/svg/icon-remove.svg).

    * Чтобы добавить иллюстрацию к тексту вопроса или варианту ответа, нажмите значок ![](../../_assets/tracker/svg/icon-picture.svg).

    * Чтобы разбить форму на несколько страниц, под областью создания формы нажмите кнопку **Добавить страницу**.
    
1. Нажмите кнопку **Настроить интеграции** и укажите параметры задачи, которые будут переданы в {{ tracker-name }} из шаблона:

    1. В блоке **Выполнять действия** укажите **всегда**. 
    Если необходимо настроить условия, при выполнении которых будет создаваться задача, выберите **при условии**. Затем выберите вопрос и укажите ответ, при получении которого будет создана задача в {{ tracker-name }}.

    1. Укажите **Очередь**, в которой будет создана задача. Чтобы настроить для создаваемой задачи [связь](links.md) <q>Родительская задача — Подзадача</q>, выберите опцию **Сделать подзадачей** и введите ключ родительской задачи.
    
    1. Выберите **Тип задачи** и **Приоритет** задачи. Доступные типы задач зависят от [настроек очереди](../manager/add-ticket-type.md).

    1. Введите название задачи в поле **Заголовок** и постановку задачи в поле **Описание**. Для форматирования текста используйте [разметку YFM](markup.md).

    1. Чтобы назначить автора и исполнителя по умолчанию, введите логины пользователей без символа `@`. Если автор не указан, по умолчанию им будет назначен пользователь, который заполнил форму.

    1. Если вы хотите добавить в задачу поле, которого нет в списке, выберите **Добавить параметр задачи**. Поле отобразится в настройках интеграции и вы сможете указать его значение для шаблона.
    
        {% note info %}

        Чтобы добавить в задачу ответ на вопрос из формы, используйте переменные: выберите поле задачи и нажмите значок ![](../../_assets/tracker/svg/icon-add.svg). Подробнее о переменных читайте в [документации сервиса {{ forms-full-name }}](../../forms/vars.md).

        {% endnote %}

    1. Чтобы передать в задачу вложения из формы, в поле **Прикреплять файлы из ответов на вопросы** выберите вопрос типа <q>Файл</q>.

    1. Чтобы отображать ссылку на созданную задачу, включите опцию **Показать сообщение о результате действия пользователю**.

1. Также вы можете настроить интеграции с другими сервисами для совместной работы:
    
    * [Отправлять уведомление по почте](../../forms/send-mail.md).
    
    * [Добавлять ответ пользователя на {{ wiki-name }}](../../forms/send-wiki.md).
    
    * [Отправлять HTTP-запрос](../../forms/send-request.md).

1. Нажмите **Сохранить**.

## Управлять шаблонами {#manage-template}

Управление шаблонами доступно {% if audience == "external" %}[администратору {{ tracker-name }}](../role-model.md#admin), {% endif %} владельцу очереди и пользователям, которые имеют [доступ](../manager/queue-access.md) к изменению настроек очереди.

Чтобы перейти к шаблонам очереди, на панели слева нажмите кнопку ![](../../_assets/tracker/svg/create-task.svg) **Создать задачу**.

### Настроить страницу создания задачи {#new-task-page}

Чтобы изменить порядок расположения шаблонов на странице создания задачи, нажмите на значок ![](../../_assets/tracker/svg/range.svg) и перетащите шаблон.

Вы можете настроить возможность создавать задачи без шаблона или только с помощью шаблонов. Для этого в правом верхнем углу выберите опцию **Разрешать создание без шаблона**:
* **всегда** — все пользователи смогут создавать задачи без шаблона;
* **никогда** — создание задач будет доступно только через шаблон;
* **только команде** — только участники [команды очереди](../manager/queue-team.md) смогут создавать задачи без шаблона.

### Изменить параметры шаблона {#edit-template-name}

Чтобы изменить название или описание шаблона:

1. Выберите шаблон и нажмите кнопку ![](../../_assets/horizontal-ellipsis.svg).

1. Выберите **Изменить название и описание**. 

1. Введите новые название и описание шаблона и нажмите **Сохранить**.

### Изменить шаблон {#edit-template}

Чтобы изменить форму шаблона:

1. Выберите шаблон и нажмите кнопку ![](../../_assets/horizontal-ellipsis.svg).

1. Выберите **Изменить шаблон**.

1. Отредактируйте вопросы формы во встроенном конструкторе {{ forms-full-name }} и настройте интеграции с {{ tracker-name }}, как при [создании шаблона](#create-template).

### Удалить шаблон {#remove-template}

Чтобы удалить шаблона:

1. Выберите шаблон и нажмите кнопку ![](../../_assets/horizontal-ellipsis.svg).

1. Выберите **Перейти в админку**. 

1. В настройках очереди напротив шаблона нажмите кнопку ![](../../_assets/tracker/icon-delete.png).
