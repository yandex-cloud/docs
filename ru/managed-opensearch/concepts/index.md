# Взаимосвязь ресурсов в {{ mos-name }}

[{{ OS }}](https://opensearch.org/) — это специализированная распределенная система хранения, поиска, визуализации и анализа данных. Когда документ добавляется в {{ OS }}, он попадает в [_индекс_](indexing.md). Данные из проиндексированного документа становятся доступны для [поиска и анализа](searching.md).

{{ OS }} включает в себя пользовательский интерфейс визуализации данных [_{{ OS }} Dashboards_](https://opensearch.org/docs/latest/dashboards/).

Основная сущность, которой оперирует сервис {{ mos-name }}, — [_кластер_](../../glossary/cluster.md) баз данных.

Каждый кластер состоит из одного или нескольких [_хостов_](host-roles.md) — виртуальных машин с развернутыми серверами СУБД. Хосты кластера могут находиться в разных [зонах доступности](../../overview/concepts/geo-scope.md). Минимальное количество хостов в кластере зависит от выбранного [типа диска](storage.md#storage-type-selection).

При [создании кластера](../operations/cluster-create.md) необходимо указывать:

- [_Классы хостов_](instance-types.md) — шаблоны виртуальных машин, по которым будут развертываться хосты кластера.

- _Группы хостов_ — наборы из нескольких связанных друг с другом хостов с определенными характеристиками и [ролями](host-roles.md):

    - _DATA_ — обеспечивают хранение индексов и обработку запросов.
    - _MANAGER_ — обеспечивают работоспособность всех компонентов {{ OS }}.
    - _DASHBOARDS_ — предоставляют доступ к {{ OS }} Dashboards.

    Кластер с группой из одного хоста не обеспечивает отказоустойчивость. Кластер из нескольких хостов автоматически обеспечивает отказоустойчивость для роли `MANAGER`. Чтобы обеспечить сохранность данных в многохостовом кластере, настройте для него [шардирование и репликацию](scalability-and-resilience.md) индексов.

- _Окружение_, в котором будет развертываться кластер:

    - `PRODUCTION` — для стабильных версий ваших приложений.
    - `PRESTABLE` — для тестирования. Prestable-окружение аналогично Production-окружению и на него также распространяется SLA, но при этом на нем раньше появляются новые функциональные возможности, улучшения и исправления ошибок. В Prestable-окружении вы можете протестировать совместимость новых версий с вашим приложением.


Созданный в каталоге кластер {{ OS }} доступен для всех виртуальных машин, подключенных к той же [облачной сети](../../vpc/concepts/network.md), что и кластер.


{% include [monitoring-access](../../_includes/mdb/monitoring-access.md) %}

## Отказоустойчивость кластера {#high-availability}

Чтобы обеспечить надежность хранения и бесперебойную доступность данных в кластере, он должен удовлетворять следующим требованиям:
* В кластере не должно быть индексов с нулевым количеством реплик или настройками, не позволяющим репликам быть созданными.
* Хосты кластера с ролью `DATA` должны располагаться минимум в **двух** разных [зонах доступности](../../overview/concepts/geo-scope.md).
* Хосты кластера с ролью `MANAGER` должны располагаться минимум в **трех** разных зонах доступности, при этом в каждой зоне доступности таких хостов должно быть меньше **50%** от всех хостов с ролью `MANAGER`.
