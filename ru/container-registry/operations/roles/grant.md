# Назначить роль на ресурс

Чтобы предоставить доступ к ресурсу, назначьте субъекту [роль](../../../iam/concepts/access-control/roles.md) на сам ресурс или на ресурс, от которого наследуются права доступа, например на каталог или облако. Подробнее читайте в разделе [{#T}](../../../iam/concepts/access-control/index.md).

{% list tabs %}

- Консоль управления

  1. В [консоли управления]({{ link-console-main }}) выберите каталог, в котором нужно назначить роль на ресурс.
  1. В списке сервисов выберите **{{ container-registry-name }}**.
  1. Назначьте роль на ресурс.

     * Назначить на реестр:
       1. Справа от имени нужного реестра нажмите значок ![horizontal-ellipsis](../../../_assets/horizontal-ellipsis.svg) и выберите **Настроить ACL**.
       1. В открывшемся окне выберите группу, пользователя или системный аккаунт и нажмите кнопку **Добавить**.
       1. В выпадающем списке **Разрешения** отметьте нужные роли.
       1. Нажмите кнопку **Сохранить**.

     * Назначить на репозиторий:
       1. Выберите нужный реестр.
       1. Справа от имени нужного репозитория нажмите значок ![horizontal-ellipsis](../../../_assets/horizontal-ellipsis.svg) и выберите **Настроить ACL**.
       1. В открывшемся окне выберите группу, пользователя или системный аккаунт и нажмите кнопку **Добавить**.
       1. В выпадающем списке **Разрешения** отметьте нужные роли.
       1. Нажмите кнопку **Сохранить**.

- CLI

  {% include [cli-install](../../../_includes/cli-install.md) %}

  {% include [default-catalogue](../../../_includes/default-catalogue.md) %}

  1. Выберите роль из [списка](../../security/index.md#servisnye-roli).
  1. Назначьте роль.
     * Чтобы добавить роль к имеющимся разрешениям, выполните команду:

       ```bash
       yc <имя сервиса> <ресурс> add-access-binding <имя ресурса>|<id ресурса> \
         --role <id роли> \
         --subject userAccount:<id пользователя>
       ```

     * Чтобы установить роль, удалив все имеющиеся разрешения, выполните команду:

       ```bash
       yc <имя сервиса> <ресурс> set-access-bindings <имя ресурса>|<id ресурса> \
         --role <id роли> \
         --subject userAccount:<id пользователя>
       ```

     Где:
     * `<имя сервиса>` — имя сервиса `container`.
     * `<ресурс>` — категория ресурса `registry` или `repository`.
     * `<имя ресурса>` — имя ресурса, на который назначается роль. Вы можете указать ресурс по имени или идентификатору.
     * `<id ресурса>` — идентификатор ресурса, на который назначается роль.
     * `<id роли>` — идентификатор роли.
     * `<id пользователя>` — идентификатор группы, пользователя или сервисного аккаунта, которому назначается роль.

     >Пример. Добавьте роль `container-registry.admin` на реестр с идентификатором `crp0pmf1n68dh715tf02` для пользователя с идентификатором `kolhpriseeioo9dc3v24`:
     >
     >```bash
     >yc container registry add-access-binding crp0pmf1n68dh715tf02 \
     >  --role container-registry.admin \
     >  --subject userAccount:kolhpriseeioo9dc3v24
     >```

- API

  Воспользуйтесь методом `updateAccessBindings` для ресурсов `registry` и `repository`.

{% endlist %}

Подробнее об управлении ролями читайте в [документации](../../../iam/concepts/index.md) {{ iam-full-name }}.