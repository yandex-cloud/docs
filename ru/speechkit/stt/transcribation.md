# Асинхронное распознавание

Асинхронное распознавание позволяет преобразовывать в текст многоканальные аудиофайлы следующих характеристик:
* Максимальная длительность записи — {{ stt-long-audioLength }}. 
* Максимальный размер файла — {{ stt-long-fileSize }}. 
 
Результаты распознавания хранятся на сервере {{ stt-long-resultsStorageTime }}. После этого вы не сможете запросить результаты распознавания, используя полученный идентификатор.

Асинхронное распознавание не подходит для распознавания диалога в режиме реального времени. Для распознавания в режиме реального времени используйте [потоковое распознавание](streaming.md).

Асинхронное распознавание доступно только для аудиофайлов на русском языке.

## Как распознать длинное аудио {#long-audio-recognition}

Чтобы распознать длинное аудио, необходимо выполнить 2 запроса:
1. [Отправить файл на распознавание](#sendfile).
1. [Получить результаты распознавания](#get-result).

### Особенности использования gRPC {#grpc}

Чтобы использовать сервис, создайте приложение, которое будет отправлять аудиофрагменты и обрабатывать ответ с результатами распознавания.

Чтобы приложение смогло отправлять запросы и запрашивать результат, необходимо сгенерировать код интерфейса клиента для используемого языка программирования. Сгенерируйте этот код из файлов [stt_service.proto](https://github.com/yandex-cloud/cloudapi/blob/master/yandex/cloud/ai/stt/v2/stt_service.proto) и [operation_service.proto](https://github.com/yandex-cloud/cloudapi/blob/master/yandex/cloud/operation/operation_service.proto) из репозитория [Yandex.Cloud API](https://github.com/yandex-cloud/cloudapi).

В [документации gRPC](https://grpc.io/docs/tutorials/) вы можете найти подробные инструкции по генерации интерфейсов и реализации клиентских приложений для различных языков программирования.

{% note warning %}

При запросе результатов операции gRPC-клиенты по умолчанию ограничивают максимальный размер сообщения, который они могут принять в качестве ответа — не более 4 МБ. Если ответ с результатами распознавания будет больше этого размера, то вы получите ошибку.

{% endnote %}

Чтобы получить ответ целиком, повысьте ограничение на максимальный размер сообщения:
* для Go используйте функцию [MaxCallRecvMsgSize](https://godoc.org/google.golang.org/grpc#MaxCallRecvMsgSize).
* для C++ в [методе call](https://grpc.github.io/grpc/cpp/classgrpc_1_1internal_1_1_call.html#af04fabbdb53dea98da54c387364faf63) задайте значение `max_receive_message_size`.


