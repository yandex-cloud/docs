---
title: Определение конца фразы в {{ speechkit-full-name }}
description: Следуя данной инструкции, вы сможете определить конец фразы.
---

# Определение конца фразы

EOU (End-of-Utterance, <q>конец высказывания</q>) — признак конца фразы в [потоковом распознавании](streaming.md). В процессе потокового распознавания сервер {{ speechkit-short-name }} возвращает не всю фразу целиком, а результаты распознавания частей фразы:

* Промежуточные — ответы с флагом `partial`, часть фразы может измениться.
* Окончательные — ответы с флагом `final`, часть фразы зафиксирована.

{{ speechkit-short-name }} возвращает законченную фразу только после определения EOU. Точное определение EOU позволяет, не перебивая, дослушать и распознать речь говорящего, а также сделать реакцию голосового помощника (ответ или уточнение) более естественной.

EOU наступает в следующих случаях:

* Завершилась gRPC-сессия.
* Была распознана тишина в последнем [фрагменте речи](streaming.md#results). Тишину можно передать с помощью одного из [двух параметров](../stt-v3/api-ref/grpc/stt_service.md#StreamingRequest):

  * `chunk` — звук, который распознается как тишина.
  * `silence_chunk` — длительность тишины в миллисекундах. Параметр позволяет уменьшить размер пакета с аудио и не передавать в нем тишину, которую не нужно распознавать.

Чтобы повлиять на определение EOU, настройте использование [API v3](../stt-v3/api-ref/grpc/):

* Задайте [параметр](../stt-v3/api-ref/grpc/stt_service#DefaultEouClassifier) `max_pause_between_words_hint_ms`, который управляет ожидаемой длительностью пауз между словами в рамках одной фразы (в миллисекундах). С помощью этого параметра можно избежать ложного определения EOU при медленной диктовке цифр или настроить быстроту реакции голосового помощника на остановку речи.
* Задайте [параметр](../stt-v3/api-ref/grpc/stt_service#DefaultEouClassifier) `type` в классификаторе `eou_classifier_options=default_classifier`, который задает чувствительность метода обнаружения EOU:
  * `DEFAULT` — метод по умолчанию.
  * `HIGH` — по сравнению с `DEFAULT`, быстрее обнаруживает EOU (время ответа от сервера меньше), но возможны ложные срабатывания (точность определения ниже).

Вы также можете определять EOU самостоятельно по данным от {{ speechkit-short-name }} (части фразы, статистика распознавания и т. д.):
  1. В запросе API, инициирующем [сессию распознавания](streaming.md#requests), укажите [параметр](../stt-v3/api-ref/grpc/stt_service#EouClassifierOptions) `eou_classifier_options=external_classifier`.
  1. При обнаружении EOU в рамках сессии добавьте в запрос к серверу {{ speechkit-short-name }} параметр `eou` (не заполняется).

  {{ speechkit-short-name }} использует это как указатель на EOU и вернет законченную фразу в ответе.

