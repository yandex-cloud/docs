# Управление пользователями БД

Вы можете добавлять и удалять пользователей, а также управлять их индивидуальными настройками.

## Получить список пользователей {#list-users}

{% list tabs %}

- Консоль управления
  
  1. Перейдите на страницу каталога и выберите сервис **{{ mmg-name }}**.
  1. Нажмите на имя нужного кластера, затем выберите вкладку **Пользователи**.
  
- CLI
  
  {% include [cli-install](../../_includes/cli-install.md) %}
  
  {% include [default-catalogue](../../_includes/default-catalogue.md) %}
  
  Чтобы получить список пользователей кластера, выполните команду:
  
  ```
  $ {{ yc-mdb-mg }} user list
       --cluster-name <имя кластера>
  ```
  
  Имя кластера можно запросить со [списком кластеров в каталоге](cluster-list.md#list-clusters).
  
- API
  
  Получить список пользователей можно с помощью метода [list](../api-ref/User/list.md).
  
{% endlist %}

## Добавить пользователя {#adduser}

{% list tabs %}

- Консоль управления
  
  1. Перейдите на страницу каталога и выберите сервис **{{ mmg-name }}**.
  1. Нажмите на имя нужного кластера и выберите вкладку **Пользователи**.
  1. Нажмите кнопку **Добавить**.
  1. Введите имя пользователя БД и пароль (от 8 до 128 символов).
  1. Настройте [роли](../concepts/users-and-roles.md) пользователя:
     
     1. Выберите базу данных, в которой вы хотите выдать роль.
     1. Выберите роль и нажмите кнопку **Добавить** под списком ролей.
     
     Вы можете выдать пользователю несколько ролей в разных базах данных.
  1. Нажмите кнопку **Добавить**. 
    
  
- CLI
  
  {% include [cli-install](../../_includes/cli-install.md) %}
  
  {% include [default-catalogue](../../_includes/default-catalogue.md) %}
  
  Чтобы создать пользователя в кластере:
  
  1. Посмотрите описание команды CLI для создания пользователя:
  
     ```
     $ {{ yc-mdb-mg }} user create --help
     ```
  
  1. Укажите свойства пользователя в команде создания:
     ```
     $ {{ yc-mdb-mg }} user create <имя пользователя>
        --cluster-name <имя кластера>
        --password <пароль для пользователя>
        --permission database=<имя БД>,role=<роль>,role=<другая роль>,...
        --permission database=<имя другой БД>,role=<роль>,...
     ```
  
     Имя кластера можно запросить со [списком кластеров в каталоге](cluster-list.md#list-clusters).

- API
  
  Добавить пользователей можно с помощью метода [create](../api-ref/User/create.md).
  
{% endlist %}

## Изменить пользователя {#updateuser}

{% list tabs %}

- Консоль управления
  
  1. Перейдите на страницу каталога и выберите сервис **{{ mmg-name }}**.
  1. Нажмите на имя нужного кластера и выберите вкладку **Пользователи**.
  1. Чтобы изменить пароль пользователя, нажмите значок ![image](../../_assets/options.svg) и выберите пункт **Изменить пароль**.
  1. Чтобы изменить [роли](../concepts/users-and-roles.md) пользователя:
     1. Нажмите значок ![image](../../_assets/options.svg) и выберите пункт **Настроить**.
     1. Чтобы добавить роль, выберите базу данных и роль и нажмите кнопку **Добавить** под списком ролей.
     1. Чтобы удалить роль, нажмите на значок ![image](../../_assets/cross.svg) возле названия роли.
  
- CLI
  
  {% include [cli-install](../../_includes/cli-install.md) %}
  
  {% include [default-catalogue](../../_includes/default-catalogue.md) %}
  
  Чтобы изменить пароль или список ролей пользователя:
  
  1. Посмотрите описание команды CLI для изменения пользователя:
  
     ```
     $ {{ yc-mdb-mg }} user update --help
     ```
  
  1. Укажите свойства пользователя в команде создания:
     ```
     $ {{ yc-mdb-mg }} user update <имя пользователя>
        --cluster-name <имя кластера>
        --password <пароль для пользователя>
        --permission database=<имя БД>,role=<роль>,role=<другая роль>,...
        --permission database=<имя другой БД>,role=<роль>,...
     ```
  
     Имя кластера можно запросить со [списком кластеров в каталоге](cluster-list.md#list-clusters).

- API
  
  Изменить пользователя можно с помощью метода [update](../api-ref/User/update.md).
  
{% endlist %}

## Удалить пользователя {#removeuser}

{% list tabs %}

- Консоль управления
  
  1. Перейдите на страницу каталога и выберите сервис **{{ mmg-name }}**.
  1. Нажмите на имя нужного кластера и выберите вкладку **Пользователи**.
  1. Нажмите значок ![image](../../_assets/options.svg) и выберите пункт **Удалить**.
  
- CLI
  
  {% include [cli-install](../../_includes/cli-install.md) %}
  
  {% include [default-catalogue](../../_includes/default-catalogue.md) %}
  
  Чтобы удалить пользователя, выполните команду:
  
  ```
  $ {{ yc-mdb-mg }} user delete <имя пользователя>
       --cluster-name <имя кластера>
  ```
  
  Имя кластера можно запросить со [списком кластеров в каталоге](cluster-list.md#list-clusters).

- API
  
  Удалить пользователя можно с помощью метода [delete](../api-ref/User/delete.md).
  
{% endlist %}
