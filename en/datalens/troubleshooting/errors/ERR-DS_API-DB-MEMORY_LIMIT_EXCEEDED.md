# Memory limit has been exceeded during query execution

`ERR.DS_API.DB.MEMORY_LIMIT_EXCEEDED`

There is not enough memory in the data source to run the query.

The error occurs when the database does not have enough memory to run a query from {{ datalens-short-name }}.

{% if audience == "internal" %}

To correct the error, try the following:

1. Open the chart which produced the error.
1. Use the inspector to view the query generated by {{ datalens-short-name }}.

   {% cut "How do I view" %}

   1. When the chart loads, click ![image](../../../_assets/datalens/horizontal-ellipsis.svg) in the upper-right corner.
   1. In the drop-down menu, select **Inspector**.
   1. In the resulting window, click ![image](../../../_assets/datalens/angle-down.svg).

   {% endcut %}

1. Optimize the table or reduce the amount of data in the query, for example, by using filters in the chart.

   If you are using a **CH over YT** connection, contact **CH over YT** support. Otherwise, contact the database administrator.

   If you are going to perform optimization yourself, try enhancing your database with indexes and sorts.

See also: [CHYT performance](https://yt.yandex-team.ru/docs/description/chyt/reference/performance).

{% endif %}

{% if audience != "internal" %}

To correct the error, optimize the source table or reduce the amount of data in the query using chart filters.

To optimize tables, contact your database administrator.

If you are going to perform optimization yourself, try enhancing your database with indexes and sorts.

{% note tip %}

If {{ CH }} is your data source, find queries from {{ datalens-short-name }} in [system.query_log]({{ ch.docs }}/operations/system-tables/query_log/).

If {{ PG }} MBD is your data source, review the [performance analysis](../../../_tutorials/dataplatform/mpg-profiling.md).

{% endnote %}

{% endif %}
