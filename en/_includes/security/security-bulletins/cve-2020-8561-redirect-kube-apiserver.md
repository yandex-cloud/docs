## 31.08.2022: CVE-2020-8561: Redirect kube-apiserver requests {#CVE-2020-8561}

CVE ID: CVE-2020-8561

Link to CVE: <https://nvd.nist.gov/vuln/detail/CVE-2020-8561>

### Original report {#original-report}

<https://groups.google.com/g/kubernetes-security-announce/c/RV2IhwcrQsY>

### Brief description {#brief-description}

A security issue was discovered in Kubernetes where actors that control the responses of `MutatingWebhookConfiguration` or `ValidatingWebhookConfiguration` requests are able to redirect `kube-apiserver` requests to private networks of the apiserver. If that user can view `kube-apiserver` logs when the log level is set to `10`, they can view the redirected responses and headers in the logs.

### Technologies affected {#technologies-affected}

{{ k8s }}

### Vulnerable products and versions {#vulnerable-products-and-versions}

All versions.

### Vendor {#vendor}

{{  k8s }}

### Attack vector and severity level per CVSS v.3.0 {#attack-vector-and-severity-level}

Severity level: 3.1.

AV:N/AC:L/PR:H/UI:N/S:C/C:L/I:N/A:N

### Recommendations for vulnerability detection and supporting materials {#recommendations-for-vulnerability-detection}

<https://groups.google.com/g/kubernetes-security-announce/c/RV2IhwcrQsY>

### Safe version of vulnerable product or patch {#safe-version}

No updates availible.

### Compensatory measures for {{ yandex-cloud }} users {#compensatory-measures}

<https://groups.google.com/g/kubernetes-security-announce/c/RV2IhwcrQsY>

This issue can be mitigated by not allowing `kube-apiserver` access to sensitive resources or networks, or to reduce the `-v` flag value to less than `10` and set the `--profiling` flag value to `false` (default value is `true`). Setting the profiling flag to `false` prevents users from dynamically modifying the `kube-apiserver` log level, and the flag value Webhook requests may still be redirected to private networks with a log level less than `10`, but the response body will not be logged.

### Impact on {{ yandex-cloud }} services {#impact-on-yandex-cloud-services}

No impact. In {{ managed-k8s-full-name }}, the API server is isolated from the service interface.
