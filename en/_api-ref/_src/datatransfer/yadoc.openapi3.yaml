openapi: "3.0"
info:
  title: Yandex DataTransfer API
  description: This API reference is organized by resource. Actions are performed
    by sending HTTP requests to resource URLs or making RPC calls. For more information
    about Yandex.Cloud API architecture, see [API Concepts](/docs/api-design-guide/).
  version: v1
  x-y-docUri: api-ref
  x-y-baseUrl: https://datatransfer.api.cloud.yandex.net
paths:
  /v1/endpoint/{endpointId}:
    get:
      tags:
      - Endpoint
      operationId: EndpointGet
      parameters:
      - name: endpointId
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Endpoint'
      x-y-navtitle: get
    delete:
      tags:
      - Endpoint
      operationId: EndpointDelete
      parameters:
      - name: endpointId
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
      x-y-navtitle: delete
      x-y-operation-metadata:
        $ref: '#/components/schemas/DeleteEndpointMetadata'
      x-y-operation-response: Empty
    patch:
      tags:
      - Endpoint
      operationId: EndpointUpdate
      parameters:
      - name: endpointId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateEndpointRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
      x-y-navtitle: update
      x-y-operation-metadata:
        $ref: '#/components/schemas/UpdateEndpointMetadata'
      x-y-operation-response: '[Endpoint](/docs/datatransfer/api-ref/Endpoint#representation)'
  /v1/endpoint:
    post:
      tags:
      - Endpoint
      operationId: EndpointCreate
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateEndpointRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
      x-y-navtitle: create
      x-y-operation-metadata:
        $ref: '#/components/schemas/CreateEndpointMetadata'
      x-y-operation-response: '[Endpoint](/docs/datatransfer/api-ref/Endpoint#representation)'
  /v1/transfer:
    post:
      tags:
      - Transfer
      operationId: TransferCreate
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTransferRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
      x-y-navtitle: create
      x-y-operation-metadata:
        $ref: '#/components/schemas/CreateTransferMetadata'
      x-y-operation-response: '[Transfer](/docs/datatransfer/api-ref/Transfer#representation)'
  /v1/transfer/{transferId}:
    get:
      tags:
      - Transfer
      operationId: TransferGet
      parameters:
      - name: transferId
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transfer'
      x-y-navtitle: get
    delete:
      tags:
      - Transfer
      operationId: TransferDelete
      parameters:
      - name: transferId
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
      x-y-navtitle: delete
      x-y-operation-metadata:
        $ref: '#/components/schemas/DeleteTransferMetadata'
      x-y-operation-response: Empty
    patch:
      tags:
      - Transfer
      operationId: TransferUpdate
      parameters:
      - name: transferId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTransferRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
      x-y-navtitle: update
      x-y-operation-metadata:
        $ref: '#/components/schemas/UpdateTransferMetadata'
      x-y-operation-response: '[Transfer](/docs/datatransfer/api-ref/Transfer#representation)'
  /v1/transfer/{transferId}:deactivate:
    post:
      tags:
      - Transfer
      operationId: TransferDeactivate
      parameters:
      - name: transferId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeactivateTransferRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
      x-y-navtitle: deactivate
      x-y-operation-metadata:
        $ref: '#/components/schemas/DeactivateTransferMetadata'
      x-y-operation-response: Empty
  /v1/transfer/{transferId}:activate:
    post:
      tags:
      - Transfer
      operationId: TransferActivate
      parameters:
      - name: transferId
        in: path
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActivateTransferRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Operation'
      x-y-navtitle: activate
      x-y-operation-metadata:
        $ref: '#/components/schemas/ActivateTransferMetadata'
      x-y-operation-response: Empty
components:
  schemas:
    ActivateTransferMetadata:
      type: object
      properties:
        transferId:
          type: string
    ActivateTransferRequest:
      type: object
      properties: {}
    CreateEndpointMetadata:
      type: object
      properties:
        endpointId:
          type: string
    CreateEndpointRequest:
      type: object
      properties:
        folderId:
          type: string
        name:
          type: string
        description:
          type: string
        settings:
          $ref: '#/components/schemas/EndpointSettings_in_CreateEndpointRequest_settings'
    CreateTransferMetadata:
      type: object
      properties:
        transferId:
          type: string
    CreateTransferRequest:
      type: object
      properties:
        sourceId:
          type: string
        targetId:
          type: string
        name:
          type: string
        description:
          type: string
        folderId:
          type: string
        type:
          $ref: '#/components/schemas/TransferType_in_CreateTransferRequest_type'
    DeactivateTransferMetadata:
      type: object
      properties:
        transferId:
          type: string
    DeactivateTransferRequest:
      type: object
      properties: {}
    DeleteEndpointMetadata:
      type: object
      properties:
        endpointId:
          type: string
    DeleteTransferMetadata:
      type: object
      properties:
        transferId:
          type: string
    Empty:
      description: Empty JSON object `` {} ``.
      type: object
      maxProperties: 0
    Endpoint:
      type: object
      properties:
        id:
          type: string
        folderId:
          type: string
        name:
          type: string
        description:
          type: string
        settings:
          $ref: '#/components/schemas/EndpointSettings_in_Endpoint_settings'
    EndpointSettings:
      type: object
      allOf:
      - title: settings
        type: object
        maxProperties: 1
        properties:
          mysqlSource:
            $ref: '#/components/schemas/MysqlSource'
          postgresSource:
            $ref: '#/components/schemas/PostgresSource'
          mysqlTarget:
            $ref: '#/components/schemas/MysqlTarget'
          postgresTarget:
            $ref: '#/components/schemas/PostgresTarget'
    MysqlConnection:
      type: object
      allOf:
      - title: connection
        type: object
        maxProperties: 1
        properties:
          mdbClusterId:
            description: |-
              MDB cluster

              Yandex.Cloud Managed MySQL cluster ID
            type: string
          onPremise:
            $ref: '#/components/schemas/OnPremiseMysql'
            description: |-
              On-premise

              Connection options for on-premise MySQL
    MysqlObjectTransferSettings:
      type: object
      properties:
        view:
          $ref: '#/components/schemas/ObjectTransferStage_in_MysqlObjectTransferSettings_view'
        routine:
          $ref: '#/components/schemas/ObjectTransferStage_in_MysqlObjectTransferSettings_routine'
        trigger:
          $ref: '#/components/schemas/ObjectTransferStage_in_MysqlObjectTransferSettings_trigger'
    MysqlSource:
      type: object
      properties:
        connection:
          $ref: '#/components/schemas/MysqlConnection_in_MysqlSource_connection'
        database:
          description: |-
            Database name

            You can leave it empty, then it will be possible to transfer tables from several
            databases at the same time from this source.
          type: string
        user:
          description: |-
            Username

            User for database access.
          type: string
        password:
          $ref: '#/components/schemas/Secret_in_MysqlSource_password'
        includeTablesRegex:
          type: array
          items:
            type: string
        excludeTablesRegex:
          type: array
          items:
            type: string
        timezone:
          description: |-
            Database timezone

            Is used for parsing timestamps for saving source timezones. Accepts values from
            IANA timezone database. Default: local timezone.
          type: string
        objectTransferSettings:
          $ref: '#/components/schemas/MysqlObjectTransferSettings_in_MysqlSource_objectTransferSettings'
    MysqlTarget:
      type: object
      properties:
        connection:
          $ref: '#/components/schemas/MysqlConnection_in_MysqlTarget_connection'
        database:
          description: |-
            Database name

            Allowed to leave it empty, then the tables will be created in databases with the
            same names as on the source. If this field is empty, then you must fill below db
            schema for service table.
          type: string
        user:
          description: |-
            Username

            User for database access.
          type: string
        password:
          $ref: '#/components/schemas/Secret_in_MysqlTarget_password'
        sqlMode:
          description: |-
            sql_mode

            Default: NO_AUTO_VALUE_ON_ZERO,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION.
          type: string
        skipConstraintChecks:
          description: |-
            Disable constraints checks

            Recommend to disable for increase replication speed, but if schema contain
            cascading operations we don't recommend to disable. This option set
            FOREIGN_KEY_CHECKS=0 and UNIQUE_CHECKS=0.
          type: boolean
          format: boolean
        timezone:
          description: |-
            Database timezone

            Is used for parsing timestamps for saving source timezones. Accepts values from
            IANA timezone database. Default: local timezone.
          type: string
    ObjectTransferStage:
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    OnPremiseMysql:
      type: object
      properties:
        hosts:
          type: array
          items:
            type: string
        port:
          description: |-
            Database port

            Will be used if the cluster ID is not specified. Default: 6432.
          type: string
          format: int64
        tlsMode:
          $ref: '#/components/schemas/TLSMode_in_OnPremiseMysql_tlsMode'
        subnetId:
          description: |-
            Network interface for endpoint

            Default: public IPv4.
          type: string
    OnPremisePostgres:
      type: object
      properties:
        hosts:
          type: array
          items:
            type: string
        port:
          description: |-
            Database port

            Will be used if the cluster ID is not specified. Default: 6432.
          type: string
          format: int64
        tlsMode:
          $ref: '#/components/schemas/TLSMode_in_OnPremisePostgres_tlsMode'
        subnetId:
          description: |-
            Network interface for endpoint

            Default: public IPv4.
          type: string
    Operation:
      description: An Operation resource. For more information, see [Operation](/docs/api-design-guide/concepts/operation).
      type: object
      allOf:
      - type: object
        properties:
          id:
            description: ID of the operation.
            type: string
          description:
            description: Description of the operation. 0-256 characters long.
            type: string
          createdAt:
            description: |-
              Creation timestamp.

              String in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) text format.
            type: string
            format: date-time
          createdBy:
            description: ID of the user or service account who initiated the operation.
            type: string
          modifiedAt:
            description: |-
              The time when the Operation resource was last modified.

              String in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) text format.
            type: string
            format: date-time
          done:
            description: |-
              If the value is `false`, it means the operation is still in progress.
              If `true`, the operation is completed, and either `error` or `response` is available.
            type: boolean
            format: boolean
          metadata:
            description: |-
              Service-specific metadata associated with the operation.
              It typically contains the ID of the target resource that the operation is performed on.
              Any method that returns a long-running operation should document the metadata type, if any.
            type: object
      - title: result
        type: object
        maxProperties: 1
        properties:
          error:
            $ref: '#/components/schemas/Status'
            description: The error result of the operation in case of failure or cancellation.
          response:
            description: |-
              The normal response of the operation in case of success.
              If the original method returns no data on success, such as Delete,
              the response is [google.protobuf.Empty](https://developers.google.com/protocol-buffers/docs/reference/google.protobuf#empty).
              If the original method is the standard Create/Update,
              the response should be the target resource of the operation.
              Any method that returns a long-running operation should document the response type, if any.
            type: object
    PostgresConnection:
      type: object
      allOf:
      - title: connection
        type: object
        maxProperties: 1
        properties:
          mdbClusterId:
            description: |-
              MDB cluster

              Yandex.Cloud Managed PostgreSQL cluster ID
            type: string
          onPremise:
            $ref: '#/components/schemas/OnPremisePostgres'
            description: |-
              On-premise

              Connection options for on-premise PostgreSQL
    PostgresObjectTransferSettings:
      type: object
      properties:
        sequence:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_sequence'
        sequenceOwnedBy:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_sequenceOwnedBy'
        table:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_table'
        primaryKey:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_primaryKey'
        fkConstraint:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_fkConstraint'
        defaultValues:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_defaultValues'
        constraint:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_constraint'
        index:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_index'
        view:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_view'
        function:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_function'
        trigger:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_trigger'
        type:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_type'
        rule:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_rule'
        collation:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_collation'
        policy:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_policy'
        cast:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_cast'
    PostgresSource:
      type: object
      properties:
        connection:
          $ref: '#/components/schemas/PostgresConnection_in_PostgresSource_connection'
        database:
          description: Database name
          type: string
        user:
          description: |-
            Username

            User for database access.
          type: string
        password:
          $ref: '#/components/schemas/Secret_in_PostgresSource_password'
        includeTables:
          description: |-
            List of tables

            If none or empty list is presented, all tables are replicated. Can contain
            regular expression.
          type: array
          items:
            type: string
        excludeTables:
          description: |-
            Excluded tables

            If none or empty list is presented, all tables are replicated. Can contain
            regular expression.
          type: array
          items:
            type: string
        slotByteLagLimit:
          description: |-
            Maximum WAL size for the replication slot

            Maximum WAL size held by the replication slot. Exceeding this limit will result
            in a replication failure and deletion of the replication slot. Unlimited by
            default.
          type: string
          format: int64
        serviceSchema:
          description: |-
            Database schema for service table

            Default: public. Here created technical tables (__consumer_keeper,
            __data_transfer_mole_finder).
          type: string
        objectTransferSettings:
          $ref: '#/components/schemas/PostgresObjectTransferSettings_in_PostgresSource_objectTransferSettings'
    PostgresTarget:
      type: object
      properties:
        connection:
          $ref: '#/components/schemas/PostgresConnection_in_PostgresTarget_connection'
        database:
          description: Database name
          type: string
        user:
          description: |-
            Username

            User for database access.
          type: string
        password:
          $ref: '#/components/schemas/Secret_in_PostgresTarget_password'
    Secret:
      type: object
      allOf:
      - title: value
        type: object
        maxProperties: 1
        properties:
          raw:
            description: Password
            type: string
    Status:
      description: The error result of the operation in case of failure or cancellation.
      type: object
      properties:
        code:
          description: Error code. An enum value of [google.rpc.Code](https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto).
          type: integer
          format: int32
        message:
          description: An error message.
          type: string
        details:
          description: A list of messages that carry the error details.
          type: array
          items:
            type: object
    TLSConfig:
      type: object
      properties:
        caCertificate:
          description: |-
            CA certificate

            X.509 certificate of the certificate authority which issued the server's
            certificate, in PEM format. When CA certificate is specified TLS is used to
            connect to the server.
          type: string
    TLSMode:
      type: object
      allOf:
      - title: tls_mode
        type: object
        maxProperties: 1
        properties:
          disabled:
            $ref: '#/components/schemas/Empty'
          enabled:
            $ref: '#/components/schemas/TLSConfig'
    Transfer:
      type: object
      properties:
        id:
          type: string
        folderId:
          type: string
        name:
          type: string
        description:
          type: string
        source:
          $ref: '#/components/schemas/Endpoint_in_Transfer_source'
        target:
          $ref: '#/components/schemas/Endpoint_in_Transfer_target'
        status:
          $ref: '#/components/schemas/TransferStatus_in_Transfer_status'
        type:
          $ref: '#/components/schemas/TransferType_in_Transfer_type'
        warning:
          type: string
    TransferStatus:
      type: string
      enum:
      - CREATING
      - CREATED
      - RUNNING
      - STOPPING
      - STOPPED
      - ERROR
      - SNAPSHOTTING
      - DONE
    TransferType:
      description: |2-
         - SNAPSHOT_AND_INCREMENT: Snapshot and increment
         - SNAPSHOT_ONLY: Snapshot
         - INCREMENT_ONLY: Increment
      type: string
      enum:
      - SNAPSHOT_AND_INCREMENT
      - SNAPSHOT_ONLY
      - INCREMENT_ONLY
    UpdateEndpointMetadata:
      type: object
      properties:
        endpointId:
          type: string
    UpdateEndpointRequest:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        settings:
          $ref: '#/components/schemas/EndpointSettings_in_UpdateEndpointRequest_settings'
    UpdateTransferMetadata:
      type: object
      properties:
        transferId:
          type: string
    UpdateTransferRequest:
      type: object
      properties:
        description:
          type: string
        name:
          type: string
    EndpointSettings_in_CreateEndpointRequest_settings:
      type: object
      allOf:
      - title: settings
        type: object
        maxProperties: 1
        properties:
          mysqlSource:
            $ref: '#/components/schemas/MysqlSource'
          postgresSource:
            $ref: '#/components/schemas/PostgresSource'
          mysqlTarget:
            $ref: '#/components/schemas/MysqlTarget'
          postgresTarget:
            $ref: '#/components/schemas/PostgresTarget'
    TransferType_in_CreateTransferRequest_type:
      description: |2-
         - SNAPSHOT_AND_INCREMENT: Snapshot and increment
         - SNAPSHOT_ONLY: Snapshot
         - INCREMENT_ONLY: Increment
      type: string
      enum:
      - SNAPSHOT_AND_INCREMENT
      - SNAPSHOT_ONLY
      - INCREMENT_ONLY
    EndpointSettings_in_Endpoint_settings:
      type: object
      allOf:
      - title: settings
        type: object
        maxProperties: 1
        properties:
          mysqlSource:
            $ref: '#/components/schemas/MysqlSource'
          postgresSource:
            $ref: '#/components/schemas/PostgresSource'
          mysqlTarget:
            $ref: '#/components/schemas/MysqlTarget'
          postgresTarget:
            $ref: '#/components/schemas/PostgresTarget'
    ObjectTransferStage_in_MysqlObjectTransferSettings_view:
      description: |-
        Views

        CREATE VIEW ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_MysqlObjectTransferSettings_routine:
      description: |-
        Routines

        CREATE PROCEDURE ... ; CREATE FUNCTION ... ;
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_MysqlObjectTransferSettings_trigger:
      description: |-
        Triggers

        CREATE TRIGGER ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    MysqlConnection_in_MysqlSource_connection:
      description: |-
        Connection settings

        Database connection settings
      type: object
      allOf:
      - title: connection
        type: object
        maxProperties: 1
        properties:
          mdbClusterId:
            description: |-
              MDB cluster

              Yandex.Cloud Managed MySQL cluster ID
            type: string
          onPremise:
            $ref: '#/components/schemas/OnPremiseMysql'
            description: |-
              On-premise

              Connection options for on-premise MySQL
    Secret_in_MysqlSource_password:
      description: |-
        Password

        Password for database access.
      type: object
      allOf:
      - title: value
        type: object
        maxProperties: 1
        properties:
          raw:
            description: Password
            type: string
    MysqlObjectTransferSettings_in_MysqlSource_objectTransferSettings:
      description: |-
        Schema migration

        Select database objects to be transferred during activation or deactivation.
      type: object
      properties:
        view:
          $ref: '#/components/schemas/ObjectTransferStage_in_MysqlObjectTransferSettings_view'
        routine:
          $ref: '#/components/schemas/ObjectTransferStage_in_MysqlObjectTransferSettings_routine'
        trigger:
          $ref: '#/components/schemas/ObjectTransferStage_in_MysqlObjectTransferSettings_trigger'
    MysqlConnection_in_MysqlTarget_connection:
      description: |-
        Connection settings

        Database connection settings
      type: object
      allOf:
      - title: connection
        type: object
        maxProperties: 1
        properties:
          mdbClusterId:
            description: |-
              MDB cluster

              Yandex.Cloud Managed MySQL cluster ID
            type: string
          onPremise:
            $ref: '#/components/schemas/OnPremiseMysql'
            description: |-
              On-premise

              Connection options for on-premise MySQL
    Secret_in_MysqlTarget_password:
      description: |-
        Password

        Password for database access.
      type: object
      allOf:
      - title: value
        type: object
        maxProperties: 1
        properties:
          raw:
            description: Password
            type: string
    TLSMode_in_OnPremiseMysql_tlsMode:
      description: |-
        TLS mode

        TLS settings for server connection. Disabled by default.
      type: object
      allOf:
      - title: tls_mode
        type: object
        maxProperties: 1
        properties:
          disabled:
            $ref: '#/components/schemas/Empty'
          enabled:
            $ref: '#/components/schemas/TLSConfig'
    TLSMode_in_OnPremisePostgres_tlsMode:
      description: |-
        TLS mode

        TLS settings for server connection. Disabled by default.
      type: object
      allOf:
      - title: tls_mode
        type: object
        maxProperties: 1
        properties:
          disabled:
            $ref: '#/components/schemas/Empty'
          enabled:
            $ref: '#/components/schemas/TLSConfig'
    ObjectTransferStage_in_PostgresObjectTransferSettings_sequence:
      description: |-
        Sequences

        CREATE SEQUENCE ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_sequenceOwnedBy:
      description: |-
        Owned sequences

        CREATE SEQUENCE ... OWNED BY ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_table:
      description: |-
        Tables

        CREATE TABLE ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_primaryKey:
      description: |-
        Primary keys

        ALTER TABLE ... ADD PRIMARY KEY ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_fkConstraint:
      description: |-
        Foreign keys

        ALTER TABLE ... ADD FOREIGN KEY ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_defaultValues:
      description: |-
        Default values

        ALTER TABLE ... ALTER COLUMN ... SET DEFAULT ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_constraint:
      description: |-
        Constraints

        ALTER TABLE ... ADD CONSTRAINT ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_index:
      description: |-
        Indexes

        CREATE INDEX ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_view:
      description: |-
        Views

        CREATE VIEW ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_function:
      description: |-
        Functions

        CREATE FUNCTION ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_trigger:
      description: |-
        Triggers

        CREATE TRIGGER ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_type:
      description: |-
        Types

        CREATE TYPE ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_rule:
      description: |-
        Rules

        CREATE RULE ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_collation:
      description: |-
        Collations

        CREATE COLLATION ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_policy:
      description: |-
        Policies

        CREATE POLICY ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    ObjectTransferStage_in_PostgresObjectTransferSettings_cast:
      description: |-
        Casts

        CREATE CAST ...
      type: string
      enum:
      - BEFORE_DATA
      - AFTER_DATA
      - NEVER
    PostgresConnection_in_PostgresSource_connection:
      description: |-
        Connection settings

        Database connection settings
      type: object
      allOf:
      - title: connection
        type: object
        maxProperties: 1
        properties:
          mdbClusterId:
            description: |-
              MDB cluster

              Yandex.Cloud Managed PostgreSQL cluster ID
            type: string
          onPremise:
            $ref: '#/components/schemas/OnPremisePostgres'
            description: |-
              On-premise

              Connection options for on-premise PostgreSQL
    Secret_in_PostgresSource_password:
      description: |-
        Password

        Password for database access.
      type: object
      allOf:
      - title: value
        type: object
        maxProperties: 1
        properties:
          raw:
            description: Password
            type: string
    PostgresObjectTransferSettings_in_PostgresSource_objectTransferSettings:
      description: |-
        Schema migration

        Select database objects to be transferred during activation or deactivation.
      type: object
      properties:
        sequence:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_sequence'
        sequenceOwnedBy:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_sequenceOwnedBy'
        table:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_table'
        primaryKey:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_primaryKey'
        fkConstraint:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_fkConstraint'
        defaultValues:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_defaultValues'
        constraint:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_constraint'
        index:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_index'
        view:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_view'
        function:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_function'
        trigger:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_trigger'
        type:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_type'
        rule:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_rule'
        collation:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_collation'
        policy:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_policy'
        cast:
          $ref: '#/components/schemas/ObjectTransferStage_in_PostgresObjectTransferSettings_cast'
    PostgresConnection_in_PostgresTarget_connection:
      description: |-
        Connection settings

        Database connection settings
      type: object
      allOf:
      - title: connection
        type: object
        maxProperties: 1
        properties:
          mdbClusterId:
            description: |-
              MDB cluster

              Yandex.Cloud Managed PostgreSQL cluster ID
            type: string
          onPremise:
            $ref: '#/components/schemas/OnPremisePostgres'
            description: |-
              On-premise

              Connection options for on-premise PostgreSQL
    Secret_in_PostgresTarget_password:
      description: |-
        Password

        Password for database access.
      type: object
      allOf:
      - title: value
        type: object
        maxProperties: 1
        properties:
          raw:
            description: Password
            type: string
    Endpoint_in_Transfer_source:
      type: object
      properties:
        id:
          type: string
        folderId:
          type: string
        name:
          type: string
        description:
          type: string
        settings:
          $ref: '#/components/schemas/EndpointSettings_in_Endpoint_settings'
    Endpoint_in_Transfer_target:
      type: object
      properties:
        id:
          type: string
        folderId:
          type: string
        name:
          type: string
        description:
          type: string
        settings:
          $ref: '#/components/schemas/EndpointSettings_in_Endpoint_settings'
    TransferStatus_in_Transfer_status:
      type: string
      enum:
      - CREATING
      - CREATED
      - RUNNING
      - STOPPING
      - STOPPED
      - ERROR
      - SNAPSHOTTING
      - DONE
    TransferType_in_Transfer_type:
      description: |2-
         - SNAPSHOT_AND_INCREMENT: Snapshot and increment
         - SNAPSHOT_ONLY: Snapshot
         - INCREMENT_ONLY: Increment
      type: string
      enum:
      - SNAPSHOT_AND_INCREMENT
      - SNAPSHOT_ONLY
      - INCREMENT_ONLY
    EndpointSettings_in_UpdateEndpointRequest_settings:
      type: object
      allOf:
      - title: settings
        type: object
        maxProperties: 1
        properties:
          mysqlSource:
            $ref: '#/components/schemas/MysqlSource'
          postgresSource:
            $ref: '#/components/schemas/PostgresSource'
          mysqlTarget:
            $ref: '#/components/schemas/MysqlTarget'
          postgresTarget:
            $ref: '#/components/schemas/PostgresTarget'
tags:
- name: Endpoint
- name: Transfer
