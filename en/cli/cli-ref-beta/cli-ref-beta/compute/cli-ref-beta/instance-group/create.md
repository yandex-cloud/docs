---
editable: false
noIndex: true
sourcePath: en/_cli-ref-beta/cli-ref-beta/compute/cli-ref-beta/instance-group/create.md
---

# yc beta compute instance-group create

Creates an instance group in the specified folder.  This method starts an operation that can be cancelled by another operation.

#### Command Usage

Syntax: 

`yc beta compute instance-group create <FOLDER-ID>`

#### Flags

| Flag | Description |
|----|----|
|`-r`,`--request-file`|<b>`string`</b><br/>Path to a request file.|
|`--example-json`|Generates a JSON template of the request.<br/><br/>The template can be customized and used as input for the command.<br/><br/>Usage example:<br/>1. Generate template: yc beta compute instance create --example-json > request.json<br/>2. Edit the template: vim request.json<br/>3. Run with template: yc beta compute instance create -r request.json|
|`--example-yaml`|Generates a YAML template of the request.<br/><br/>The template can be customized and used as input for the command.<br/><br/>Usage example:<br/>1. Generate template: yc beta compute instance create --example-yaml > request.yaml<br/>2. Edit the template: vim request.yaml<br/>3. Run with template: yc beta compute instance create -r request.yaml|
|`--allocation-policy`|<b>`shorthand/json`</b><br/>Allocation policy of the instance group by zones and regions.<br/><br/>Example:|
|`--allocation-policy`|<b>`zones=[{instance-tags-pool=value,`</b><br/>zone-id=value}]<br/><br/>Shorthand Syntax:<br/>{zones=[{instance-tags-pool=str,..., zone-id=str},...]}<br/>Fields:<br/>zones  []struct  — List of availability zones.<br/>instance-tags-pool  []string            — Each instance in a zone will be associated with exactly one of a tag from a pool below.<br/>All specified tags must be unique across the whole group not only the zone.<br/>It is guaranteed that during whole deploy only tags from prefix of the specified list will be used.<br/>It is possible to use tag associated with instance in templating via {instance.tag}.<br/>zone-id             string    required  — ID of the availability zone where the instance resides.<br/>|
|`--application-load-balancer-spec`|<b>`shorthand/json`</b><br/>Settings for balancing load between instances via [Application Load Balancer](https://yandex.cloud/ru/docs/application-load-balancer/concepts)<br/>(OSI model layer 7).<br/><br/>If specified, an Application Load Balancer target group containing all instances from the instance group will be created<br/>and attributed to the instance group.<br/><br/>Example:|
|`--application-load-balancer-spec`|<b>`ignore-health-checks=true,`</b><br/>max-opening-traffic-duration=1h30m, target-group-spec={description=value, labels={key=value}, name=value}<br/><br/>Shorthand Syntax:<br/>{ignore-health-checks=bool, max-opening-traffic-duration=duration, target-group-spec={description=str, labels={key=str, key=...}, name=str}}<br/>Fields:<br/>ignore-health-checks          bool                — Do not wait load balancer health checks.<br/>max-opening-traffic-duration  duration            — Timeout for waiting for the VM to be checked by the load balancer. If the timeout is exceeded,<br/>the VM will be turned off based on the deployment policy. Specified in seconds.<br/>target-group-spec             struct    required  — Basic properties of the Application Load Balancer target group attributed to the instance group.<br/>description  string              — Description of the target group.<br/>labels       map[string,string]  — Resource labels as 'key:value' pairs.<br/>name         string              — Name of the target group.<br/>|
|`--auto-healing-policy`|<b>`shorthand/json`</b><br/>AutoHealingPolicy policy of the instance group.<br/><br/>Example:<br/>--auto-healing-policy auto-healing-action=RESTART<br/><br/>Shorthand Syntax:<br/>{auto-healing-action=RESTART\|RECREATE\|NONE}<br/>Fields:<br/>auto-healing-action  enum<NONE\|RECREATE\|RESTART>  — Instance Groups performs [auto_healing_action] when instance becomes unhealthy.<br/>|
|`--deletion-protection`|Flag prohibiting deletion of the instance group.<br/><br/>Allowed values:</br>- 'false': The instance group can be deleted.</br>- 'true': The instance group cannot be deleted.<br/><br/>The default is 'false'.|
|`--deploy-policy`|<b>`shorthand/json`</b><br/>Deployment policy of the instance group.<br/><br/>Example:|
|`--deploy-policy`|<b>`max-creating=1,`</b><br/>max-deleting=1, max-expansion=1, max-unavailable=1, minimal-action=LIVE_UPDATE, startup-duration=1h30m, strategy=PROACTIVE<br/><br/>Shorthand Syntax:<br/>{max-creating=int, max-deleting=int, max-expansion=int, max-unavailable=int, minimal-action=LIVE_UPDATE\|RESTART\|RECREATE, startup-duration=duration, strategy=PROACTIVE\|OPPORTUNISTIC}<br/>Fields:<br/>max-creating      int                                 — The maximum number of instances that can be created at the same time.<br/><br/>The value 0 is any number of virtual machines within the allowed values.<br/>max-deleting      int                                 — The maximum number of instances that can be deleted at the same time.<br/><br/>The value 0 is any number of virtual machines within the allowed values.<br/>max-expansion     int                                 — The maximum number of instances that can be temporarily allocated above the group's target size<br/>during the update process.<br/>If [max_unavailable] is not specified or set to zero, [max_expansion] must be set to a non-zero value.<br/>max-unavailable   int                                 — The maximum number of running instances that can be taken offline (i.e., stopped or deleted) at the same time<br/>during the update process.<br/>If [max_expansion] is not specified or set to zero, [max_unavailable] must be set to a non-zero value.<br/>minimal-action    enum<LIVE_UPDATE\|RECREATE\|RESTART>  — If instance update requires a less disruptive action than [minimal_action],<br/>Instance Groups performs [minimal_action] to execute the update<br/>startup-duration  duration                            — Instance startup duration.<br/>Instance will be considered up and running (and start receiving traffic) only after startup_duration<br/>has elapsed and all health checks are passed.<br/>See [ManagedInstance.Status] for more information.<br/>strategy          enum<OPPORTUNISTIC\|PROACTIVE>       — Affects the lifecycle of the instance during deployment.<br/>|
|`--description`|<b>`string`</b><br/>Description of the instance group.|
|`--folder-id`|<b>`string`</b><br/>ID of the folder to create an instance group in.<br/>To get the folder ID, use a [yandex.cloud.resourcemanager.v1.FolderService.List] request.|
|`--health-checks-spec`|<b>`shorthand/json`</b><br/>Health checking specification. For more information, see [Health check](https://yandex.cloud/ru/docs/network-load-balancer/concepts/health-check).<br/><br/>Example:|
|`--health-checks-spec`|<b>`health-check-specs=[{health-check-options={http-options={path=value,`</b><br/>port=1}}, healthy-threshold=1, interval=1h30m, timeout=1h30m, unhealthy-threshold=1}], max-checking-health-duration=1h30m<br/><br/>Shorthand Syntax:<br/>{health-check-specs=[{health-check-options={http-options={path=str, port=int} \| tcp-options={port=int}}, healthy-threshold=int, interval=duration, timeout=duration, unhealthy-threshold=int},...], max-checking-health-duration=duration}<br/>Fields:<br/>health-check-specs            []struct  — Health checking specification. For more information, see [Health check](https://yandex.cloud/ru/docs/network-load-balancer/concepts/health-check).<br/>healthy-threshold     int                              — The number of successful health checks required in order for the managed instance to be considered healthy. The default (0) is 2.<br/>interval              duration                         — The interval between health checks. The default is 2 seconds.<br/>timeout               duration                         — Timeout for the managed instance to return a response for the health check. The default is 1 second.<br/>unhealthy-threshold   int                              — The number of failed health checks for the managed instance to be considered unhealthy. The default (0) is 2.<br/>health-check-options  oneof<http-options\|tcp-options>  — Oneof health-check-options field<br/>tcp-options   struct  — Configuration options for a TCP health check.<br/>port  int  — Port to use for TCP health checks.<br/>http-options  struct  — Configuration options for an HTTP health check.<br/>path  string  — URL path to set for health checking requests.<br/>port  int     — Port to use for HTTP health checks.<br/>max-checking-health-duration  duration  — Timeout for waiting for the VM to become healthy. If the timeout is exceeded,<br/>the VM will be turned off based on the deployment policy. Specified in seconds.<br/>|
|`--instance-template`|<b>`shorthand/json`</b><br/>Instance template that the instance group belongs to.<br/><br/>Example:|
|`--instance-template`|<b>`boot-disk-spec={device-name=value,`</b><br/>disk-id=value, disk-spec={description=value, preserve-after-instance-delete=true, size=1, source-oneof={image-id=value}, type-id=value}, mode=READ_ONLY, name=value}, description=value, filesystem-specs=[{device-name=value, filesystem-id=value, mode=READ_ONLY}], hostname=value, labels={key=value}, metadata={key=value}, metadata-options={aws-v1-http-endpoint=ENABLED, aws-v1-http-token=ENABLED, gce-http-endpoint=ENABLED, gce-http-token=ENABLED}, name=value, network-interface-specs=[{network-id=value, primary-v4-address-spec={address=value, dns-record-specs=[{dns-zone-id=value, fqdn=value, ptr=true, ttl=1}], one-to-one-nat-spec={address=value, dns-record-specs=[{dns-zone-id=value, fqdn=value, ptr=true, ttl=1}], ip-version=IPV4}}, primary-v6-address-spec={address=value, dns-record-specs=[{dns-zone-id=value, fqdn=value, ptr=true, ttl=1}], one-to-one-nat-spec={address=value, dns-record-specs=[{dns-zone-id=value, fqdn=value, ptr=true, ttl=1}], ip-version=IPV4}}, security-group-ids=value, subnet-ids=value}], network-settings={type=STANDARD}, placement-policy={host-affinity-rules=[{key=value, op=IN, values=value}], placement-group-id=value}, platform-id=value, reserved-instance-pool-id=value, resources-spec={core-fraction=1, cores=1, gpus=1, memory=1}, scheduling-policy={preemptible=true}, secondary-disk-specs=[{device-name=value, disk-id=value, disk-spec={description=value, preserve-after-instance-delete=true, size=1, source-oneof={image-id=value}, type-id=value}, mode=READ_ONLY, name=value}], service-account-id=value<br/><br/>Shorthand Syntax:<br/>{boot-disk-spec={device-name=str, disk-id=str, disk-spec={description=str, preserve-after-instance-delete=bool, size=int, source-oneof={image-id=str \| snapshot-id=str}, type-id=str}, mode=READ_ONLY\|READ_WRITE, name=str}, description=str, filesystem-specs=[{device-name=str, filesystem-id=str, mode=READ_ONLY\|READ_WRITE},...], hostname=str, labels={key=str, key=...}, metadata={key=str, key=...}, metadata-options={aws-v1-http-endpoint=ENABLED\|DISABLED, aws-v1-http-token=ENABLED\|DISABLED, gce-http-endpoint=ENABLED\|DISABLED, gce-http-token=ENABLED\|DISABLED}, name=str, network-interface-specs=[{network-id=str, primary-v4-address-spec={address=str, dns-record-specs=[{dns-zone-id=str, fqdn=str, ptr=bool, ttl=int},...], one-to-one-nat-spec={address=str, dns-record-specs=[{dns-zone-id=str, fqdn=str, ptr=bool, ttl=int},...], ip-version=IPV4\|IPV6}}, primary-v6-address-spec={address=str, dns-record-specs=[{dns-zone-id=str, fqdn=str, ptr=bool, ttl=int},...], one-to-one-nat-spec={address=str, dns-record-specs=[{dns-zone-id=str, fqdn=str, ptr=bool, ttl=int},...], ip-version=IPV4\|IPV6}}, security-group-ids=str,..., subnet-ids=str,...},...], network-settings={type=STANDARD\|SOFTWARE_ACCELERATED\|HARDWARE_ACCELERATED}, placement-policy={host-affinity-rules=[{key=str, op=IN\|NOT_IN, values=str,...},...], placement-group-id=str}, platform-id=str, reserved-instance-pool-id=str, resources-spec={core-fraction=int, cores=int, gpus=int, memory=int}, scheduling-policy={preemptible=bool}, secondary-disk-specs=[{device-name=str, disk-id=str, disk-spec={description=str, preserve-after-instance-delete=bool, size=int, source-oneof={image-id=str \| snapshot-id=str}, type-id=str}, mode=READ_ONLY\|READ_WRITE, name=str},...], service-account-id=str}<br/>Fields:<br/>boot-disk-spec             struct              required  — Boot disk specification that will be attached to the instance.<br/>device-name  string                                — Serial number that is reflected in the /dev/disk/by-id/ tree<br/>of a Linux operating system running within the instance.<br/><br/>This value can be used to reference the device for mounting, resizing, and so on, from within the instance.<br/>disk-id      string                                — Set to use an existing disk. To set use variables.<br/>disk-spec    struct                      required  — oneof disk_spec or disk_id<br/>Disk specification that is attached to the instance. For more information, see [Disks](https://yandex.cloud/ru/docs/compute/concepts/disk).<br/>description                     string                                 — Description of the disk.<br/>preserve-after-instance-delete  bool                                   — When set to true, disk will not be deleted even after managed instance is deleted.<br/>It will be a user's responsibility to delete such disks.<br/>size                            int                                    — Size of the disk, specified in bytes.<br/>type-id                         string                       required  — ID of the disk type.<br/>source-oneof                    oneof<image-id\|snapshot-id>            — Oneof source-oneof field<br/>image-id     string  — ID of the image that will be used for disk creation.<br/>snapshot-id  string  — ID of the snapshot that will be used for disk creation.<br/>mode         enum<READ_ONLY\|READ_WRITE>  required  — Access mode to the Disk resource.<br/>name         string                                — When set can be later used to change DiskSpec of actual disk.<br/>description                string                        — Description of the instance template.<br/>filesystem-specs           []struct                      — Array of filesystems to attach to the instance.<br/><br/>The filesystems must reside in the same availability zone as the instance.<br/><br/>To use the instance with an attached filesystem, the latter must be mounted.<br/>For details, see [documentation](https://yandex.cloud/ru/docs/compute/operations/filesystem/attach-to-vm).<br/>device-name    string                      — Name of the device representing the filesystem on the instance.<br/><br/>The name should be used for referencing the filesystem from within the instance<br/>when it's being mounted, resized etc.<br/><br/>If not specified, a random value will be generated.<br/>filesystem-id  string                      — ID of the filesystem that should be attached.<br/>mode           enum<READ_ONLY\|READ_WRITE>  — Mode of access to the filesystem that should be attached.<br/>hostname                   string                        — Host name for the instance.<br/>This field is used to generate the [yandex.cloud.compute.v1.Instance.fqdn] value.<br/>The host name must be unique within the network and region.<br/>If not specified, the host name will be equal to [yandex.cloud.compute.v1.Instance.id] of the instance<br/>and FQDN will be '\<id\>.auto.internal'. Otherwise FQDN will be '\<hostname\>.<region_id>.internal'.<br/><br/>In order to be unique it must contain at least on of instance unique placeholders:<br/>{instance.short_id}<br/>{instance.index}<br/>combination of {instance.zone_id} and {instance.index_in_zone}<br/>Example: my-instance-{instance.index}<br/>If not set, 'name' value will be used<br/>It may also contain another placeholders, see metadata doc for full list.<br/>labels                     map[string,string]            — Resource labels as 'key:value' pairs.<br/>metadata                   map[string,string]            — The metadata 'key:value' pairs assigned to this instance template. This includes custom metadata and predefined keys.<br/><br/>Metadata values may contain one of the supported placeholders:<br/>{instance_group.id}<br/>{instance.short_id}<br/>{instance.index}<br/>{instance.index_in_zone}<br/>{instance.zone_id}<br/>InstanceGroup and Instance labels may be copied to metadata following way:<br/>{instance_group.labels.some_label_key}<br/>{instance.labels.another_label_key}<br/>These placeholders will be substituted for each created instance anywhere in the value text.<br/>In the rare case the value requires to contain this placeholder explicitly,<br/>it must be escaped with double brackets, in example {instance.index}.<br/><br/>For example, you may use the metadata in order to provide your public SSH key to the instance.<br/>For more information, see [Metadata](https://yandex.cloud/ru/docs/compute/concepts/vm-metadata).<br/>metadata-options           struct                        — Metadata options for the instance<br/>aws-v1-http-endpoint  enum<DISABLED\|ENABLED>  — Enabled access to AWS flavored metadata (IMDSv1)<br/>aws-v1-http-token     enum<DISABLED\|ENABLED>  — Enabled access to IAM credentials with AWS flavored metadata (IMDSv1)<br/>gce-http-endpoint     enum<DISABLED\|ENABLED>  — Enabled access to GCE flavored metadata<br/>gce-http-token        enum<DISABLED\|ENABLED>  — Enabled access to IAM credentials with GCE flavored metadata<br/>name                       string                        — Name of the instance.<br/>In order to be unique it must contain at least on of instance unique placeholders:<br/>{instance.short_id}<br/>{instance.index}<br/>combination of {instance.zone_id} and {instance.index_in_zone}<br/>Example: my-instance-{instance.index}<br/>If not set, default is used: {instance_group.id}-{instance.short_id}<br/>It may also contain another placeholders, see metadata doc for full list.<br/>network-interface-specs    []struct            required  — Array of network interfaces that will be attached to the instance.<br/>network-id               string    — ID of the network.<br/>primary-v4-address-spec  struct    — Primary IPv4 address that is assigned to the instance for this network interface.<br/>address              string    — Optional. Manual set static internal IP. To set use variables.<br/>dns-record-specs     []struct  — Internal DNS configuration<br/>dns-zone-id  string            — DNS zone id (optional, if not set, private zone used)<br/>fqdn         string  required  — FQDN (required)<br/>ptr          bool              — When set to true, also create PTR DNS record (optional)<br/>ttl          int               — DNS record ttl, values in 0-86400 (optional)<br/>one-to-one-nat-spec  struct    — An external IP address configuration.<br/>If not specified, then this managed instance will have no external internet access.<br/>address           string           — Manual set static public IP. To set use variables. (optional)<br/>dns-record-specs  []struct         — External DNS configuration<br/>dns-zone-id  string            — DNS zone id (optional, if not set, private zone used)<br/>fqdn         string  required  — FQDN (required)<br/>ptr          bool              — When set to true, also create PTR DNS record (optional)<br/>ttl          int               — DNS record ttl, values in 0-86400 (optional)<br/>ip-version        enum<IPV4\|IPV6>  — IP version for the public IP address.<br/>primary-v6-address-spec  struct    — Primary IPv6 address that is assigned to the instance for this network interface. IPv6 not available yet.<br/>address              string    — Optional. Manual set static internal IP. To set use variables.<br/>dns-record-specs     []struct  — Internal DNS configuration<br/>dns-zone-id  string            — DNS zone id (optional, if not set, private zone used)<br/>fqdn         string  required  — FQDN (required)<br/>ptr          bool              — When set to true, also create PTR DNS record (optional)<br/>ttl          int               — DNS record ttl, values in 0-86400 (optional)<br/>one-to-one-nat-spec  struct    — An external IP address configuration.<br/>If not specified, then this managed instance will have no external internet access.<br/>address           string           — Manual set static public IP. To set use variables. (optional)<br/>dns-record-specs  []struct         — External DNS configuration<br/>dns-zone-id  string            — DNS zone id (optional, if not set, private zone used)<br/>fqdn         string  required  — FQDN (required)<br/>ptr          bool              — When set to true, also create PTR DNS record (optional)<br/>ttl          int               — DNS record ttl, values in 0-86400 (optional)<br/>ip-version        enum<IPV4\|IPV6>  — IP version for the public IP address.<br/>security-group-ids       []string  — IDs of security groups.<br/>subnet-ids               []string  — IDs of the subnets.<br/>network-settings           struct                        — Network settings for the instance.<br/>type  enum<HARDWARE_ACCELERATED\|SOFTWARE_ACCELERATED\|STANDARD>  — Type of instance network.<br/>placement-policy           struct                        — Placement Group<br/>host-affinity-rules  []struct  — List of affinity rules. Scheduler will attempt to allocate instances according to order of rules.<br/>key     string           — Affinity label or one of reserved values - 'yc.hostId', 'yc.hostGroupId'<br/>op      enum<IN\|NOT_IN>  — Include or exclude action<br/>values  []string         — Affinity value or host ID or host group ID<br/>placement-group-id   string    — Identifier of placement group<br/>platform-id                string              required  — ID of the hardware platform configuration for the instance.<br/>Platforms allows you to create various types of instances: with a large amount of memory,<br/>with a large number of cores, with a burstable performance.<br/>For more information, see [Platforms](https://yandex.cloud/ru/docs/compute/concepts/vm-platforms).<br/>reserved-instance-pool-id  string                        — ID of the reserved instance pool that the instance should belong to.<br/>Attaching/detaching running instance will increase/decrease the size of the reserved instance pool.<br/>Attaching/detaching stopped instance will leave the size of the reserved instance pool unchanged. Starting such attached instance will use resources from the reserved instance pool.<br/>Reserved instance pool resource configuration must match the resource configuration of the instance.<br/>resources-spec             struct              required  — Computing resources of the instance such as the amount of memory and number of cores.<br/>core-fraction  int  — Baseline level of CPU performance with the ability to burst performance above that baseline level.<br/>This field sets baseline performance for each core.<br/>cores          int  — The number of cores available to the instance.<br/>gpus           int  — The number of GPUs available to the instance.<br/>memory         int  — The amount of memory available to the instance, specified in bytes.<br/>scheduling-policy          struct                        — Scheduling policy for the instance.<br/>preemptible  bool  — Preemptible instances are stopped at least once every 24 hours, and can be stopped at any time<br/>if their resources are needed by Compute.<br/>For more information, see [Preemptible Virtual Machines](https://yandex.cloud/ru/docs/compute/concepts/preemptible-vm).<br/>secondary-disk-specs       []struct                      — Array of secondary disks that will be attached to the instance.<br/>device-name  string                                — Serial number that is reflected in the /dev/disk/by-id/ tree<br/>of a Linux operating system running within the instance.<br/><br/>This value can be used to reference the device for mounting, resizing, and so on, from within the instance.<br/>disk-id      string                                — Set to use an existing disk. To set use variables.<br/>disk-spec    struct                      required  — oneof disk_spec or disk_id<br/>Disk specification that is attached to the instance. For more information, see [Disks](https://yandex.cloud/ru/docs/compute/concepts/disk).<br/>description                     string                                 — Description of the disk.<br/>preserve-after-instance-delete  bool                                   — When set to true, disk will not be deleted even after managed instance is deleted.<br/>It will be a user's responsibility to delete such disks.<br/>size                            int                                    — Size of the disk, specified in bytes.<br/>type-id                         string                       required  — ID of the disk type.<br/>source-oneof                    oneof<image-id\|snapshot-id>            — Oneof source-oneof field<br/>image-id     string  — ID of the image that will be used for disk creation.<br/>snapshot-id  string  — ID of the snapshot that will be used for disk creation.<br/>mode         enum<READ_ONLY\|READ_WRITE>  required  — Access mode to the Disk resource.<br/>name         string                                — When set can be later used to change DiskSpec of actual disk.<br/>service-account-id         string                        — Service account ID for the instance.<br/>|
|`--labels`|<b>`stringToString`</b><br/>Resource labels as 'key:value' pairs.|
|`--load-balancer-spec`|<b>`shorthand/json`</b><br/>Settings for balancing load between instances via [Network Load Balancer](https://yandex.cloud/ru/docs/network-load-balancer/concepts)<br/>(OSI model layer 3).<br/><br/>If specified, a Network Load Balancer target group containing all instances from the instance group will be created<br/>and attributed to the instance group.<br/><br/>Example:|
|`--load-balancer-spec`|<b>`ignore-health-checks=true,`</b><br/>max-opening-traffic-duration=1h30m, target-group-spec={description=value, labels={key=value}, name=value}<br/><br/>Shorthand Syntax:<br/>{ignore-health-checks=bool, max-opening-traffic-duration=duration, target-group-spec={description=str, labels={key=str, key=...}, name=str}}<br/>Fields:<br/>ignore-health-checks          bool      — Do not wait load balancer health checks.<br/>max-opening-traffic-duration  duration  — Timeout for waiting for the VM to be checked by the load balancer. If the timeout is exceeded,<br/>the VM will be turned off based on the deployment policy. Specified in seconds.<br/>target-group-spec             struct    — Specification of the target group that the instance group will be added to. For more information, see [Target groups and resources](https://yandex.cloud/ru/docs/network-load-balancer/concepts/target-resources).<br/>description  string              — Description of the target group.<br/>labels       map[string,string]  — Resource labels as 'key:value' pairs.<br/>name         string              — Name of the target group.<br/>|
|`--name`|<b>`string`</b><br/>Name of the instance group.|
|`--scale-policy`|<b>`shorthand/json`</b><br/>[Scaling policy](https://yandex.cloud/ru/docs/compute/concepts/instance-groups/scale) of the instance group.<br/><br/>Example:|
|`--scale-policy`|<b>`scale-type={auto-scale={auto-scale-type=ZONAL,`</b><br/>cpu-utilization-rule={utilization-target=1.0}, custom-rules=[{folder-id=value, labels={key=value}, metric-name=value, metric-type=GAUGE, rule-type=UTILIZATION, service=value, target=1.0}], initial-size=1, max-size=1, measurement-duration=1h30m, min-zone-size=1, stabilization-duration=1h30m, warmup-duration=1h30m}}, test-auto-scale={auto-scale-type=ZONAL, cpu-utilization-rule={utilization-target=1.0}, custom-rules=[{folder-id=value, labels={key=value}, metric-name=value, metric-type=GAUGE, rule-type=UTILIZATION, service=value, target=1.0}], initial-size=1, max-size=1, measurement-duration=1h30m, min-zone-size=1, stabilization-duration=1h30m, warmup-duration=1h30m}<br/><br/>Shorthand Syntax:<br/>{scale-type={auto-scale={auto-scale-type=ZONAL\|REGIONAL, cpu-utilization-rule={utilization-target=double}, custom-rules=[{folder-id=str, labels={key=str, key=...}, metric-name=str, metric-type=GAUGE\|COUNTER, rule-type=UTILIZATION\|WORKLOAD, service=str, target=double},...], initial-size=int, max-size=int, measurement-duration=duration, min-zone-size=int, stabilization-duration=duration, warmup-duration=duration} \| fixed-scale={size=int}}, test-auto-scale={auto-scale-type=ZONAL\|REGIONAL, cpu-utilization-rule={utilization-target=double}, custom-rules=[{folder-id=str, labels={key=str, key=...}, metric-name=str, metric-type=GAUGE\|COUNTER, rule-type=UTILIZATION\|WORKLOAD, service=str, target=double},...], initial-size=int, max-size=int, measurement-duration=duration, min-zone-size=int, stabilization-duration=duration, warmup-duration=duration}}<br/>Fields:<br/>test-auto-scale  struct                         — Test spec for [automatic scaling policy](https://yandex.cloud/ru/docs/compute/concepts/instance-groups/scale#auto-scale) of the instance group.<br/>auto-scale-type         enum<REGIONAL\|ZONAL>  — Autoscaling type.<br/>cpu-utilization-rule    struct                — Defines an autoscaling rule based on the average CPU utilization of the instance group.<br/><br/>If more than one rule is specified, e.g. CPU utilization and one or more Monitoring metrics ([custom_rules]),<br/>the size of the instance group will be equal to the maximum of sizes calculated according to each metric.<br/>utilization-target  double  — Target CPU utilization level. Instance Groups maintains this level for each availability zone.<br/>custom-rules            []struct              — Defines an autoscaling rule based on a [custom metric](https://yandex.cloud/ru/docs/monitoring/operations/metric/add) from Monitoring.<br/><br/>If more than one rule is specified, e.g. CPU utilization ([cpu_utilization_rule]) and one or more Monitoring<br/>metrics, the size of the instance group will be equal to the maximum of sizes calculated according to each metric.<br/>folder-id    string                                — Folder id of custom metric in Monitoring that should be used for scaling.<br/>labels       map[string,string]                    — Labels of custom metric in Monitoring that should be used for scaling.<br/>metric-name  string                      required  — Name of custom metric in Monitoring that should be used for scaling.<br/>metric-type  enum<COUNTER\|GAUGE>         required  — Type of custom metric. This field affects how Instance Groups calculates the average metric value.<br/>rule-type    enum<UTILIZATION\|WORKLOAD>  required  — Custom metric rule type. This field affects which label from<br/>the custom metric should be used: 'zone_id' or 'instance_id'.<br/>service      string                                — Service of custom metric in Monitoring that should be used for scaling.<br/>target       double                                — Target value for the custom metric. Instance Groups maintains this level for each availability zone.<br/>initial-size            int                   — Target group size.<br/>max-size                int                   — Upper limit for total instance count (across all zones).<br/>0 means maximum limit = 100.<br/>measurement-duration    duration              — Time in seconds allotted for averaging metrics.<br/>1 minute by default.<br/>min-zone-size           int                   — Lower limit for instance count in each zone.<br/>stabilization-duration  duration              — Minimum amount of time in seconds allotted for monitoring before<br/>Instance Groups can reduce the number of instances in the group.<br/>During this time, the group size doesn't decrease, even if the new metric values<br/>indicate that it should.<br/>warmup-duration         duration              — The warmup time of the instance in seconds. During this time,<br/>traffic is sent to the instance, but instance metrics are not collected.<br/>scale-type       oneof<auto-scale\|fixed-scale>  — Oneof scale-type field<br/>fixed-scale  struct  — [Manual scaling policy](https://yandex.cloud/ru/docs/compute/concepts/instance-groups/scale#fixed-policy) of the instance group.<br/>size  int  — Number of instances in the instance group.<br/>auto-scale   struct  — [Automatic scaling policy](https://yandex.cloud/ru/docs/compute/concepts/instance-groups/scale#auto-scale) of the instance group.<br/>auto-scale-type         enum<REGIONAL\|ZONAL>  — Autoscaling type.<br/>cpu-utilization-rule    struct                — Defines an autoscaling rule based on the average CPU utilization of the instance group.<br/><br/>If more than one rule is specified, e.g. CPU utilization and one or more Monitoring metrics ([custom_rules]),<br/>the size of the instance group will be equal to the maximum of sizes calculated according to each metric.<br/>utilization-target  double  — Target CPU utilization level. Instance Groups maintains this level for each availability zone.<br/>custom-rules            []struct              — Defines an autoscaling rule based on a [custom metric](https://yandex.cloud/ru/docs/monitoring/operations/metric/add) from Monitoring.<br/><br/>If more than one rule is specified, e.g. CPU utilization ([cpu_utilization_rule]) and one or more Monitoring<br/>metrics, the size of the instance group will be equal to the maximum of sizes calculated according to each metric.<br/>folder-id    string                                — Folder id of custom metric in Monitoring that should be used for scaling.<br/>labels       map[string,string]                    — Labels of custom metric in Monitoring that should be used for scaling.<br/>metric-name  string                      required  — Name of custom metric in Monitoring that should be used for scaling.<br/>metric-type  enum<COUNTER\|GAUGE>         required  — Type of custom metric. This field affects how Instance Groups calculates the average metric value.<br/>rule-type    enum<UTILIZATION\|WORKLOAD>  required  — Custom metric rule type. This field affects which label from<br/>the custom metric should be used: 'zone_id' or 'instance_id'.<br/>service      string                                — Service of custom metric in Monitoring that should be used for scaling.<br/>target       double                                — Target value for the custom metric. Instance Groups maintains this level for each availability zone.<br/>initial-size            int                   — Target group size.<br/>max-size                int                   — Upper limit for total instance count (across all zones).<br/>0 means maximum limit = 100.<br/>measurement-duration    duration              — Time in seconds allotted for averaging metrics.<br/>1 minute by default.<br/>min-zone-size           int                   — Lower limit for instance count in each zone.<br/>stabilization-duration  duration              — Minimum amount of time in seconds allotted for monitoring before<br/>Instance Groups can reduce the number of instances in the group.<br/>During this time, the group size doesn't decrease, even if the new metric values<br/>indicate that it should.<br/>warmup-duration         duration              — The warmup time of the instance in seconds. During this time,<br/>traffic is sent to the instance, but instance metrics are not collected.<br/>|
|`--service-account-id`|<b>`string`</b><br/>ID of the service account. The service account will be used for all API calls<br/>made by the Instance Groups component on behalf of the user (for example, creating instances, adding them to load balancer target group, etc.). For more information, see [Service accounts](https://yandex.cloud/ru/docs/iam/concepts/users/service-accounts).<br/>To get the service account ID, use a [yandex.cloud.iam.v1.ServiceAccountService.List] request.|
|`--variables`|<b>`shorthand/json`</b><br/><br/><br/>Example:|
|`--variables`|<b>`[{key=value,`</b><br/>value=value}]<br/><br/>Shorthand Syntax:<br/>[{key=str, value=str},...]<br/>Fields:<br/>key    string  —<br/>value  string  —<br/>|
|`--async`|Display information about the operation in progress, without waiting for the operation to complete.|

#### Global Flags

| Flag | Description |
|----|----|
|`--profile`|<b>`string`</b><br/>Set the custom profile.|
|`--region`|<b>`string`</b><br/>Set the region.|
|`--debug`|Debug logging.|
|`--debug-grpc`|Debug gRPC logging. Very verbose, used for debugging connection problems.|
|`--no-user-output`|Disable printing user intended output to stderr.|
|`--pager`|<b>`string`</b><br/>Set the custom pager.|
|`--format`|<b>`string`</b><br/>Set the output format: text, yaml, json, table, json-rest.|
|`--retry`|<b>`int`</b><br/>Enable gRPC retries. By default, retries are enabled with maximum 5 attempts.<br/>Pass 0 to disable retries. Pass any negative value for infinite retries.<br/>Even infinite retries are capped with 2 minutes timeout.|
|`--timeout`|<b>`string`</b><br/>Set the timeout.|
|`--token`|<b>`string`</b><br/>Set the IAM token to use.|
|`--impersonate-service-account-id`|<b>`string`</b><br/>Set the ID of the service account to impersonate.|
|`--no-browser`|Disable opening browser for authentication.|
|`--query`|<b>`string`</b><br/>Query to select values from the response using jq syntax|
|`-h`,`--help`|Display help for the command.|
