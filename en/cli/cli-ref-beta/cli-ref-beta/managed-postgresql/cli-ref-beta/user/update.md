---
editable: false
noIndex: true
sourcePath: en/_cli-ref-beta/cli-ref-beta/managed-postgresql/cli-ref-beta/user/update.md
---

# yc beta managed-postgresql user update

Updates the specified PostgreSQL user.

#### Command Usage

Syntax: 

`yc beta managed-postgresql user update <CLUSTER-ID>`

#### Flags

| Flag | Description |
|----|----|
|`--auth-method`|<b>`enum`</b><br/>User Auth method Possible Values: 'auth-method-password', 'auth-method-iam'|
|`--cluster-id`|<b>`string`</b><br/>ID of the PostgreSQL cluster the user belongs to.<br/>To get the cluster ID use a [ClusterService.List] request.|
|`--conn-limit`|<b>`int`</b><br/>Maximum number of database connections available to the user.<br/><br/>When used in session pooling, this setting limits the number of connections to every single host in PostgreSQL cluster. In this case, the setting's value must be greater than the total number of connections that backend services can open to access the PostgreSQL cluster. The setting's value should not exceed the value of the [Cluster.config.postgresql_config.max_connections] setting.<br/><br/>When used in transaction pooling, this setting limits the number of user's active transactions; therefore, in this mode user can open thousands of connections, but only 'N' concurrent connections will be opened, where 'N' is the value of the setting.<br/><br/>Minimum value: '10' (default: '50'), when used in session pooling.|
|`--deletion-protection`|Deletion Protection inhibits deletion of the user<br/><br/>Default value: 'unspecified' (inherits cluster's deletion_protection)|
|`--generate-password`|Generate password using Connection Manager.|
|`--grants`|<b>`strings`</b><br/>A set of roles and privileges that are granted to the user.<br/><br/>For more information, see [the documentation](https://yandex.cloud/ru/docs/managed-postgresql/operations/grant).|
|`--login`|This flag defines whether the user can login to a PostgreSQL database.<br/><br/>Default value: 'true' (login is allowed).|
|`--password`|<b>`string`</b><br/>New password for the user.|
|`--permissions`|<b>`shorthand/json`</b><br/>Set of permissions granted to the user to access specific databases.<br/><br/>Example:<br/>--permissions [{database-name=value}]<br/><br/>Shorthand Syntax:<br/>[{database-name=str},...]<br/>Fields:<br/>database-name  string  — Name of the database that the permission grants access to.<br/>|
|`--settings`|<b>`shorthand/json`</b><br/><br/>Example:|
|`--settings`|<b>`catchup-timeout=42,`</b><br/>default-transaction-isolation=TRANSACTION_ISOLATION_READ_UNCOMMITTED, idle-in-transaction-session-timeout=42, lock-timeout=42, log-min-duration-statement=42, log-statement=LOG_STATEMENT_NONE, pgaudit={log=PG_AUDIT_SETTINGS_LOG_READ}, pool-mode=SESSION, prepared-statements-pooling=true, statement-timeout=42, synchronous-commit=SYNCHRONOUS_COMMIT_ON, temp-file-limit=42, wal-sender-timeout=42<br/><br/>Shorthand Syntax:<br/>{catchup-timeout=int, default-transaction-isolation=TRANSACTION_ISOLATION_READ_UNCOMMITTED\|TRANSACTION_ISOLATION_READ_COMMITTED\|TRANSACTION_ISOLATION_REPEATABLE_READ\|TRANSACTION_ISOLATION_SERIALIZABLE, idle-in-transaction-session-timeout=int, lock-timeout=int, log-min-duration-statement=int, log-statement=LOG_STATEMENT_NONE\|LOG_STATEMENT_DDL\|LOG_STATEMENT_MOD\|LOG_STATEMENT_ALL, pgaudit={log=PG_AUDIT_SETTINGS_LOG_READ\|PG_AUDIT_SETTINGS_LOG_WRITE\|PG_AUDIT_SETTINGS_LOG_FUNCTION\|PG_AUDIT_SETTINGS_LOG_ROLE\|PG_AUDIT_SETTINGS_LOG_DDL\|PG_AUDIT_SETTINGS_LOG_MISC\|PG_AUDIT_SETTINGS_LOG_MISC_SET,...}, pool-mode=SESSION\|TRANSACTION\|STATEMENT, prepared-statements-pooling=bool, statement-timeout=int, synchronous-commit=SYNCHRONOUS_COMMIT_ON\|SYNCHRONOUS_COMMIT_OFF\|SYNCHRONOUS_COMMIT_LOCAL\|SYNCHRONOUS_COMMIT_REMOTE_WRITE\|SYNCHRONOUS_COMMIT_REMOTE_APPLY, temp-file-limit=int, wal-sender-timeout=int}<br/>Fields:<br/>catchup-timeout                      int                                                                                                                                                         — The connection pooler setting. It determines the maximum allowed replication lag (in seconds).<br/>Pooler will reject connections to the replica with a lag above this threshold.<br/>It can be useful to prevent application from reading stale data.<br/><br/>Default value: 0<br/><br/>Value of '0' disables this mechanism<br/>default-transaction-isolation        enum<TRANSACTION_ISOLATION_READ_COMMITTED\|TRANSACTION_ISOLATION_READ_UNCOMMITTED\|TRANSACTION_ISOLATION_REPEATABLE_READ\|TRANSACTION_ISOLATION_SERIALIZABLE>  — SQL sets an isolation level for each transaction.<br/>This setting defines the default isolation level to be set for all new SQL transactions.<br/><br/>For more information, see the [PostgreSQL documentation](https://www.postgresql.org/docs/current/transaction-iso.html).<br/>idle-in-transaction-session-timeout  int                                                                                                                                                         — Sets the maximum allowed idle time, in milliseconds, between queries while in a transaction.<br/><br/>The default value is '0', which disables the timeout.<br/><br/>For more information, see the [PostgreSQL documentation](https://www.postgresql.org/docs/current/runtime-config-client.html).<br/>lock-timeout                         int                                                                                                                                                         — The maximum time (in milliseconds) for any statement to wait for acquiring a lock on an table, index, row or other database object.<br/>If the wait time is longer than the specified amount, then this statement is aborted.<br/><br/>Default value: '0' (no control is enforced, a statement waiting time is unlimited).<br/>log-min-duration-statement           int                                                                                                                                                         — This setting controls logging of the duration of statements.<br/><br/>The duration of each completed statement will be logged if the statement ran for at least the specified amount of time (in milliseconds).<br/>E.g., if this setting's value is set to '500', a statement that took 300 milliseconds to complete will not be logged; on the other hand, the one that took 2000 milliseconds to complete, will be logged.<br/><br/>Value of '0' forces PostgreSQL to log the duration of all statements.<br/><br/>Value of '-1' (default) disables logging of the duration of statements.<br/><br/>For more information, see the [PostgreSQL documentation](https://www.postgresql.org/docs/current/runtime-config-logging.html).<br/>log-statement                        enum<LOG_STATEMENT_ALL\|LOG_STATEMENT_DDL\|LOG_STATEMENT_MOD\|LOG_STATEMENT_NONE>                                                                              — This setting specifies which SQL statements should be logged (on the user level).<br/><br/>For more information, see the [PostgreSQL documentation](https://www.postgresql.org/docs/current/runtime-config-logging.html).<br/>pgaudit                              struct                                                                                                                                                      — Settings of the [PostgreSQL Audit Extension](https://www.pgaudit.org/) (pgaudit).<br/>log  []int  — Defines which user queries will be written to the audit log. Corresponds to the [Pg audit log](https://yandex.cloud/en/docs/managed-postgresql/concepts/settings-list#setting-pg-audit-log) user setting.<br/><br/>The possible values are the following:<br/><br/>* PG_AUDIT_SETTINGS_LOG_READ: 'SELECT' and 'COPY' queries are logged if the data source is a relation or query.<br/>* PG_AUDIT_SETTINGS_LOG_WRITE: 'INSERT', 'UPDATE', 'DELETE', 'TRUNCATE', and 'COPY' queries are logged if the data target is a relation.<br/>* PG_AUDIT_SETTINGS_LOG_FUNCTION: Function invocations and 'DO' sections are logged.<br/>* PG_AUDIT_SETTINGS_LOG_ROLE: Statements related to role and privilege management, such as 'GRANT', 'REVOKE', or 'CREATE/ALTER/DROP ROLE', are logged.<br/>* PG_AUDIT_SETTINGS_LOG_DDL: Any 'DDL' statements that do not belong to the 'ROLE' class are logged.<br/>* PG_AUDIT_SETTINGS_LOG_MISC: Miscellaneous commands, such as 'DISCARD', 'FETCH', 'CHECKPOINT', 'VACUUM', and 'SET', are logged.<br/>* PG_AUDIT_SETTINGS_LOG_MISC_SET: Miscellaneous 'SET' commands, e.g., 'SET ROLE', are logged.<br/><br/>The default value is PG_AUDIT_SETTINGS_LOG_UNSPECIFIED. In this case, the parameter is not configured.<br/>pool-mode                            enum<SESSION\|STATEMENT\|TRANSACTION>                                                                                                                         — Mode that the connection pooler is working in with specified user.<br/><br/>For more information, see the [Odyssey documentation](https://github.com/yandex/odyssey/blob/master/documentation/configuration.md#pool-string).<br/>prepared-statements-pooling          bool                                                                                                                                                        — User can use prepared statements with transaction pooling.<br/><br/>For more information, see the [PostgreSQL documentation](https://www.postgresql.org/docs/current/sql-prepare.html).<br/>statement-timeout                    int                                                                                                                                                         — The maximum time (in milliseconds) to wait for statement.<br/>The timeout is measured from the time a command arrives at the server until it is completed by the server.<br/><br/>If 'log_min_error_statement' is set to ERROR or lower, the statement that timed out will also be logged.<br/><br/>Value of '0' (default) disables the timeout<br/><br/>For more information, see the [PostgreSQL documentation](https://www.postgresql.org/docs/current/runtime-config-client.html).<br/>synchronous-commit                   enum<SYNCHRONOUS_COMMIT_LOCAL\|SYNCHRONOUS_COMMIT_OFF\|SYNCHRONOUS_COMMIT_ON\|SYNCHRONOUS_COMMIT_REMOTE_APPLY\|SYNCHRONOUS_COMMIT_REMOTE_WRITE>                 — This setting defines whether DBMS will commit transaction in a synchronous way.<br/><br/>When synchronization is enabled, cluster waits for the synchronous operations to be completed prior to reporting 'success' to the client.<br/>These operations guarantee different levels of the data safety and visibility in the cluster.<br/><br/>For more information, see the [PostgreSQL documentation](https://www.postgresql.org/docs/current/runtime-config-wal.html#GUC-SYNCHRONOUS-COMMIT).<br/>temp-file-limit                      int                                                                                                                                                         — The maximum storage space size (in kilobytes) that a single process can use to create temporary files.<br/>If a transaction exceeds this limit during execution, it will be aborted.<br/><br/>A huge query may not fit into a server's RAM, therefore PostgreSQL will use some storage to store and execute such a query. Too big queries can make excessive use of the storage system, effectively making other quieries to run slow. This setting prevents execution of a big queries that can influence other queries by limiting size of temporary files.<br/>wal-sender-timeout                   int                                                                                                                                                         — The maximum time (in milliseconds) to wait for WAL replication (can be set only for PostgreSQL 12+)<br/>Terminate replication connections that are inactive for longer than this amount of time.<br/><br/>Default value: '60000' (60 seconds).<br/><br/>Value of '0' disables the timeout mechanism.<br/><br/>For more information, see the [PostgreSQL documentation](https://www.postgresql.org/docs/current/runtime-config-replication.html).<br/>|
|`--user-name`|<b>`string`</b><br/>Name of the user to be updated.<br/>To get the name of the user use a [UserService.List] request.|
|`--user-password-encryption`|<b>`enum`</b><br/>New password-based authentication method for user.<br/>Possible values are '' USER_PASSWORD_ENCRYPTION_MD5 '' or '' USER_PASSWORD_ENCRYPTION_SCRAM_SHA_256 ''. Possible Values: 'user-password-encryption-md5', 'user-password-encryption-scram-sha-256'|
|`--async`|Display information about the operation in progress, without waiting for the operation to complete.|

#### Global Flags

| Flag | Description |
|----|----|
|`--profile`|<b>`string`</b><br/>Set the custom profile.|
|`--region`|<b>`string`</b><br/>Set the region.|
|`--debug`|Debug logging.|
|`--debug-grpc`|Debug gRPC logging. Very verbose, used for debugging connection problems.|
|`--no-user-output`|Disable printing user intended output to stderr.|
|`--pager`|<b>`string`</b><br/>Set the custom pager.|
|`--format`|<b>`string`</b><br/>Set the output format: text, yaml, json, table, json-rest.|
|`--retry`|<b>`int`</b><br/>Enable gRPC retries. By default, retries are enabled with maximum 5 attempts.<br/>Pass 0 to disable retries. Pass any negative value for infinite retries.<br/>Even infinite retries are capped with 2 minutes timeout.|
|`--timeout`|<b>`string`</b><br/>Set the timeout.|
|`--token`|<b>`string`</b><br/>Set the IAM token to use.|
|`--impersonate-service-account-id`|<b>`string`</b><br/>Set the ID of the service account to impersonate.|
|`--no-browser`|Disable opening browser for authentication.|
|`--query`|<b>`string`</b><br/>Query to select values from the response using jq syntax|
|`-h`,`--help`|Display help for the command.|
