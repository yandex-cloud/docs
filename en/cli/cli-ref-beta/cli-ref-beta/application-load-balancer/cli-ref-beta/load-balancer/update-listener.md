---
editable: false
noIndex: true
sourcePath: en/_cli-ref-beta/cli-ref-beta/application-load-balancer/cli-ref-beta/load-balancer/update-listener.md
---

# yc beta application-load-balancer load-balancer update-listener

Updates the specified listener of the specified application load balancer.

#### Command Usage

Syntax: 

`yc beta application-load-balancer load-balancer update-listener <LOAD-BALANCER-ID>`

#### Flags

| Flag | Description |
|----|----|
|`--listener-spec`|<b>`shorthand/json`</b><br/>New attributes of the listener.<br/>Shorthand Syntax:<br/>{<br/>endpoint-specs = [<br/>{<br/>address-specs = [<br/>{<br/>address-spec = external-ipv4-address-spec={<br/>address = str<br/>} \| external-ipv6-address-spec={<br/>address = str<br/>} \| internal-ipv4-address-spec={<br/>address = str,<br/>subnet-id = str<br/>}<br/>}, ...<br/>],<br/>ports = int,...<br/>}, ...<br/>],<br/>listener = http={<br/>handler = {<br/>http-router-id = str,<br/>protocol-settings = allow-http10=bool \| http2-options={<br/>max-concurrent-streams = int<br/>},<br/>rewrite-request-id = bool<br/>},<br/>redirects = {<br/>http-to-https = bool<br/>}<br/>} \| stream={<br/>handler = {<br/>backend-group-id = str,<br/>idle-timeout = duration<br/>}<br/>} \| tls={<br/>default-handler = {<br/>certificate-ids = str,...,<br/>handler = http-handler={<br/>http-router-id = str,<br/>protocol-settings = allow-http10=bool \| http2-options={<br/>max-concurrent-streams = int<br/>},<br/>rewrite-request-id = bool<br/>} \| stream-handler={<br/>backend-group-id = str,<br/>idle-timeout = duration<br/>}<br/>},<br/>sni-handlers = [<br/>{<br/>handler = {<br/>certificate-ids = str,...,<br/>handler = http-handler={<br/>http-router-id = str,<br/>protocol-settings = allow-http10=bool \| http2-options={<br/>max-concurrent-streams = int<br/>},<br/>rewrite-request-id = bool<br/>} \| stream-handler={<br/>backend-group-id = str,<br/>idle-timeout = duration<br/>}<br/>},<br/>name = str,<br/>server-names = str,...<br/>}, ...<br/>]<br/>},<br/>name = str<br/>}<br/>JSON Syntax:<br/>"{<br/>"endpoint-specs": [<br/>{<br/>"address-specs": [<br/>{<br/>"address-spec": {<br/>"external-ipv4-address-spec": {<br/>"address": "str"<br/>},<br/>"external-ipv6-address-spec": {<br/>"address": "str"<br/>},<br/>"internal-ipv4-address-spec": {<br/>"address": "str",<br/>"subnet-id": "str"<br/>}<br/>}<br/>}, ...<br/>],<br/>"ports": [<br/>"int", ...<br/>]<br/>}, ...<br/>],<br/>"listener": {<br/>"http": {<br/>"handler": {<br/>"http-router-id": "str",<br/>"protocol-settings": {<br/>"allow-http10": "bool",<br/>"http2-options": {<br/>"max-concurrent-streams": "int"<br/>}<br/>},<br/>"rewrite-request-id": "bool"<br/>},<br/>"redirects": {<br/>"http-to-https": "bool"<br/>}<br/>},<br/>"stream": {<br/>"handler": {<br/>"backend-group-id": "str",<br/>"idle-timeout": "duration"<br/>}<br/>},<br/>"tls": {<br/>"default-handler": {<br/>"certificate-ids": [<br/>"str", ...<br/>],<br/>"handler": {<br/>"http-handler": {<br/>"http-router-id": "str",<br/>"protocol-settings": {<br/>"allow-http10": "bool",<br/>"http2-options": {<br/>"max-concurrent-streams": "int"<br/>}<br/>},<br/>"rewrite-request-id": "bool"<br/>},<br/>"stream-handler": {<br/>"backend-group-id": "str",<br/>"idle-timeout": "duration"<br/>}<br/>}<br/>},<br/>"sni-handlers": [<br/>{<br/>"handler": {<br/>"certificate-ids": [<br/>"str", ...<br/>],<br/>"handler": {<br/>"http-handler": {<br/>"http-router-id": "str",<br/>"protocol-settings": {<br/>"allow-http10": "bool",<br/>"http2-options": {<br/>"max-concurrent-streams": "int"<br/>}<br/>},<br/>"rewrite-request-id": "bool"<br/>},<br/>"stream-handler": {<br/>"backend-group-id": "str",<br/>"idle-timeout": "duration"<br/>}<br/>}<br/>},<br/>"name": "str",<br/>"server-names": [<br/>"str", ...<br/>]<br/>}, ...<br/>]<br/>}<br/>},<br/>"name": "str"<br/>}"<br/>Fields:<br/>endpoint-specs -> ([]struct)<br/>Endpoints of the listener. Endpoints are defined by their IP addresses and ports.<br/>address-specs -> ([]struct)<br/>Endpoint public (external) and internal addresses.<br/>address-spec -> (oneof<external-ipv4-address-spec\|external-ipv6-address-spec\|internal-ipv4-address-spec>)<br/>Oneof address-spec field<br/>external-ipv4-address-spec -> (struct)<br/>Public IPv4 endpoint address.<br/>address -> (string)<br/>IPv4 address.<br/>internal-ipv4-address-spec -> (struct)<br/>Internal IPv4 endpoint address. To enable the use of listeners with internal addresses, documentation.<br/>address -> (string)<br/>IPv4 address.<br/>subnet-id -> (string)<br/>ID of the subnet that the address belongs to.<br/>external-ipv6-address-spec -> (struct)<br/>Public IPv6 endpoint address.<br/>address -> (string)<br/>IPv6 address.<br/>ports -> ([]int)<br/>Endpoint ports.<br/>name -> (string)<br/>Name of the listener. The name is unique within the application load balancer.<br/>listener -> (oneof<http\|stream\|tls>)<br/>Oneof listener field<br/>http -> (struct)<br/>Unencrypted HTTP listener settings.<br/>handler -> (struct)<br/>Settings for handling HTTP requests. Only one of 'handler' and [redirects] can be specified.<br/>http-router-id -> (string)<br/>ID of the HTTP router processing requests. For details about the concept, see documentation. To get the list of all available HTTP routers, make a [HttpRouterService.List] request.<br/>rewrite-request-id -> (bool)<br/>When unset, will preserve the incoming x-request-id header, otherwise would rewrite it with a new value.<br/>protocol-settings -> (oneof<allow-http10\|http2-options>)<br/>Oneof protocol-settings field<br/>http2-options -> (struct)<br/>HTTP/2 settings. If specified, incoming HTTP/2 requests are supported by the listener.<br/>max-concurrent-streams -> (int)<br/>Maximum number of concurrent HTTP/2 streams in a connection.<br/>allow-http10 -> (bool)<br/>Enables support for incoming HTTP/1.0 and HTTP/1.1 requests and disables it for HTTP/2 requests.<br/>redirects -> (struct)<br/>Redirects settings. Only one of 'redirects' and [handler] can be specified.<br/>http-to-https -> (bool)<br/>Redirects all unencrypted HTTP requests to the same URI with scheme changed to 'https'. The setting has the same effect as a single, catch-all [HttpRoute] with [RedirectAction.replace_scheme] set to 'https'.<br/>tls -> (struct)<br/>TLS-encrypted HTTP or TCP stream listener settings. All handlers within a listener ([TlsListener.default_handler] and [TlsListener.sni_handlers]) must be of one type, [HttpHandler] or [StreamHandler]. Mixing HTTP and TCP stream traffic in a TLS-encrypted listener is not supported.<br/>default-handler -> (struct)<br/>Settings for handling requests by default, with Server Name Indication (SNI) not matching any of the [sni_handlers].<br/>certificate-ids -> ([]string)<br/>ID's of the TLS server certificates from documentation. RSA and ECDSA certificates are supported, and only the first certificate of each type is used.<br/>handler -> (oneof<http-handler\|stream-handler>)<br/>Oneof handler field<br/>http-handler -> (struct)<br/>HTTP handler.<br/>http-router-id -> (string)<br/>ID of the HTTP router processing requests. For details about the concept, see documentation. To get the list of all available HTTP routers, make a [HttpRouterService.List] request.<br/>rewrite-request-id -> (bool)<br/>When unset, will preserve the incoming x-request-id header, otherwise would rewrite it with a new value.<br/>protocol-settings -> (oneof<allow-http10\|http2-options>)<br/>Oneof protocol-settings field<br/>http2-options -> (struct)<br/>HTTP/2 settings. If specified, incoming HTTP/2 requests are supported by the listener.<br/>max-concurrent-streams -> (int)<br/>Maximum number of concurrent HTTP/2 streams in a connection.<br/>allow-http10 -> (bool)<br/>Enables support for incoming HTTP/1.0 and HTTP/1.1 requests and disables it for HTTP/2 requests.<br/>stream-handler -> (struct)<br/>Stream (TCP) handler.<br/>backend-group-id -> (string)<br/>ID of the backend group processing requests. For details about the concept, see documentation. The backend group type, specified via [BackendGroup.backend], must be 'stream'. To get the list of all available backend groups, make a [BackendGroupService.List] request.<br/>idle-timeout -> (duration)<br/>The idle timeout is duration during which no data is transmitted or received on either the upstream or downstream connection. If not configured, the default idle timeout is 1 hour. Setting it to 0 disables the timeout.<br/>sni-handlers -> ([]struct)<br/>Settings for handling requests with Server Name Indication (SNI) matching one of [SniMatch.server_names] values.<br/>handler -> (struct)<br/>Settings for handling requests with Server Name Indication (SNI) matching one of [server_names] values.<br/>certificate-ids -> ([]string)<br/>ID's of the TLS server certificates from documentation. RSA and ECDSA certificates are supported, and only the first certificate of each type is used.<br/>handler -> (oneof<http-handler\|stream-handler>)<br/>Oneof handler field<br/>http-handler -> (struct)<br/>HTTP handler.<br/>http-router-id -> (string)<br/>ID of the HTTP router processing requests. For details about the concept, see documentation. To get the list of all available HTTP routers, make a [HttpRouterService.List] request.<br/>rewrite-request-id -> (bool)<br/>When unset, will preserve the incoming x-request-id header, otherwise would rewrite it with a new value.<br/>protocol-settings -> (oneof<allow-http10\|http2-options>)<br/>Oneof protocol-settings field<br/>http2-options -> (struct)<br/>HTTP/2 settings. If specified, incoming HTTP/2 requests are supported by the listener.<br/>max-concurrent-streams -> (int)<br/>Maximum number of concurrent HTTP/2 streams in a connection.<br/>allow-http10 -> (bool)<br/>Enables support for incoming HTTP/1.0 and HTTP/1.1 requests and disables it for HTTP/2 requests.<br/>stream-handler -> (struct)<br/>Stream (TCP) handler.<br/>backend-group-id -> (string)<br/>ID of the backend group processing requests. For details about the concept, see documentation. The backend group type, specified via [BackendGroup.backend], must be 'stream'. To get the list of all available backend groups, make a [BackendGroupService.List] request.<br/>idle-timeout -> (duration)<br/>The idle timeout is duration during which no data is transmitted or received on either the upstream or downstream connection. If not configured, the default idle timeout is 1 hour. Setting it to 0 disables the timeout.<br/>name -> (string)<br/>Name of the SNI handler.<br/>server-names -> ([]string)<br/>Server names that are matched by the SNI handler.<br/>stream -> (struct)<br/>Unencrypted stream (TCP) listener settings.<br/>handler -> (struct)<br/>Settings for handling stream (TCP) requests.<br/>backend-group-id -> (string)<br/>ID of the backend group processing requests. For details about the concept, see documentation. The backend group type, specified via [BackendGroup.backend], must be 'stream'. To get the list of all available backend groups, make a [BackendGroupService.List] request.<br/>idle-timeout -> (duration)<br/>The idle timeout is duration during which no data is transmitted or received on either the upstream or downstream connection. If not configured, the default idle timeout is 1 hour. Setting it to 0 disables the timeout.|
|`--load-balancer-id`|<b>`string`</b><br/>ID of the application load balancer to update the listener in.|
|`--async`|Display information about the operation in progress, without waiting for the operation to complete.|

#### Global Flags

| Flag | Description |
|----|----|
|`--profile`|<b>`string`</b><br/>Set the custom profile.|
|`--region`|<b>`string`</b><br/>Set the region.|
|`--debug`|Debug logging.|
|`--debug-grpc`|Debug gRPC logging. Very verbose, used for debugging connection problems.|
|`--no-user-output`|Disable printing user intended output to stderr.|
|`--pager`|<b>`string`</b><br/>Set the custom pager.|
|`--format`|<b>`string`</b><br/>Set the output format: text, yaml, json, table, json-rest.|
|`--retry`|<b>`int`</b><br/>Enable gRPC retries. By default, retries are enabled with maximum 5 attempts.<br/>Pass 0 to disable retries. Pass any negative value for infinite retries.<br/>Even infinite retries are capped with 2 minutes timeout.|
|`--timeout`|<b>`string`</b><br/>Set the timeout.|
|`--token`|<b>`string`</b><br/>Set the IAM token to use.|
|`--impersonate-service-account-id`|<b>`string`</b><br/>Set the ID of the service account to impersonate.|
|`--no-browser`|Disable opening browser for authentication.|
|`--query`|<b>`string`</b><br/>Query to select values from the response using jq syntax|
|`-h`,`--help`|Display help for the command.|
