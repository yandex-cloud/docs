# Yandex Cloud Skills для Claude Code

Этот репозиторий содержит специализированные навыки (skills) и команды для работы с Yandex Cloud в Claude Code.

## Содержание

- [Навыки (Skills)](#навыки-skills)
- [Команды (Commands)](#команды-commands)
- [Установка](#установка)
- [Использование](#использование)
- [Примеры](#примеры)

## Навыки (Skills)

### `yandex-cloud` - Основной навык для работы с Yandex Cloud

Комплексный навык, предоставляющий экспертные знания по всем сервисам и инструментам Yandex Cloud.

**Активация:**
```
В чате Claude Code просто упомяните задачу, связанную с Yandex Cloud, и навык автоматически подключится.
```

**Возможности:**

1. **Автоматизация развёртывания**
   - Создание и управление виртуальными машинами
   - Настройка Kubernetes кластеров
   - Развёртывание serverless приложений
   - CI/CD интеграции

2. **Мониторинг и логирование**
   - Настройка Yandex Monitoring
   - Работа с Yandex Logging
   - Настройка алертов
   - Анализ метрик и логов

3. **Управление конфигурацией**
   - Terraform конфигурации
   - Работа с Lockbox (секреты)
   - Версионирование инфраструктуры

4. **Работа с сервисами**
   - Compute Cloud
   - Managed Kubernetes
   - Object Storage
   - Managed Databases (PostgreSQL, MySQL, ClickHouse, и др.)
   - VPC и сетевые сервисы
   - AI/ML сервисы (DataSphere, SpeechKit, Vision)
   - И многое другое (более 100 сервисов)

5. **Безопасность**
   - IAM политики
   - Security Groups
   - KMS и шифрование
   - Audit Trails

6. **Оптимизация затрат**
   - Анализ использования ресурсов
   - Рекомендации по экономии
   - Preemptible VM и другие оптимизации

## Команды (Commands)

### `/yc-setup` - Настройка Yandex Cloud CLI

Помогает установить и настроить Yandex Cloud CLI (`yc`).

**Использование:**
```
/yc-setup
```

**Что делает:**
- Проверяет установку CLI
- Помогает с установкой для вашей ОС
- Настраивает профили
- Проверяет доступ к облаку

### `/yc-search-docs` - Поиск в документации

Быстрый поиск информации по сервисам Yandex Cloud в локальной документации.

**Использование:**
```
/yc-search-docs
```

**Что делает:**
- Поиск по всем сервисам
- Находит примеры использования
- Показывает CLI и API справку
- Предоставляет ссылки на детальную документацию

**Примеры запросов:**
- "Как создать VM?"
- "Как подключиться к PostgreSQL?"
- "Настройка Kubernetes autoscaling"

### `/yc-create-terraform` - Генерация Terraform конфигурации

Создаёт готовую Terraform конфигурацию для вашей инфраструктуры.

**Использование:**
```
/yc-create-terraform
```

**Что делает:**
- Создаёт структуру проекта
- Генерирует конфигурацию ресурсов
- Добавляет переменные и outputs
- Следует best practices

**Поддерживаемые ресурсы:**
- VPC (networks, subnets, security groups)
- Compute instances
- Kubernetes clusters
- Managed databases
- Object Storage
- Load balancers
- И многое другое

### `/yc-troubleshoot` - Диагностика проблем

Помогает найти и решить проблемы с ресурсами Yandex Cloud.

**Использование:**
```
/yc-troubleshoot
```

**Что делает:**
- Проводит диагностику
- Проверяет IAM, сети, квоты
- Анализирует логи
- Предлагает решения

**Типичные сценарии:**
- Проблемы с доступом
- Сетевые проблемы
- VM не запускается
- Kubernetes pods в CrashLoop
- Проблемы с БД
- Ошибки в Object Storage

## Установка

Навыки и команды уже включены в этот репозиторий. Claude Code автоматически обнаружит их в директории `.claude/`.

**Структура:**
```
.claude/
├── README.md                    # Эта документация
├── skills/
│   └── yandex-cloud.md         # Основной навык
└── commands/
    ├── yc-setup.md             # Команда настройки CLI
    ├── yc-search-docs.md       # Команда поиска
    ├── yc-create-terraform.md  # Команда генерации Terraform
    └── yc-troubleshoot.md      # Команда диагностики
```

## Использование

### Базовая работа

Просто начните диалог с Claude Code и опишите вашу задачу:

```
"Помоги создать Kubernetes кластер в Yandex Cloud"
"Как настроить автоскейлинг для моего приложения?"
"Нужно развернуть PostgreSQL с репликацией"
```

Навык автоматически активируется и предоставит:
- Пошаговые инструкции
- Примеры команд
- Конфигурационные файлы
- Ссылки на документацию
- Best practices

### Использование команд

Для специфических задач используйте slash-команды:

**Пример 1: Настройка CLI**
```
/yc-setup
```
Claude проведет вас через процесс установки и настройки.

**Пример 2: Поиск документации**
```
/yc-search-docs

Затем: "Как работать с Container Registry?"
```

**Пример 3: Создание Terraform конфигурации**
```
/yc-create-terraform

Затем: "Нужно создать VM с PostgreSQL и Load Balancer"
```

**Пример 4: Решение проблем**
```
/yc-troubleshoot

Затем: "Мой pod в Kubernetes не может подключиться к БД"
```

## Примеры

### Пример 1: Создание веб-приложения на Kubernetes

```
Запрос: "Помоги развернуть веб-приложение на Kubernetes в Yandex Cloud"

Claude:
1. Создаст Kubernetes кластер
2. Настроит node group с автоскейлингом
3. Подготовит манифесты Deployment, Service, Ingress
4. Настроит Application Load Balancer
5. Добавит мониторинг и логирование
6. Предоставит команды для деплоя
```

### Пример 2: Миграция базы данных

```
Запрос: "Нужно перенести PostgreSQL в Managed PostgreSQL"

Claude:
1. Создаст Managed PostgreSQL кластер
2. Настроит сеть и security groups
3. Подготовит команды для бэкапа
4. Использует Data Transfer для миграции
5. Проверит целостность данных
6. Настроит мониторинг
```

### Пример 3: Infrastructure as Code

```
Запрос: "/yc-create-terraform - нужна инфраструктура для микросервисов"

Claude создаст:
- VPC с подсетями
- Kubernetes кластер
- Managed PostgreSQL
- Object Storage для статики
- Container Registry
- Application Load Balancer
- Мониторинг и логирование
- Полную Terraform конфигурацию с модулями
```

### Пример 4: Оптимизация затрат

```
Запрос: "Как уменьшить расходы на облако?"

Claude:
1. Проанализирует текущие ресурсы
2. Найдёт неиспользуемые ресурсы
3. Предложит использование preemptible VM
4. Настроит автоскейлинг
5. Оптимизирует размеры дисков и VM
6. Настроит lifecycle policies для S3
7. Предоставит оценку экономии
```

### Пример 5: Troubleshooting

```
Запрос: "/yc-troubleshoot - VM не доступна по SSH"

Claude:
1. Проверит статус VM
2. Проверит Security Groups
3. Проверит наличие публичного IP
4. Проверит SSH ключи в метаданных
5. Посмотрит serial port output
6. Предложит решение
```

## Лучшие практики

### 1. Безопасность

- Всегда используйте принцип наименьших привилегий для IAM
- Храните секреты в Lockbox, не в коде
- Используйте Security Groups для ограничения доступа
- Включайте шифрование для дисков и бакетов

### 2. Инфраструктура как код

- Используйте Terraform для всей инфраструктуры
- Версионируйте конфигурации в Git
- Храните state в Object Storage
- Используйте модули для переиспользования

### 3. Мониторинг

- Настраивайте логирование для всех сервисов
- Создавайте дашборды в Yandex Monitoring
- Настраивайте алерты для критичных событий
- Используйте Audit Trails для аудита

### 4. Экономия

- Используйте preemptible VM для некритичных задач
- Настраивайте автоскейлинг
- Удаляйте неиспользуемые ресурсы
- Используйте lifecycle policies для S3

### 5. Производительность

- Выбирайте правильные размеры ресурсов
- Используйте SSD диски где нужна производительность
- Настраивайте кеширование
- Используйте CDN для статического контента

## Поддержка

Если у вас есть вопросы или проблемы:

1. Используйте команду `/yc-troubleshoot` для диагностики
2. Обратитесь к локальной документации в `ru/` или `en/`
3. Посетите официальную документацию: https://yandex.cloud/docs
4. Обратитесь в техподдержку Yandex Cloud

## Дополнительные ресурсы

- [Официальная документация Yandex Cloud](https://yandex.cloud/docs)
- [Terraform Provider](https://registry.terraform.io/providers/yandex-cloud/yandex/latest/docs)
- [GitHub Yandex Cloud](https://github.com/yandex-cloud)
- [Yandex Cloud CLI](https://yandex.cloud/ru/docs/cli/)
- [Примеры и туториалы](https://yandex.cloud/ru/docs/tutorials/)

## Обновления

Навыки регулярно обновляются с учётом новых сервисов и функций Yandex Cloud. Документация синхронизируется с официальным репозиторием.

## Лицензия

Навыки и команды предоставляются "как есть" для использования с Claude Code в рамках работы с документацией Yandex Cloud.
